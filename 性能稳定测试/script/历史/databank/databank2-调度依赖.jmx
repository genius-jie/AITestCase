<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.1.1 r1855137">
  <hashTree>
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="Test Plan" enabled="true">
      <stringProp name="TestPlan.comments"></stringProp>
      <boolProp name="TestPlan.functional_mode">false</boolProp>
      <boolProp name="TestPlan.tearDown_on_shutdown">true</boolProp>
      <boolProp name="TestPlan.serialize_threadgroups">true</boolProp>
      <elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
        <collectionProp name="Arguments.arguments"/>
      </elementProp>
      <stringProp name="TestPlan.user_define_classpath"></stringProp>
    </TestPlan>
    <hashTree>
      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="false">
        <collectionProp name="HeaderManager.headers">
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">content-type</stringProp>
            <stringProp name="Header.value">application/json</stringProp>
          </elementProp>
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">Cache-Control</stringProp>
            <stringProp name="Header.value">no-cache</stringProp>
          </elementProp>
        </collectionProp>
      </HeaderManager>
      <hashTree/>
      <SetupThreadGroup guiclass="SetupThreadGroupGui" testclass="SetupThreadGroup" testname="前置条件" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </SetupThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-请求头" enabled="true">
          <collectionProp name="CookieManager.cookies">
            <elementProp name="token" elementType="Cookie" testname="token">
              <stringProp name="Cookie.value">${__P(token,)}</stringProp>
              <stringProp name="Cookie.domain">${__P(tenant.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
            <elementProp name="omp_token" elementType="Cookie" testname="omp_token">
              <stringProp name="Cookie.value">${omp_token}</stringProp>
              <stringProp name="Cookie.domain">${omp.url}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
          </collectionProp>
          <boolProp name="CookieManager.clearEachIteration">false</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置全局变量" enabled="true">
          <stringProp name="BeanShellSampler.query">String url=&quot;${__P(request.url)}&quot;;
//vars.put(&quot;url&quot;,url);
vars.put(&quot;url&quot;,&quot;testx&quot;);</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.56.159" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.56.159&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.56.159" enabled="true">
            <stringProp name="TestPlan.comments">//${__setProperty(omp.passwd,&quot;Tm9zNTc1Jg==&quot;,)};</stringProp>
            <stringProp name="BeanShellSampler.query">////调试用
${__setProperty(omp.url,10.1.56.159,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};
${__setProperty(omp.passwd,&quot;Tm9zNTc1Jg==&quot;,)};
${__setProperty(tenant.url,10.1.56.159,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.56.161&quot;,)};

${__setProperty(zkIp,&quot;10.1.56.159&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.56.159&quot;,)};
${__setProperty(mongoIp,&quot;10.1.56.161&quot;,)};
${__setProperty(password,&quot;Admin@123&quot;,)};
${__setProperty(kafkaIp,&quot;10.1.56.161&quot;,)};
${__setProperty(kafka_opt,&quot;opt&quot;,)};
${__setProperty(kafka_password,&quot;Uyun_123&quot;,)};
${__setProperty(mysql_password,&quot;Uyun_123&quot;,)};
${__setProperty(spark_password,&quot;Uyun_123&quot;,)};
${__setProperty(ifdisconf,false,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);
//用于前置条件-磁盘维护
vars.put(&quot;sparkips_1&quot;,&quot;10.1.56.161&quot;);
vars.put(&quot;sparkips_2&quot;,&quot;10.1.56.162&quot;);
vars.put(&quot;sparkips_3&quot;,&quot;10.1.56.163&quot;);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
          <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="磁盘清理" enabled="true">
            <stringProp name="ForeachController.inputVal">sparkips</stringProp>
            <stringProp name="ForeachController.returnVal">sparkip</stringProp>
            <boolProp name="ForeachController.useSeparator">true</boolProp>
            <stringProp name="ForeachController.startIndex">0</stringProp>
          </ForeachController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="hadoop清理文件" enabled="true">
              <stringProp name="command"> cd /opt/uyun/databank/hadoop/hadoop&amp;&amp;bin/hadoop dfsadmin -safemode leave &amp;&amp;bin/hdfs dfs -rm -r /uyun/databank/spark-logs/&amp;&amp;bin/hdfs dfs -rm -r /uyun/databank/SparkOnYarn/spark-logs&amp;&amp;bin/hdfs dfs -rm -r /uyun/udap&amp;&amp;bin/hdfs dfs -rm -r /tmp/logs/uyuntest/logs</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${sparkip}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${__BeanShell(${__P(spark_password,)},)}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
              <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings"/>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="spark清理文件" enabled="true">
              <stringProp name="command">rm /opt/uyun/databank/spark3/spark/work/* -rf</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${sparkip}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${__BeanShell(${__P(spark_password,)},)}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
              <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.56.163" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.56.163&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.56.163" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.56.163,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.62.16,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.56.163&quot;,)};
${__setProperty(hots_num,6,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.52.41" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.52.41&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
            <boolProp name="autocommit">true</boolProp>
            <stringProp name="checkQuery"></stringProp>
            <stringProp name="connectionAge">5000</stringProp>
            <stringProp name="dataSource">10.1.52.72</stringProp>
            <stringProp name="dbUrl">jdbc:mysql://10.1.52.72:3306/uyun_udap?allowMultiQueries=true</stringProp>
            <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
            <stringProp name="initQuery"></stringProp>
            <boolProp name="keepAlive">true</boolProp>
            <stringProp name="password">DBuser123!</stringProp>
            <stringProp name="poolMax">0</stringProp>
            <stringProp name="timeout">10000</stringProp>
            <stringProp name="transactionIsolation">DEFAULT</stringProp>
            <stringProp name="trimInterval">60000</stringProp>
            <stringProp name="username">dbuser</stringProp>
          </JDBCDataSource>
          <hashTree/>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.52.41" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.52.41,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};
${__setProperty(omp.passwd,&quot;Tm9zNTc1Jg==&quot;,)};

${__setProperty(tenant.url,10.1.52.4,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
	
${__setProperty(esIp,&quot;10.1.52.122&quot;,)};
${__setProperty(esport,&quot;9211&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.52.72&quot;,)};
${__setProperty(mongoIp,&quot;10.1.52.66&quot;,)};
${__setProperty(password,&quot;Admin@123&quot;,)};
${__setProperty(kafkaIp,&quot;10.1.52.51&quot;,)};
${__setProperty(kafka_opt,&quot;opt&quot;,)};
${__setProperty(kafka_password,&quot;dengxl_20220403&quot;,)};
${__setProperty(zkIp,&quot;10.1.52.63&quot;,)};
${__setProperty(mysql_password,&quot;dengxl_20220403&quot;,)};

${__setProperty(ifdisconf,false,)};
String url=&quot;${__P(request.url)}&quot;;
//用于前置条件-磁盘维护
vars.put(&quot;sparkips_1&quot;,&quot;10.1.52.78&quot;);
vars.put(&quot;sparkips_2&quot;,&quot;10.1.52.79&quot;);
vars.put(&quot;sparkips_3&quot;,&quot;10.1.52.80&quot;);
${__setProperty(spark_password,&quot;dengxl_20220403&quot;,)};

</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
          <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="磁盘清理" enabled="false">
            <stringProp name="ForeachController.inputVal">sparkips</stringProp>
            <stringProp name="ForeachController.returnVal">sparkip</stringProp>
            <boolProp name="ForeachController.useSeparator">true</boolProp>
            <stringProp name="ForeachController.startIndex">0</stringProp>
          </ForeachController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="hadoop清理文件" enabled="true">
              <stringProp name="command"> cd /opt/uyun/databank/hadoop/hadoop&amp;&amp;bin/hadoop dfsadmin -safemode leave &amp;&amp;bin/hdfs dfs -rm -r /uyun/databank/spark-logs/&amp;&amp;bin/hdfs dfs -rm -r /uyun/databank/SparkOnYarn/spark-logs&amp;&amp;bin/hdfs dfs -rm -r /uyun/udap&amp;&amp;bin/hdfs dfs -rm -r /tmp/logs/uyuntest/logs</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${sparkip}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${__BeanShell(${__P(spark_password,)},)}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
              <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings"/>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="spark清理文件" enabled="true">
              <stringProp name="command">rm /opt/uyun/databank/spark/spark/work/* -rf</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${sparkip}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${__BeanShell(${__P(spark_password,)},)}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
              <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.56.233" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.56.233&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.56.233" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.56.233,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};
${__setProperty(omp.passwd,&quot;Q3dkYWxrbmVoSjo+Pi8=&quot;,)};

${__setProperty(tenant.url,10.1.56.233,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
	
${__setProperty(esIp,&quot;10.1.56.240&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.56.234&quot;,)};
${__setProperty(mongoIp,&quot;10.1.56.233&quot;,)};
${__setProperty(password,&quot;Admin@123&quot;,)};
${__setProperty(kafkaIp,&quot;10.1.56.224&quot;,)};
${__setProperty(kafka_opt,&quot;opt&quot;,)};
${__setProperty(kafka_password,&quot;qazwsx@123!&quot;,)};
${__setProperty(zkIp,&quot;10.1.56.233&quot;,)};
${__setProperty(mysql_password,&quot;qazwsx@123!&quot;,)};

${__setProperty(ifdisconf,false,)};
String url=&quot;${__P(request.url)}&quot;;
//用于前置条件-磁盘维护
vars.put(&quot;sparkips_1&quot;,&quot;10.1.56.222&quot;);
vars.put(&quot;sparkips_2&quot;,&quot;10.1.56.223&quot;);
vars.put(&quot;sparkips_3&quot;,&quot;10.1.56.224&quot;);
${__setProperty(spark_password,&quot;qazwsx@123!&quot;,)};

</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
          <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="磁盘清理" enabled="true">
            <stringProp name="ForeachController.inputVal">sparkips</stringProp>
            <stringProp name="ForeachController.returnVal">sparkip</stringProp>
            <boolProp name="ForeachController.useSeparator">true</boolProp>
            <stringProp name="ForeachController.startIndex">0</stringProp>
          </ForeachController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="hadoop清理文件" enabled="true">
              <stringProp name="command"> cd /opt/uyun/databank/hadoop/hadoop&amp;&amp;bin/hadoop dfsadmin -safemode leave &amp;&amp;bin/hdfs dfs -rm -r /uyun/databank/spark-logs/&amp;&amp;bin/hdfs dfs -rm -r /uyun/databank/SparkOnYarn/spark-logs&amp;&amp;bin/hdfs dfs -rm -r /uyun/udap&amp;&amp;bin/hdfs dfs -rm -r /tmp/logs/uyuntest/logs</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${sparkip}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${__BeanShell(${__P(spark_password,)},)}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
              <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings"/>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">true</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="spark清理文件" enabled="true">
              <stringProp name="command">rm /opt/uyun/databank/spark/spark/work/* -rf</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${sparkip}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${__BeanShell(${__P(spark_password,)},)}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
              <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.61.101" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.61.101&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.61.101" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.61.101,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.61.101,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.62.136&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.61.101&quot;,)};
${__setProperty(mongoIp,&quot;10.1.61.149&quot;,)};
${__setProperty(ifdisconf,false,)};
${__setProperty(mongoIp,&quot;10.1.40.70&quot;,)};
${__setProperty(password,&quot;Admin@123&quot;,)};
${__setProperty(spark_password,&quot;broada123&quot;,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.60.234" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.60.234&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.60.234" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.60.234,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.60.234,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.60.234&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.60.234&quot;,)};
${__setProperty(mongoIp,&quot;10.1.60.234&quot;,)};
${__setProperty(ifdisconf,false,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.40.70" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.40.70&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.40.70" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.40.70,)};
${__setProperty(omp.protocol,https,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.40.70,)};
${__setProperty(tenant.protocol,https,)};
${__setProperty(tenant.port,7508,)};
${__setProperty(esIp,&quot;10.1.40.75&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.40.67&quot;,)};
${__setProperty(mongoIp,&quot;10.1.40.70&quot;,)};
${__setProperty(password,&quot;VUdxcWZPdEUvTFZ3VlJ3MUFGQVFwN0tDSlE1allpcmVHeDEzMk4yMERUeUdHblNuY1pQNGpFVjBCZ294MEcyUkFxbDB0SEoxQTJ1aVVEcjBmRk4veEl4RFczckN1NVFiTGpJTGRlNGY5THR4Q2RkMUxhSG8rY0t4M0JlajgvaHJsMG1xMzFVUzUzS1Y5S1VIZ1NFdDhPMWJtMkovMmNsN3gwWndXZVRZb0t3PQ==&quot;,)};
${__setProperty(ifdisconf,false,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.61.117" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.61.117&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.61.117" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.61.117,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.50.105,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.56.65&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.61.11&quot;,)};
${__setProperty(mongoIp,&quot;10.1.53.20&quot;,)};
${__setProperty(password,&quot;Admin@123&quot;,)};
${__setProperty(spark_password,&quot;4SKVCz2g12&quot;,)};
${__setProperty(ifdisconf,false,)};
${__setProperty(zkIp,&quot;10.1.50.105&quot;,)};
${__setProperty(kafkaIp,10.1.60.109,)};
${__setProperty(kafka_opt,&quot;opt&quot;,)};
${__setProperty(kafka_password,4SKVCz2g12,)};
${__setProperty(mysql_password,&quot;4SKVCz2g12&quot;,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是testx" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;testx&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="testx" enabled="true">
            <stringProp name="BeanShellSampler.query">////调试用
${__setProperty(omp.url,10.1.40.93,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};
${__setProperty(omp.passwd,&quot;Tm9zNTc1Jg==&quot;,)};

${__setProperty(tenant.url,10.1.40.81,)};
${__setProperty(tenant.protocol,https,)};
${__setProperty(tenant.port,7508,)};
${__setProperty(zkIp,&quot;10.1.40.27&quot;,)};
${__setProperty(esIp,&quot;10.1.40.89&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.40.81&quot;,)};
${__setProperty(mysql_password,&quot;qazwsx@123!&quot;,)};
${__setProperty(mongoIp,&quot;10.1.40.81&quot;,)};
${__setProperty(password,&quot;Testx@8378!&quot;,)};

${__setProperty(kafkaIp,&quot;10.1.40.86&quot;,)};
${__setProperty(kafka_password,&quot;qazwsx@123!&quot;,)};
${__setProperty(spark_password,&quot;4SKVCz2g12&quot;,)};
${__setProperty(ifdisconf,false,)};
${__setProperty(kafka_opt,&quot;app&quot;,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);
</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
          <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
            <boolProp name="autocommit">true</boolProp>
            <stringProp name="checkQuery"></stringProp>
            <stringProp name="connectionAge">5000</stringProp>
            <stringProp name="dataSource">10.1.40.81_mysql</stringProp>
            <stringProp name="dbUrl">jdbc:mysql://10.1.40.81:3306/uyun_udap?allowMultiQueries=true</stringProp>
            <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
            <stringProp name="initQuery"></stringProp>
            <boolProp name="keepAlive">true</boolProp>
            <stringProp name="password">Admin@123</stringProp>
            <stringProp name="poolMax">0</stringProp>
            <stringProp name="timeout">10000</stringProp>
            <stringProp name="transactionIsolation">DEFAULT</stringProp>
            <stringProp name="trimInterval">60000</stringProp>
            <stringProp name="username">zhang</stringProp>
          </JDBCDataSource>
          <hashTree/>
        </hashTree>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(tenant.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(tenant.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(tenant.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;email&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:${__P(password,)},&#xd;
	&quot;tenantId&quot;: &quot;e10adc3949ba59abbe56e057f20f88dd&quot;,&#xd;
	&quot;tenantStrategy&quot;: &quot;2&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/tenant/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">token</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;token&quot;:&quot;(.*?)&quot;</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default"></stringProp>
            <stringProp name="RegexExtractor.match_number">0</stringProp>
          </RegexExtractor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">${__setProperty(token,${token},)};

</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录omp" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:${__P(omp.passwd)}&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">true</stringProp>
            <stringProp name="RegexExtractor.refname">omp_token</stringProp>
            <stringProp name="RegexExtractor.regex">omp_token=(.*?);</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default"></stringProp>
            <stringProp name="RegexExtractor.match_number">1</stringProp>
            <boolProp name="RegexExtractor.default_empty_value">true</boolProp>
          </RegexExtractor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">${__setProperty(omp_token,&quot;${omp_token}&quot;,)};</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取apikey" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/tenant/serviceapi/api/v1/tenant/view?tenantId=e10adc3949ba59abbe56e057f20f88dd</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">false</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">apikey</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..apiKeys[0].key</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">e10adc3949ba59abbe56e057f20f88dd</stringProp>
            <stringProp name="Scope.variable"></stringProp>
            <stringProp name="Sample.scope">all</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">${__setProperty(apikey,&quot;${apikey}&quot;,)};</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="kafka主机java声明初始化" enabled="false">
          <stringProp name="command">javapath=`ps -ef |grep java|head -1|awk &apos;{print $8}&apos;`&amp;&amp;ln -fs $javapath /usr/local/bin/java</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${__BeanShell(${__P(kafkaIp,)},)}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${__BeanShell(${__P(kafka_password,)},)}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
          <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="依赖调度" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-请求头" enabled="true">
          <collectionProp name="CookieManager.cookies">
            <elementProp name="token" elementType="Cookie" testname="token">
              <stringProp name="Cookie.value">${__P(token,)}</stringProp>
              <stringProp name="Cookie.domain">${__P(tenant.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
            <elementProp name="omp_token" elementType="Cookie" testname="omp_token">
              <stringProp name="Cookie.value">${omp_token}</stringProp>
              <stringProp name="Cookie.domain">${omp.url}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
          </collectionProp>
          <boolProp name="CookieManager.clearEachIteration">false</boolProp>
        </CookieManager>
        <hashTree/>
        <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
          <collectionProp name="HeaderManager.headers">
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">content-type</stringProp>
              <stringProp name="Header.value">application/json; charset=UTF-8</stringProp>
            </elementProp>
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Cache-Control</stringProp>
              <stringProp name="Header.value">no-cache</stringProp>
            </elementProp>
          </collectionProp>
        </HeaderManager>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(tenant.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(tenant.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(tenant.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">vars.put(&quot;omp.protocol&quot;,&quot;${__P(omp.protocol,)}&quot;);
vars.put(&quot;omp.url&quot;,&quot;${__P(omp.url,)}&quot;);
vars.put(&quot;omp.port&quot;,&quot;${__P(omp.port,)}&quot;);
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;esport&quot;,${__P(esport,)});
vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;mysqlIp&quot;,${__P(mysqlIp,)});
vars.put(&quot;mysql_password&quot;,${__P(mysql_password,)});
vars.put(&quot;mongoIp&quot;,${__P(mongoIp,)});
vars.put(&quot;spark_password&quot;,${__P(spark_password,)});
vars.put(&quot;zkIp&quot;,${__P(zkIp,)});
vars.put(&quot;kafkaIp&quot;,${__P(kafkaIp,)});
vars.put(&quot;kafka_opt&quot;,${__P(kafka_opt,)});
vars.put(&quot;kafka_password&quot;,${__P(kafka_password,)});

vars.put(&quot;project&quot;,&quot;自动化项目&quot;);
vars.put(&quot;datasource&quot;,&quot;自动化mysql数据源管理区&quot;);//数据源jdbc
vars.put(&quot;datasetName&quot;,&quot;自动化明细模型之usql转换7&quot;);//数据集
vars.put(&quot;dataSync&quot;,&quot;自动化测试源_mysql_usql分析用4&quot;);</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新建项目" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">true</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/project/queryList?pageIndex=1&amp;pageSize=10&amp;keyword=自动化项目</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
Pattern pattern = Pattern.compile(&quot;${project}&quot;);
Matcher matcher = pattern.matcher(response_data);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;project_exist&quot;,count+&quot;&quot;);
</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${projectid}&quot;==&quot;0&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建自动化项目" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;projectName&quot;:&quot;自动化项目&quot;,&quot;projectCode&quot;:&quot;zlj_project&quot;,&quot;managerId&quot;:&quot;e10adc3949ba59abbe56e057f20f88dd&quot;,&quot;remark&quot;:&quot;自动化测试项目&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/project/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新增数据源" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">true</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/project/queryList?pageIndex=1&amp;pageSize=10&amp;keyword=自动化项目</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据源" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:100,&quot;keyword&quot;:&quot;${datasource}&quot;,&quot;bzIdentity&quot;:&quot;${projectid}&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/datasource/list</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
Pattern pattern = Pattern.compile(&quot;${datasource}&quot;);
Matcher matcher = pattern.matcher(response_data);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;datasource_exist&quot;,count+&quot;&quot;);
</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">datasourceId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..dsId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${datasourceId}&quot;==&quot;000&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新增数据源-联通性测试" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;type&quot;:&quot;MYSQL&quot;,&quot;connectInfo&quot;:&quot;{\&quot;jdbcUrl\&quot;:\&quot;jdbc:mysql://${mysqlIp}:33067/uyun_udap\&quot;,\&quot;username\&quot;:\&quot;zhang\&quot;,\&quot;password\&quot;:\&quot;CUYXABGVHL1TCjQCbUeGZQ==\&quot;}&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/datasource/connect/check</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1149187101">SUCCESS</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建自动化数据源" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;bzIdentity&quot;:&quot;${projectid}&quot;,&quot;type&quot;:&quot;MYSQL&quot;,&quot;category&quot;:&quot;Relation&quot;,&quot;name&quot;:&quot;${datasource}&quot;,&quot;connectInfo&quot;:&quot;{\&quot;jdbcUrl\&quot;:\&quot;jdbc:mysql://${mysqlIp}:33067/uyun_udap\&quot;,\&quot;username\&quot;:\&quot;zhang\&quot;,\&quot;password\&quot;:\&quot;CUYXABGVHL1TCjQCbUeGZQ==\&quot;}&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/datasource/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1097670700">{&quot;code&quot;:200,&quot;message&quot;:null,&quot;data&quot;:null}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新增数据集" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据集" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:100,&quot;keyword&quot;:&quot;&quot;,&quot;bizId&quot;:&quot;${projectid}&quot;,&quot;olapLayer&quot;:&quot;ODS&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/dataset/queryList</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">datasetid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..records[?(@.datasetName==&quot;${datasetName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="新增数据集" enabled="true">
            <stringProp name="IfController.condition">${datasetid}==&quot;000&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新增数据集" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;datasetName&quot;:&quot;${datasetName}&quot;,&quot;bizId&quot;:&quot;${projectid}&quot;,&quot;olapLayer&quot;:&quot;ODS&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/dataset/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新增数据同步" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">true</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据同步目录" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/catalog/queryList/${projectid}?catalogType=JOB</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;任务开发&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据集" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:100,&quot;keyword&quot;:&quot;&quot;,&quot;bizId&quot;:&quot;${projectid}&quot;,&quot;olapLayer&quot;:&quot;ODS&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/dataset/queryList</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">datasetid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..records[?(@.datasetName==&quot;${datasetName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">5000</stringProp>
            </ConstantTimer>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据源" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:100,&quot;keyword&quot;:&quot;${datasource}&quot;,&quot;bzIdentity&quot;:&quot;${projectid}&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/datasource/list</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">datasourceId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..dsId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据同步" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/catalog/queryList/${projectid}?catalogType=JOB&amp;keyword=${dataSync}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">jobid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..jobList[?(@.datasetName==&quot;${datasetName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="新增数据同步" enabled="true">
            <stringProp name="IfController.condition">&quot;${jobid}&quot;==&quot;000&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新增数据同步" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;jobName&quot;:&quot;${dataSync}&quot;,&quot;jobType&quot;:&quot;SYNC&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;datasetId&quot;:&quot;${datasetid}&quot;,&quot;remark&quot;:&quot;${dataSync}&quot;,&quot;projectId&quot;:&quot;${projectid}&quot;,&quot;jobDetail&quot;:{&quot;syncStrategy&quot;:&quot;APPEND&quot;,&quot;syncType&quot;:&quot;DS&quot;}}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/job/sync/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">jobid</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存数据同步" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;datasetId&quot;:&quot;${datasetid}&quot;,&quot;jobId&quot;:&quot;${jobid}&quot;,&quot;runMode&quot;:&quot;period&quot;,&quot;lockType&quot;:&quot;TASK_LOCK&quot;,&quot;lockVersion&quot;:1,&quot;jobConfigDetail&quot;:{&quot;sink&quot;:{&quot;partitions&quot;:{&quot;fieldPartition&quot;:{&quot;enable&quot;:false,&quot;fields&quot;:&quot;&quot;},&quot;timePartition&quot;:{&quot;enable&quot;:false,&quot;timeUnit&quot;:&quot;day&quot;,&quot;eventTimePolicy&quot;:{&quot;enable&quot;:true,&quot;fields&quot;:&quot;&quot;}}},&quot;scheduler&quot;:{&quot;schedulingType&quot;:&quot;PAUSE&quot;,&quot;singleMode&quot;:{&quot;enable&quot;:true,&quot;delayDuration&quot;:null,&quot;delayDurationView&quot;:&quot;{}&quot;},&quot;retry&quot;:{}},&quot;runArgs&quot;:{&quot;jobArgs&quot;:{},&quot;envArgs&quot;:&quot;&quot;}},&quot;source&quot;:{&quot;dsId&quot;:&quot;${datasourceId}&quot;,&quot;table&quot;:&quot;t1&quot;,&quot;dbType&quot;:&quot;MYSQL&quot;},&quot;transform&quot;:{&quot;fieldMaps&quot;:[{&quot;sourceField&quot;:{&quot;code&quot;:&quot;id&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;id&quot;,&quot;order&quot;:1},&quot;targetField&quot;:{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:1}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;name&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;name&quot;,&quot;order&quot;:2},&quot;targetField&quot;:{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:2}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;age&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;age&quot;,&quot;order&quot;:3},&quot;targetField&quot;:{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:3}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;sex&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;order&quot;:4},&quot;targetField&quot;:{&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:4}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;hobby&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;order&quot;:5},&quot;targetField&quot;:{&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:5}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;classes&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;order&quot;:6},&quot;targetField&quot;:{&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:6}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;school&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;school&quot;,&quot;order&quot;:7},&quot;targetField&quot;:{&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:7}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;birthday&quot;,&quot;type&quot;:&quot;TIMESTAMP&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;order&quot;:8},&quot;targetField&quot;:{&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;order&quot;:8}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;costs&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;order&quot;:9},&quot;targetField&quot;:{&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:9}}],&quot;sourceFields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;id&quot;,&quot;order&quot;:1},{&quot;code&quot;:&quot;name&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;name&quot;,&quot;order&quot;:2},{&quot;code&quot;:&quot;age&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;age&quot;,&quot;order&quot;:3},{&quot;code&quot;:&quot;sex&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;order&quot;:4},{&quot;code&quot;:&quot;hobby&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;order&quot;:5},{&quot;code&quot;:&quot;classes&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;order&quot;:6},{&quot;code&quot;:&quot;school&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;school&quot;,&quot;order&quot;:7},{&quot;code&quot;:&quot;birthday&quot;,&quot;type&quot;:&quot;TIMESTAMP&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;order&quot;:8},{&quot;code&quot;:&quot;costs&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;order&quot;:9}],&quot;targetFields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:1},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:2},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:3},{&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:4},{&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:5},{&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:6},{&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:7},{&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;order&quot;:8},{&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:9}],&quot;analyzer&quot;:{&quot;increased&quot;:false,&quot;increasedConfig&quot;:{}},&quot;syncStrategy&quot;:&quot;APPEND&quot;}}}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/job/sync/save</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交数据同步" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;jobId&quot;:&quot;${jobid}&quot;,&quot;lockType&quot;:&quot;TASK_LOCK&quot;,&quot;lockVersion&quot;:1,&quot;submitRemark&quot;:&quot;自动化测试&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/job/submit</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="0.重新部署-完成" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">删除mysql数据库的数据，删除disconf上databank相关数据，</stringProp>
        </TransactionController>
        <hashTree>
          <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
            <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
            <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path"></stringProp>
            <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </ConfigTestElement>
          <hashTree/>
          <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-引入登录cookie" enabled="true">
            <collectionProp name="CookieManager.cookies">
              <elementProp name="omp_token" elementType="Cookie" testname="omp_token">
                <stringProp name="Cookie.value">${omp_token}</stringProp>
                <stringProp name="Cookie.domain">${omp.url}</stringProp>
                <stringProp name="Cookie.path"></stringProp>
                <boolProp name="Cookie.secure">false</boolProp>
                <longProp name="Cookie.expires">0</longProp>
                <boolProp name="Cookie.path_specified">true</boolProp>
                <boolProp name="Cookie.domain_specified">true</boolProp>
              </elementProp>
              <elementProp name="token" elementType="Cookie" testname="token">
                <stringProp name="Cookie.value">${tenant_token}</stringProp>
                <stringProp name="Cookie.domain">${tenant.url}</stringProp>
                <stringProp name="Cookie.path"></stringProp>
                <boolProp name="Cookie.secure">false</boolProp>
                <longProp name="Cookie.expires">0</longProp>
                <boolProp name="Cookie.path_specified">true</boolProp>
                <boolProp name="Cookie.domain_specified">true</boolProp>
              </elementProp>
            </collectionProp>
            <stringProp name="TestPlan.comments">根据前提设置OMP还是租户的登录</stringProp>
            <boolProp name="CookieManager.clearEachIteration">false</boolProp>
          </CookieManager>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置准备" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除配置文件-危险" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="删除ES模板-没必要了，后面卸载了" enabled="false">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">3</stringProp>
              </LoopController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="连接Linux删除ES模板" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/_template/${__V(elem${__counter(,)})}</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">10.1.61.101</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">broada123</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;elem1&quot;,&quot;udap_dw_dm&quot;);
vars.put(&quot;elem2&quot;,&quot;uyun_alert&quot;);
vars.put(&quot;elem3&quot;,&quot;uyun_event&quot;);</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="删除mongdb指标模型--没必要了，后面卸载了" enabled="false">
                <stringProp name="cacheKey">true</stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="script">import com.mongodb.*;
import java.util.Set;
import java.util.regex.Pattern;
MongoClient mongoClient = new MongoClient(
new MongoClientURI(&quot;mongodb://mongo:MongoDB_863*^#@${mongoIp}:27017&quot;));
DB db = mongoClient.getDB(&quot;indian&quot;);
Set collectionNames = db.getCollectionNames();

for (String collectionName : collectionNames) {
	System.out.println(collectionName);
//	boolean isMatch = Pattern.matches(&quot;^zlj.*&quot;, collectionName);
//	if (isMatch) {
//		System.out.println(&quot;删除集合&quot;);
//		DBCollection mongoCollection = db.getCollection(collectionName);
//		/** 删除当前集合，如果集合不存在，则不做任何处理，不会抛异常 */
//		mongoCollection.drop();
//	}
		DBCollection mongoCollection = db.getCollection(collectionName);
		/** 删除当前集合，如果集合不存在，则不做任何处理，不会抛异常 */
		mongoCollection.drop();
}</stringProp>
                <stringProp name="scriptLanguage">groovy</stringProp>
              </JSR223Sampler>
              <hashTree/>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除56.159环境的udap数据库" enabled="false">
                <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;mysqlIp&quot;) == &quot;10.1.56.159&quot; )}</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
                <boolProp name="IfController.useExpression">true</boolProp>
              </IfController>
              <hashTree>
                <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除mysql数据库" enabled="false">
                  <boolProp name="TransactionController.includeTimers">false</boolProp>
                  <boolProp name="TransactionController.parent">false</boolProp>
                </TransactionController>
                <hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="数据库配置" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">udap_mysql</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.56.159:3306?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">true</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库database" enabled="true">
                    <stringProp name="dataSource">udap_mysql</stringProp>
                    <stringProp name="query">drop database msphere;
drop database uyun_deploy;
drop database uyun_udap;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree>
                    <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                      <collectionProp name="Asserion.test_strings"/>
                      <stringProp name="Assertion.custom_message"></stringProp>
                      <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                      <boolProp name="Assertion.assume_success">true</boolProp>
                      <intProp name="Assertion.test_type">16</intProp>
                    </ResponseAssertion>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除disconf数据" enabled="false">
                  <stringProp name="IfController.condition">${__P(ifdisconf)}</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">disconf_mysql</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.56.159:3306/disconf?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">true</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库disconf" enabled="true">
                    <stringProp name="dataSource">disconf_mysql</stringProp>
                    <stringProp name="query">delete from  config  where name regexp &apos;databank|udap&apos; ;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames">name</stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除apollo数据" enabled="true">
                  <stringProp name="IfController.condition">!${__P(ifdisconf)}</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="apollo登录" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
                      <collectionProp name="CookieManager.cookies"/>
                      <boolProp name="CookieManager.clearEachIteration">false</boolProp>
                    </CookieManager>
                    <hashTree/>
                    <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="登录apollo" enabled="false">
                      <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                        <collectionProp name="Arguments.arguments">
                          <elementProp name="password" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">password</stringProp>
                            <stringProp name="Argument.value">Apollo@086)*^</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                          <elementProp name="login-submit" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">login-submit</stringProp>
                            <stringProp name="Argument.value">登录</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                          <elementProp name="username" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">username</stringProp>
                            <stringProp name="Argument.value">apollo</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                        </collectionProp>
                      </elementProp>
                      <stringProp name="HTTPSampler.domain">10.1.61.109</stringProp>
                      <stringProp name="HTTPSampler.port">7547</stringProp>
                      <stringProp name="HTTPSampler.protocol">http</stringProp>
                      <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                      <stringProp name="HTTPSampler.path">signin</stringProp>
                      <stringProp name="HTTPSampler.method">POST</stringProp>
                      <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                      <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                      <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                      <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                      <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                      <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                      <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    </HTTPSamplerProxy>
                    <hashTree>
                      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header manager" enabled="true">
                        <collectionProp name="HeaderManager.headers">
                          <elementProp name="Upgrade-Insecure-Requests" elementType="Header">
                            <stringProp name="Header.name">Upgrade-Insecure-Requests</stringProp>
                            <stringProp name="Header.value">1</stringProp>
                          </elementProp>
                          <elementProp name="Content-Type" elementType="Header">
                            <stringProp name="Header.name">Content-Type</stringProp>
                            <stringProp name="Header.value">application/x-www-form-urlencoded</stringProp>
                          </elementProp>
                          <elementProp name="Accept" elementType="Header">
                            <stringProp name="Header.name">Accept</stringProp>
                            <stringProp name="Header.value">text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</stringProp>
                          </elementProp>
                        </collectionProp>
                      </HeaderManager>
                      <hashTree/>
                      <UniformRandomTimer guiclass="UniformRandomTimerGui" testclass="UniformRandomTimer" testname="Uniform Random Timer" enabled="true">
                        <stringProp name="RandomTimer.range">12123.0</stringProp>
                        <stringProp name="ConstantTimer.delay">6061.5</stringProp>
                        <stringProp name="TestPlan.comments">Recorded time was 12123 milliseconds</stringProp>
                      </UniformRandomTimer>
                      <hashTree/>
                    </hashTree>
                    <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除apollo配置文件" enabled="false">
                      <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                        <collectionProp name="Arguments.arguments"/>
                      </elementProp>
                      <stringProp name="HTTPSampler.domain">10.1.61.109</stringProp>
                      <stringProp name="HTTPSampler.port">7547</stringProp>
                      <stringProp name="HTTPSampler.protocol">http</stringProp>
                      <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                      <stringProp name="HTTPSampler.path">apps/databank/envs/PRO/clusters/default/namespaces/databank-engine-mongodb</stringProp>
                      <stringProp name="HTTPSampler.method">DELETE</stringProp>
                      <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                      <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                      <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                      <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                      <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                      <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                      <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    </HTTPSamplerProxy>
                    <hashTree>
                      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header manager" enabled="true">
                        <collectionProp name="HeaderManager.headers">
                          <elementProp name="Accept" elementType="Header">
                            <stringProp name="Header.name">Accept</stringProp>
                            <stringProp name="Header.value">application/json, text/plain, */*</stringProp>
                          </elementProp>
                        </collectionProp>
                      </HeaderManager>
                      <hashTree/>
                      <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                        <collectionProp name="Asserion.test_strings"/>
                        <stringProp name="Assertion.custom_message"></stringProp>
                        <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                        <boolProp name="Assertion.assume_success">true</boolProp>
                        <intProp name="Assertion.test_type">16</intProp>
                      </ResponseAssertion>
                      <hashTree/>
                    </hashTree>
                  </hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">ApolloConfigDB</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.56.159:3306/ApolloConfigDB?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">false</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">ApolloPortalDB</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.56.159:3306/ApolloPortalDB?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">false</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库ApolloConfigDB" enabled="true">
                    <stringProp name="dataSource">ApolloConfigDB</stringProp>
                    <stringProp name="query">delete from  Instance  where AppId=&quot;databank&quot; ;
delete from InstanceConfig where ConfigAppId=&quot;databank&quot;;
delete from Namespace where AppId=&quot;databank&quot; and NamespaceName!=&quot;common&quot; and NamespaceName!=&quot;application&quot;;
delete from AppNamespace where AppId=&quot;databank&quot; and Name!=&quot;application&quot;;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库ApolloPortalDB" enabled="true">
                    <stringProp name="dataSource">ApolloPortalDB</stringProp>
                    <stringProp name="query">delete from AppNamespace where AppId=&quot;databank&quot; and Name!=&quot;application&quot;;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="ApolloConfigDB" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库apollo" enabled="true">
                      <stringProp name="dataSource">ApolloConfigDB</stringProp>
                      <stringProp name="query">delete from Namespace where NamespaceName=&quot;databank-engine-mongodb&quot; and NamespaceName!=&quot;common&quot;;
delete from AppNamespace where Name=&quot;databank-engine-mongodb&quot;;</stringProp>
                      <stringProp name="queryArguments"></stringProp>
                      <stringProp name="queryArgumentsTypes"></stringProp>
                      <stringProp name="queryTimeout"></stringProp>
                      <stringProp name="queryType">Callable Statement</stringProp>
                      <stringProp name="resultSetHandler">Store as String</stringProp>
                      <stringProp name="resultVariable"></stringProp>
                      <stringProp name="variableNames"></stringProp>
                    </JDBCSampler>
                    <hashTree/>
                  </hashTree>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="ApolloPortalDB" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库apollo" enabled="false">
                      <stringProp name="dataSource">ApolloPortalDB</stringProp>
                      <stringProp name="query">delete from AppNamespace where Name=&quot;databank-engine-mongodb&quot;;</stringProp>
                      <stringProp name="queryArguments"></stringProp>
                      <stringProp name="queryArgumentsTypes"></stringProp>
                      <stringProp name="queryTimeout"></stringProp>
                      <stringProp name="queryType">Callable Statement</stringProp>
                      <stringProp name="resultSetHandler">Store as String</stringProp>
                      <stringProp name="resultVariable"></stringProp>
                      <stringProp name="variableNames"></stringProp>
                    </JDBCSampler>
                    <hashTree/>
                  </hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                    <stringProp name="ConstantTimer.delay">10000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除60.234环境的udap数据库" enabled="false">
                <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;mysqlIp&quot;) == &quot;10.1.60.234&quot; )}</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
                <boolProp name="IfController.useExpression">true</boolProp>
              </IfController>
              <hashTree>
                <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除mysql数据库" enabled="true">
                  <boolProp name="TransactionController.includeTimers">false</boolProp>
                  <boolProp name="TransactionController.parent">false</boolProp>
                </TransactionController>
                <hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="10.1.60.234数据库配置" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">udap_mysql</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.61.101:3306?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">true</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库database" enabled="true">
                    <stringProp name="dataSource">udap_mysql</stringProp>
                    <stringProp name="query">drop database msphere;
drop database uyun_deploy;
drop database uyun_udap;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree>
                    <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                      <collectionProp name="Asserion.test_strings"/>
                      <stringProp name="Assertion.custom_message"></stringProp>
                      <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                      <boolProp name="Assertion.assume_success">true</boolProp>
                      <intProp name="Assertion.test_type">16</intProp>
                    </ResponseAssertion>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除disconf数据" enabled="true">
                  <stringProp name="IfController.condition">${__P(ifdisconf)}</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">disconf_mysql</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.61.101:3306/disconf?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">true</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库disconf" enabled="true">
                    <stringProp name="dataSource">disconf_mysql</stringProp>
                    <stringProp name="query">delete from  config  where name regexp &apos;databank|udap&apos; ;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames">name</stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除apollo数据" enabled="true">
                  <stringProp name="IfController.condition">!${__P(ifdisconf)}</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="apollo登录" enabled="true">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
                      <collectionProp name="CookieManager.cookies"/>
                      <boolProp name="CookieManager.clearEachIteration">false</boolProp>
                    </CookieManager>
                    <hashTree/>
                    <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="登录apollo" enabled="true">
                      <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                        <collectionProp name="Arguments.arguments">
                          <elementProp name="password" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">password</stringProp>
                            <stringProp name="Argument.value">Apollo@086)*^</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                          <elementProp name="login-submit" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">login-submit</stringProp>
                            <stringProp name="Argument.value">登录</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                          <elementProp name="username" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">username</stringProp>
                            <stringProp name="Argument.value">apollo</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                        </collectionProp>
                      </elementProp>
                      <stringProp name="HTTPSampler.domain">10.1.61.109</stringProp>
                      <stringProp name="HTTPSampler.port">7547</stringProp>
                      <stringProp name="HTTPSampler.protocol">http</stringProp>
                      <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                      <stringProp name="HTTPSampler.path">signin</stringProp>
                      <stringProp name="HTTPSampler.method">POST</stringProp>
                      <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                      <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                      <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                      <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                      <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                      <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                      <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    </HTTPSamplerProxy>
                    <hashTree>
                      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header manager" enabled="true">
                        <collectionProp name="HeaderManager.headers">
                          <elementProp name="Upgrade-Insecure-Requests" elementType="Header">
                            <stringProp name="Header.name">Upgrade-Insecure-Requests</stringProp>
                            <stringProp name="Header.value">1</stringProp>
                          </elementProp>
                          <elementProp name="Content-Type" elementType="Header">
                            <stringProp name="Header.name">Content-Type</stringProp>
                            <stringProp name="Header.value">application/x-www-form-urlencoded</stringProp>
                          </elementProp>
                          <elementProp name="Accept" elementType="Header">
                            <stringProp name="Header.name">Accept</stringProp>
                            <stringProp name="Header.value">text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</stringProp>
                          </elementProp>
                        </collectionProp>
                      </HeaderManager>
                      <hashTree/>
                      <UniformRandomTimer guiclass="UniformRandomTimerGui" testclass="UniformRandomTimer" testname="Uniform Random Timer" enabled="true">
                        <stringProp name="RandomTimer.range">12123.0</stringProp>
                        <stringProp name="ConstantTimer.delay">6061.5</stringProp>
                        <stringProp name="TestPlan.comments">Recorded time was 12123 milliseconds</stringProp>
                      </UniformRandomTimer>
                      <hashTree/>
                    </hashTree>
                    <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除apollo配置文件" enabled="false">
                      <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                        <collectionProp name="Arguments.arguments"/>
                      </elementProp>
                      <stringProp name="HTTPSampler.domain">10.1.61.109</stringProp>
                      <stringProp name="HTTPSampler.port">7547</stringProp>
                      <stringProp name="HTTPSampler.protocol">http</stringProp>
                      <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                      <stringProp name="HTTPSampler.path">apps/databank/envs/PRO/clusters/default/namespaces/databank-engine-mongodb</stringProp>
                      <stringProp name="HTTPSampler.method">DELETE</stringProp>
                      <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                      <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                      <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                      <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                      <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                      <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                      <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    </HTTPSamplerProxy>
                    <hashTree>
                      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header manager" enabled="true">
                        <collectionProp name="HeaderManager.headers">
                          <elementProp name="Accept" elementType="Header">
                            <stringProp name="Header.name">Accept</stringProp>
                            <stringProp name="Header.value">application/json, text/plain, */*</stringProp>
                          </elementProp>
                        </collectionProp>
                      </HeaderManager>
                      <hashTree/>
                      <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                        <collectionProp name="Asserion.test_strings"/>
                        <stringProp name="Assertion.custom_message"></stringProp>
                        <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                        <boolProp name="Assertion.assume_success">true</boolProp>
                        <intProp name="Assertion.test_type">16</intProp>
                      </ResponseAssertion>
                      <hashTree/>
                    </hashTree>
                  </hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">ApolloConfigDB</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.61.101:3306/ApolloConfigDB?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">false</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">ApolloPortalDB</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.61.101:3306/ApolloPortalDB?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">false</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库ApolloConfigDB" enabled="true">
                    <stringProp name="dataSource">ApolloConfigDB</stringProp>
                    <stringProp name="query">delete from  Instance  where AppId=&quot;databank&quot; ;
delete from InstanceConfig where ConfigAppId=&quot;databank&quot;;
delete from Namespace where AppId=&quot;databank&quot; and NamespaceName!=&quot;common&quot; and NamespaceName!=&quot;application&quot;;
delete from AppNamespace where AppId=&quot;databank&quot; and Name!=&quot;application&quot;;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库ApolloPortalDB" enabled="true">
                    <stringProp name="dataSource">ApolloPortalDB</stringProp>
                    <stringProp name="query">delete from AppNamespace where AppId=&quot;databank&quot; and Name!=&quot;application&quot;;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="ApolloConfigDB" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库apollo" enabled="true">
                      <stringProp name="dataSource">ApolloConfigDB</stringProp>
                      <stringProp name="query">delete from Namespace where NamespaceName=&quot;databank-engine-mongodb&quot; and NamespaceName!=&quot;common&quot;;
delete from AppNamespace where Name=&quot;databank-engine-mongodb&quot;;</stringProp>
                      <stringProp name="queryArguments"></stringProp>
                      <stringProp name="queryArgumentsTypes"></stringProp>
                      <stringProp name="queryTimeout"></stringProp>
                      <stringProp name="queryType">Callable Statement</stringProp>
                      <stringProp name="resultSetHandler">Store as String</stringProp>
                      <stringProp name="resultVariable"></stringProp>
                      <stringProp name="variableNames"></stringProp>
                    </JDBCSampler>
                    <hashTree/>
                  </hashTree>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="ApolloPortalDB" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库apollo" enabled="false">
                      <stringProp name="dataSource">ApolloPortalDB</stringProp>
                      <stringProp name="query">delete from AppNamespace where Name=&quot;databank-engine-mongodb&quot;;</stringProp>
                      <stringProp name="queryArguments"></stringProp>
                      <stringProp name="queryArgumentsTypes"></stringProp>
                      <stringProp name="queryTimeout"></stringProp>
                      <stringProp name="queryType">Callable Statement</stringProp>
                      <stringProp name="resultSetHandler">Store as String</stringProp>
                      <stringProp name="resultVariable"></stringProp>
                      <stringProp name="variableNames"></stringProp>
                    </JDBCSampler>
                    <hashTree/>
                  </hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                    <stringProp name="ConstantTimer.delay">10000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="false">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Tm9zNTc1Jg==&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="OMP查询服务id--用于卸载" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=300</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">platform_mongodb_pkgid;platform_kafka_pkgid;platform_elasticsearch_pkgid;databank_hadoop_pkgid;databank_spark_pkgid;databank_flume_pkgid;databank_core_pkgid;databank_manager_pkgid;databank_web_pkgid;databank_deploy_pkgid;databank_solution_pkgid;databank_metricbeat_pkgid;databank_data_map_pkgid;databank_scheduler_pkgid;alert_pkgid;monitor_pkgid;msphere_server_pkgid;msphere_engine_pkgid;msphere_beats_pkgid;platform_store_metric_pkgid;</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-elasticsearch&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-hadoop&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-spark&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-flume&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-manager&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-web&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-metricbeat&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-data-map&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-scheduler&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-front&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;monitor-nginx&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;msphere-server&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;msphere-engine&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;msphere-beats&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历重装" enabled="true">
            <stringProp name="ForeachController.inputVal">model_names</stringProp>
            <stringProp name="ForeachController.returnVal">model_name</stringProp>
            <boolProp name="ForeachController.useSeparator">true</boolProp>
            <stringProp name="ForeachController.startIndex">0</stringProp>
            <stringProp name="ForeachController.endIndex">14</stringProp>
          </ForeachController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询得到安装的ip,主机hostid等" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="自定义的主机部署" enabled="true">
                <stringProp name="IfController.condition">${__groovy(vars.get(&quot;${model_name}_ip_1&quot;) != null )}</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
                <boolProp name="IfController.useExpression">true</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询${model_name}安装的主机" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=${model_name}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_pkgId_total</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_hostId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环卸载模块" enabled="false">
                  <boolProp name="LoopController.continue_forever">true</boolProp>
                  <stringProp name="LoopController.loops">${__V(${model_name}_hostId_matchNr)}</stringProp>
                </LoopController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="卸载${model_name}" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgId_total_${__counter(,)})}&quot;,&quot;hostIds&quot;:[&quot;${__V(${model_name}_hostId_${__counter(,)})}&quot;],&quot;forceDelete&quot;:false}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/uninstall?16254${__Random(100000000,900000000,)}.07966733${__Random(100000000,900000000,)}</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout">60000</stringProp>
                    <stringProp name="HTTPSampler.response_timeout">60000</stringProp>
                    <stringProp name="TestPlan.comments">最多查询出十条数据</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree/>
                </hashTree>
                <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环查询主机hostid" enabled="true">
                  <boolProp name="LoopController.continue_forever">true</boolProp>
                  <stringProp name="LoopController.loops">${__V(${model_name}_ip_matchNr)}</stringProp>
                </LoopController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询主机" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:10,&quot;keyword&quot;:&quot;${__V(${model_name}_ip_${__counter(,)})}&quot;}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/hosts/list</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">${model_name}_hostId_${__counter(,)}</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="设置安装主机hostid" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">String ${model_name}_hostId_ALL=&quot;&quot;;
int num=Integer.parseInt(&quot;${__V(${model_name}_ip_matchNr)}&quot;);
for(int i=1;i&lt;=num;i++){
	${model_name}_hostId_ALL+=vars.get(&quot;${model_name}_hostId_&quot;+i)+&quot;,&quot;;
}
${model_name}_hostId_ALL=${model_name}_hostId_ALL.substring(0,${model_name}_hostId_ALL.length()-1);
vars.put(&quot;${model_name}_hostId_ALL&quot;,${model_name}_hostId_ALL);
vars.put(&quot;${model_name}_hostId_matchNr&quot;,&quot;${__V(${model_name}_ip_matchNr)}&quot;);</stringProp>
                </JSR223Sampler>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="按照卸载的主机部署" enabled="true">
                <stringProp name="IfController.condition">${__groovy(vars.get(&quot;${model_name}_ip_1&quot;) == null )}</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
                <boolProp name="IfController.useExpression">true</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询${model_name}安装的主机" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=${model_name}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_pkgId_total</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_ip</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..ip</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_hostId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环卸载模块" enabled="false">
                  <boolProp name="LoopController.continue_forever">true</boolProp>
                  <stringProp name="LoopController.loops">${__V(${model_name}_hostId_matchNr)}</stringProp>
                </LoopController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="卸载${model_name}" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgId_total_${__counter(,)})}&quot;,&quot;hostIds&quot;:[&quot;${__V(${model_name}_hostId_${__counter(,)})}&quot;],&quot;forceDelete&quot;:false}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/uninstall?16254${__Random(100000000,900000000,)}.07966733${__Random(100000000,900000000,)}</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout">60000</stringProp>
                    <stringProp name="HTTPSampler.response_timeout">60000</stringProp>
                    <stringProp name="TestPlan.comments">最多查询出十条数据</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询${model_name}的依赖groupId" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">最多查询出十条数据</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">groupId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..moduleGroups..groupId</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                <stringProp name="TestPlan.comments">重装调用</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">moduleName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..moduleGroups..moduleName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                <stringProp name="TestPlan.comments">重装调用</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是spark√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;==&quot;databank_spark&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="安装spark" enabled="false">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		//hadoop专用
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0);
		moduleRequest=jsonTemp2.getJSONObject(&quot;moduleRequest&quot;).toString();
		String ${model_name}_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;).toString();
		String ${model_name}_hostIds_name=jsonTemp2.getJSONArray(&quot;hostIds&quot;).toString();
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostIds_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
		//spark专用
		moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		JSONObject jsonTemp3 = (JSONObject)modules_array2.getJSONObject(1); 
		String ${model_name}_pkgId_name=jsonTemp3.get(&quot;pkgId&quot;).toString();
		
		//这个用于安装的时候传入
		String opts_array=jsonTemp3.getJSONArray(&quot;opts&quot;).toString();
		vars.put(&quot;opts_array&quot;,opts_array);
		//groupId也是从返回值中获取传递给重装
		String groupId=jsonTemp3.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		vars.put(&quot;groupId&quot;,groupId);
		
		String ${model_name}_hostId_name=&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_1)}&quot;+&quot;\&quot;]&quot;;
		vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i+1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}
//if(request_body.substring(request_body.length()-1).equals(&quot;,&quot;)){
//	request_body=request_body.substring(0,request_body.length()-1)+&quot;]&quot;;
//}
vars.put(&quot;request_body&quot;,request_body);
vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${request_body}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${groupId}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}&#xd;
</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果spark集群" enabled="true">
                  <stringProp name="IfController.condition">${__V(${model_name}_hostId_matchNr)}&gt;1</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest" enabled="true">
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                      <collectionProp name="Arguments.arguments"/>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                    <stringProp name="HTTPSampler.method">GET</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                      <boolProp name="resetInterpreter">false</boolProp>
                      <stringProp name="parameters"></stringProp>
                      <stringProp name="filename"></stringProp>
                      <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		//hadoop专用
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0);
		moduleRequest=jsonTemp2.getJSONObject(&quot;moduleRequest&quot;).toString();
		String ${model_name}_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;).toString();
		String ${model_name}_hostIds_name=jsonTemp2.getJSONArray(&quot;hostIds&quot;).toString();
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostIds_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
		//spark专用
		moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		JSONObject jsonTemp3 = (JSONObject)modules_array2.getJSONObject(1); 
		String ${model_name}_pkgId_name=jsonTemp3.get(&quot;pkgId&quot;).toString();
		
		//这个用于安装的时候传入
		String opts_array=jsonTemp3.getJSONArray(&quot;opts&quot;).toString().replace(&quot;\&quot;val\&quot;:\&quot;No\&quot;&quot;,&quot;\&quot;val\&quot;:\&quot;yes\&quot;&quot;);
		vars.put(&quot;opts_array&quot;,opts_array);
		//groupId也是从返回值中获取传递给重装
		String groupId=jsonTemp3.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		vars.put(&quot;groupId&quot;,groupId);
		String[] ${model_name}_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
		String ${model_name}_hostId_name=&quot;[&quot;;
		// int leng=${__V(${model_name}_hostId_matchNr)};
		for(int j = 1; j &lt; ${model_name}_hostIds.length; j++){
			if(j==${model_name}_hostIds.length-1){
				${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[j]+&quot;\&quot;]&quot;;
				break;
			}
			${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[j]+&quot;\&quot;,&quot;;
		}
		vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i+1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}
//if(request_body.substring(request_body.length()-1).equals(&quot;,&quot;)){
//	request_body=request_body.substring(0,request_body.length()-1)+&quot;]&quot;;
//}
vars.put(&quot;request_body&quot;,request_body);</stringProp>
                    </BeanShellPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">60000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">${request_body}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                    <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                      <stringProp name="ConstantTimer.delay">150000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${groupId}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                      <boolProp name="resetInterpreter">false</boolProp>
                      <stringProp name="parameters"></stringProp>
                      <stringProp name="filename"></stringProp>
                      <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);
</stringProp>
                    </BeanShellPreProcessor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="修改spark配置" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">${__V(${model_name}_ip_matchNr)}</stringProp>
              </LoopController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="修改spark配置" enabled="true">
                  <stringProp name="command"> expect  /home/zlj/change_spark.sh root ${__V(${model_name}_ip_${__counter(,)})} ${spark_password}</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">10.1.56.161</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">Uyun_123</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">10000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="重启所有spark_local" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">${__V(${model_name}_hostId_matchNr)}</stringProp>
              </LoopController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭spark" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="pkgId" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${__V(${model_name}_pkgId_total_${__counter(,)})}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                        <stringProp name="Argument.name">pkgId</stringProp>
                      </elementProp>
                      <elementProp name="hostId" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${__V(${model_name}_hostId_${__counter(,)})}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                        <stringProp name="Argument.name">hostId</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启spark" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="pkgId" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${__V(${model_name}_pkgId_total_${__counter(,)})}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                        <stringProp name="Argument.name">pkgId</stringProp>
                      </elementProp>
                      <elementProp name="hostId" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${__V(${model_name}_hostId_${__counter(,)})}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                        <stringProp name="Argument.name">hostId</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是platform√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;.contains(&quot;platform&quot;)&amp;&amp;&quot;${model_name}&quot;!=&quot;platform_store_metric&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest--正常" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);
JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;

String[] ${model_name}_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
String ${model_name}_hostId_name=&quot;[&quot;;
for(int i = 0; i &lt; ${model_name}_hostIds.length; i++){
	if(i==${model_name}_hostIds.length-1){
		${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;]&quot;;
		break;
	}
	${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;,&quot;;
}

for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?${model_name}_hostId_name:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String ${model_name}_pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	if(!jsonTemp.toString().contains(&quot;moduleRequest&quot;)){
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
		String ${model_name}_groupId;
//		if(&quot;${model_name}&quot;.equals(&quot;platform_mongodb&quot;)){
//		${model_name}_groupId=dataObject.getJSONArray(&quot;moduleGroups&quot;).getJSONObject(0).getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
//		}else if(&quot;${model_name}&quot;.equals(&quot;platform_kafka&quot;)){
		${model_name}_groupId=jsonTemp.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
//		}
		vars.put(&quot;${model_name}_groupId&quot;,${model_name}_groupId);
	}else{
		String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
		//18.11.0-OMP版本上，modules下的每个对象都有了moduleRequest模块，早期安装模块没有
		if(i ==len){
			request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
		}else{
			request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
		}
	}
}
vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);
vars.put(&quot;order&quot;,String.valueOf(len-1));
vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${request_body}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${__V(${model_name}_groupId)}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:${order},&quot;opts&quot;:[],&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="修改ES配置" enabled="false">
                <stringProp name="IfController.condition">&quot;${model_name}&quot;==&quot;platform_elasticsearch&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环修改ES配置" enabled="true">
                  <boolProp name="LoopController.continue_forever">true</boolProp>
                  <stringProp name="LoopController.loops">${__V(${model_name}_ip_matchNr)}</stringProp>
                </LoopController>
                <hashTree>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="修改ES配置" enabled="true">
                    <stringProp name="command"> expect  /home/zlj/change_es.sh root ${__V(${model_name}_ip_${__counter(,)})} broada123</stringProp>
                    <intProp name="connectionTimeout">50000</intProp>
                    <stringProp name="hostname">10.1.40.70</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">Tester_123</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是hadoop√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;==&quot;databank_hadoop&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest--hadoop" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		//hadoop专用
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0); 
		String hadoop_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;);
		//这个用于安装的时候传入
		String opts_array=jsonTemp2.getJSONArray(&quot;opts&quot;).toString();
		vars.put(&quot;opts_array&quot;,opts_array);
		//groupId也是从返回值中获取传递给重装
		String groupId= jsonTemp2.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		vars.put(&quot;groupId&quot;,groupId);
//
//		String[] hadoop_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
//		String hadoop_hostId_name=&quot;[&quot;;
//		for(int i = 1; i &lt; hadoop_hostIds.length; i++){
//			if(i==hadoop_hostIds.length-1){
//				hadoop_hostId_name+=&quot;\&quot;&quot;+hadoop_hostIds[i]+&quot;\&quot;]&quot;;
//				break;
//			}
//			hadoop_hostId_name+=&quot;\&quot;&quot;+hadoop_hostIds[i]+&quot;\&quot;,&quot;;
//		}
		String hadoop_hostId_name=&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_1)}&quot;+&quot;\&quot;]&quot;;
		vars.put(&quot;databank_hadoop_hostId_name&quot;,hadoop_hostId_name);
		
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+hadoop_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hadoop_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}
if(request_body.substring(request_body.length()-1).equals(&quot;,&quot;)){
	request_body=request_body.substring(0,request_body.length()-1)+&quot;]&quot;;
}
vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${request_body}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${groupId}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">10000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果hadoop集群" enabled="true">
                <stringProp name="IfController.condition">${__V(${model_name}_hostId_matchNr)}&gt;1</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest--hadoop" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		//hadoop专用
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0); 
		String hadoop_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;);
		//这个用于安装的时候传入
		String opts_array=jsonTemp2.getJSONArray(&quot;opts&quot;).toString().replace(&quot;\&quot;val\&quot;:\&quot;No\&quot;&quot;,&quot;\&quot;val\&quot;:\&quot;yes\&quot;&quot;);
		vars.put(&quot;opts_array&quot;,opts_array);
		//groupId也是从返回值中获取传递给重装
		String groupId= jsonTemp2.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		vars.put(&quot;groupId&quot;,groupId);

		String[] hadoop_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
		String hadoop_hostId_name=&quot;[&quot;;
		for(int i = 1; i &lt; hadoop_hostIds.length; i++){
			if(i==hadoop_hostIds.length-1){
				hadoop_hostId_name+=&quot;\&quot;&quot;+hadoop_hostIds[i]+&quot;\&quot;]&quot;;
				break;
			}
			hadoop_hostId_name+=&quot;\&quot;&quot;+hadoop_hostIds[i]+&quot;\&quot;,&quot;;
		}
		vars.put(&quot;databank_hadoop_hostId_name&quot;,hadoop_hostId_name);
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+hadoop_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hadoop_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}
if(request_body.substring(request_body.length()-1).equals(&quot;,&quot;)){
	request_body=request_body.substring(0,request_body.length()-1)+&quot;]&quot;;
}
vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${request_body}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">120000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${groupId}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">10000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">30000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是databank√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;.contains(&quot;databank&quot;)&amp;&amp;&quot;${model_name}&quot;!=&quot;databank_hadoop&quot;&amp;&amp;&quot;${model_name}&quot;!=&quot;databank_spark&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="调试取样器" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugSampler>
              <hashTree>
                <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">false</stringProp>
                  <stringProp name="script">//1、先将${model_name}存入变量，2、判断这次${model_name}还是不是相同的，3、如果相同加1，如果不同置为
import org.apache.commons.lang.StringUtils
String current_name=vars.get(&quot;current_name&quot;);
int count;
if(StringUtils.isEmpty(vars.get(&quot;count&quot;))){
	count=1;

}else{
	count=Integer.parseInt(vars.get(&quot;count&quot;));

}
if(StringUtils.isEmpty(current_name) || !(&quot;${model_name}&quot;.equals(current_name))){
	current_name=&quot;${model_name}&quot;;
	vars.put(&quot;count&quot;,&quot;1&quot;);
	vars.put(&quot;current_name&quot;,current_name);

}else{
	count++;
	vars.put(&quot;count&quot;,&quot;&quot;+count);

	vars.put(&quot;current_name&quot;,current_name);
}
</stringProp>
                </JSR223PreProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);

	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		//flume专用
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0);
		moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;; 
		String ${model_name}_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;).toString();	
		//这个用于安装的时候传入
		String opts_array=jsonTemp2.getJSONArray(&quot;opts&quot;).toString();
		vars.put(&quot;opts_array&quot;,opts_array);

String[] ${model_name}_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
		String ${model_name}_hostId_name=&quot;[&quot;;

		for(int i = 0; i &lt; ${model_name}_hostIds.length; i++){
			if(i==${model_name}_hostIds.length-1){
				${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;]&quot;;
				break;
			}
			${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;,&quot;;
		}
		vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);
		
		
		String ${model_name}_hostId_name=&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_1)}&quot;+&quot;\&quot;]&quot;;
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}

vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${request_body}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">有点不同</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);
</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">30000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（databank_core）控制器" enabled="true">
                <stringProp name="IfController.condition">&quot;${model_name}&quot;.contains(&quot;databank_core&quot;)</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <TestAction guiclass="TestActionGui" testclass="TestAction" testname="测试活动" enabled="true">
                  <intProp name="ActionProcessor.action">1</intProp>
                  <intProp name="ActionProcessor.target">0</intProp>
                  <stringProp name="ActionProcessor.duration">120000</stringProp>
                </TestAction>
                <hashTree/>
              </hashTree>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是other√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;.contains(&quot;alert&quot;) ||&quot;${model_name}&quot;.contains(&quot;monitor&quot;)||&quot;${model_name}&quot;.contains(&quot;msphere&quot;)||&quot;${model_name}&quot;.contains(&quot;platform_store_metric&quot;)</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest--正常" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="insert用参数" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray dataObject_array=new JSONArray (response_data);
String request_body=&quot;[&quot;;
String order=&quot;&quot;;
//组装部署机器host
String[] ${model_name}_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
String ${model_name}_hostId_name=&quot;[&quot;;
for(int i = 0; i &lt; ${model_name}_hostIds.length; i++){
	if(i==${model_name}_hostIds.length-1){
		${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;]&quot;;
		break;
	}
	${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;,&quot;;
}
vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);

for(int j = 0;j &lt; dataObject_array.length();j++){
JSONObject  dataObject = dataObject_array.getJSONObject(j); 
JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i); 
	hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?${model_name}_hostId_name:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	order=jsonTemp.get(&quot;order&quot;)+&quot;&quot;;
	String ${model_name}_pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	if(!jsonTemp.toString().contains(&quot;moduleRequest&quot;)){
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+order+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}else{
		String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+order+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	}
}
}


vars.put(&quot;request_body&quot;,request_body);</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
                <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="重装用参数" enabled="true">
                  <stringProp name="TestPlan.comments">用于传参给安装的</stringProp>
                  <stringProp name="cacheKey">false</stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray dataObject_array=new JSONArray(response_data);
String request_body=&quot;[&quot;;
String order=&quot;&quot;;
//组装部署机器host,alert只取一台机器进行部署
String ${model_name}_hostId_name=&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_1)}&quot;+&quot;\&quot;]&quot;;
String groupRefs=&quot;&quot;;
String groupIds=&quot;&quot;;
for(int j = 0;j &lt; dataObject_array.length();j++){
	JSONObject  dataObject = dataObject_array.getJSONObject(j); 
	String moduleName=dataObject.getString(&quot;productName&quot;).toLowerCase();
	JSONArray   moduleGroups_array = dataObject.getJSONArray(&quot;moduleGroups&quot;);
	for(int i = 0;i &lt;moduleGroups_array.length();i++){
		JSONObject jsonTemp = (JSONObject)moduleGroups_array.getJSONObject(i); 
		String groupId=jsonTemp.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		String refModule=jsonTemp.getString(&quot;moduleName&quot;);
		groupRefs+=&quot;{\&quot;product\&quot;:\&quot;&quot;+moduleName+&quot;\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+groupId+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+refModule+&quot;\&quot;},&quot;;
	}
	if(&quot;${model_name}&quot;.contains(moduleName)){
		JSONArray   modules_groupIdsarray = dataObject.getJSONArray(&quot;modules&quot;);
		for(int q = 0;q &lt;modules_groupIdsarray.length();q++){
		JSONObject jsonTemp = (JSONObject)modules_groupIdsarray.getJSONObject(q); 
		order=jsonTemp.get(&quot;order&quot;)+&quot;&quot;;
		String ${model_name}_pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		groupIds+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+order+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
		}
	}
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
groupIds=groupIds.substring(0,groupIds.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);
vars.put(&quot;groupIds&quot;,groupIds);</stringProp>
                  <stringProp name="scriptLanguage">groovy</stringProp>
                </JSR223PostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${request_body}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[${groupIds}]}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="false">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="0.部署后BMO初始化-完成" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">引擎同步，维度字典初始化，</stringProp>
        </TransactionController>
        <hashTree>
          <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain">${__P(tenant.url)}</stringProp>
            <stringProp name="HTTPSampler.port">${__P(tenant.port)}</stringProp>
            <stringProp name="HTTPSampler.protocol">${__P(tenant.protocol)}</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path"></stringProp>
            <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </ConfigTestElement>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="BMO初始化-R18.10.0" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-模板初始化" enabled="true">
              <stringProp name="command">sh databank-es7-builtin-init.sh ${esIp}:${esport}</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.56.159</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">Uyun_123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1188227276">udap_dw_dm</stringProp>
                  <stringProp name="-1771696422">uyun_alert</stringProp>
                  <stringProp name="-1767704552">uyun_event</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
if(response_data.contains(&quot;udap_dw_dm&quot;)&amp;&amp;response_data.contains(&quot;uyun_alert&quot;)&amp;&amp;response_data.contains(&quot;uyun_event&quot;)){
	vars.put(&quot;if_exist&quot;,&quot;true&quot;);
}else{
	vars.put(&quot;if_exist&quot;,&quot;false&quot;);	
}

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="msphere同步引擎-可不做" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-查询引擎id" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">kafka_engineId;ES_engineId;flume_engineId;spark_engineId;</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Kafka&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;ElasticSearch&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Flume&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Spark&quot;)].id;</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-设置默认引擎" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;regionId&quot;:&quot;local&quot;,&quot;features&quot;:[{&quot;feature&quot;:&quot;ResultData&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafka_engineId}&quot;},{&quot;feature&quot;:&quot;TSData&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataSync&quot;,&quot;engineId&quot;:&quot;${flume_engineId}&quot;},{&quot;feature&quot;:&quot;ETLCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;RealCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;OffCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;MachineStudy&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/default/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-运行环境-同步引擎" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">[{&quot;id&quot;:null,&quot;name&quot;:&quot;FLUME&quot;,&quot;type&quot;:&quot;FLUME&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;数据同步&quot;,&quot;code&quot;:&quot;DataSync&quot;,&quot;required&quot;:1,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;SYNC_EXEC&quot;,&quot;priority&quot;:100}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;SPARK&quot;,&quot;type&quot;:&quot;SPARK&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;ETL计算&quot;,&quot;code&quot;:&quot;ETLCompute&quot;,&quot;required&quot;:1,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;COMPUTE_ETL&quot;,&quot;priority&quot;:300}]},{&quot;name&quot;:&quot;实时计算&quot;,&quot;code&quot;:&quot;RealCompute&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;COMPUTE_MEM&quot;,&quot;priority&quot;:900},{&quot;tag&quot;:&quot;COMPUTE_TS_SAVE&quot;,&quot;priority&quot;:300}]},{&quot;name&quot;:&quot;离线计算&quot;,&quot;code&quot;:&quot;OffCompute&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;COMPUTE_DW&quot;,&quot;priority&quot;:200},{&quot;tag&quot;:&quot;COMPUTE_TS_SUM&quot;,&quot;priority&quot;:200}]},{&quot;name&quot;:&quot;机器学习&quot;,&quot;code&quot;:&quot;MachineStudy&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;ELASTICSEARCH&quot;,&quot;type&quot;:&quot;ELASTICSEARCH&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;数据仓库&quot;,&quot;code&quot;:&quot;DataWarehouse&quot;,&quot;required&quot;:1,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;STORAGE_DW&quot;,&quot;priority&quot;:200}]},{&quot;name&quot;:&quot;结果数据&quot;,&quot;code&quot;:&quot;ResultData&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;STORAGE_RS&quot;,&quot;priority&quot;:500}]},{&quot;name&quot;:&quot;临存数据&quot;,&quot;code&quot;:&quot;TSData&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;STORAGE_TS&quot;,&quot;priority&quot;:1000}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;KAFKA&quot;,&quot;type&quot;:&quot;KAFKA&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;数据队列&quot;,&quot;code&quot;:&quot;DataQueue&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;SYNC_SINK&quot;,&quot;priority&quot;:1000}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;MONGODB&quot;,&quot;type&quot;:&quot;MONGODB&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;结果数据&quot;,&quot;code&quot;:&quot;ResultData&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;STORAGE_RS&quot;,&quot;priority&quot;:1100}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;HADOOP&quot;,&quot;type&quot;:&quot;HADOOP&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;计算辅助&quot;,&quot;code&quot;:&quot;HelpCompute&quot;,&quot;required&quot;:1,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;COMPUTE_HELP&quot;,&quot;priority&quot;:300}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;}]</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/sync/local</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历-初始化模型分析" enabled="false">
              <stringProp name="ForeachController.inputVal">modelnames</stringProp>
              <stringProp name="ForeachController.returnVal">modelname</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-初始化模型分析" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap-solution/bmo/tools/cleanModel/${modelname}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
</stringProp>
                </JSR223PreProcessor>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">30000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历-初始化维度字典" enabled="false">
              <stringProp name="ForeachController.inputVal">dict_names</stringProp>
              <stringProp name="ForeachController.returnVal">dict_name</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
              <stringProp name="ForeachController.endIndex">15</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-维度字典初始化" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap-solution/bmo/tools/cleanModel/${dict_name}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
</stringProp>
                </JSR223PreProcessor>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历-初始化维度字典值" enabled="false">
              <stringProp name="ForeachController.inputVal">dict_values</stringProp>
              <stringProp name="ForeachController.returnVal">dict_value</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
              <stringProp name="ForeachController.endIndex">3</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-维度字典值初始化" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap-solution/openapi/v1/dim/upgrade?file=${dict_value}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout">60000</stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="spark作业全部重新执行" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-查询作业列表" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/jobs?name=主数据区&amp;pageIndex=1&amp;pageSize=20</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">jobs_ids</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.period ==&quot;流处理&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历-重新执行" enabled="true">
                <stringProp name="ForeachController.inputVal">jobs_ids</stringProp>
                <stringProp name="ForeachController.returnVal">jobId</stringProp>
                <boolProp name="ForeachController.useSeparator">true</boolProp>
              </ForeachController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询任务id" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重新执行任务" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks/${taskId}/restart</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49586">200</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.custom_message"></stringProp>
                    <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">2</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="批量关闭spark作业" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-查询作业列表" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/jobs?name=告警归并清理&amp;pageIndex=1&amp;pageSize=50</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">jobs_ids</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历关闭" enabled="true">
                <stringProp name="ForeachController.inputVal">jobs_ids</stringProp>
                <stringProp name="ForeachController.returnVal">jobId</stringProp>
                <boolProp name="ForeachController.useSeparator">true</boolProp>
              </ForeachController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询任务id" enabled="false">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭作业" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udapmanager/api/jobs/${jobId}/stop</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">1000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="检查初始化-R18.10.0" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-模板初始化-检查" enabled="true">
              <stringProp name="command"> curl -XGET -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/_template</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1188227276">udap_dw_dm</stringProp>
                  <stringProp name="-1771696422">uyun_alert</stringProp>
                  <stringProp name="-1767704552">uyun_event</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
if(response_data.contains(&quot;udap_dw_dm&quot;)&amp;&amp;response_data.contains(&quot;uyun_alert&quot;)&amp;&amp;response_data.contains(&quot;uyun_event&quot;)){
	vars.put(&quot;if_exist&quot;,&quot;true&quot;);
}else{
	vars.put(&quot;if_exist&quot;,&quot;false&quot;);	
}

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-运行环境-同步引擎-检查" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1036635225">&quot;ElasticSearch&quot;</stringProp>
                  <stringProp name="-1701956697">&quot;Spark&quot;</stringProp>
                  <stringProp name="1474561563">&quot;Hadoop&quot;</stringProp>
                  <stringProp name="-1944700802">&quot;Kafka&quot;</stringProp>
                  <stringProp name="-1590102990">&quot;MongoDB&quot;</stringProp>
                  <stringProp name="-2077238915">&quot;Flume&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <io.github.ningyu.jmeter.plugin.dubbo.sample.DubboSample guiclass="io.github.ningyu.jmeter.plugin.dubbo.gui.DubboSampleGui" testclass="io.github.ningyu.jmeter.plugin.dubbo.sample.DubboSample" testname="BMO-ES-维度字典初始化-检查18.10.0" enabled="false">
              <stringProp name="FIELD_DUBBO_REGISTRY_PROTOCOL">zookeeper</stringProp>
              <stringProp name="FIELD_DUBBO_REGISTRY_GROUP"></stringProp>
              <stringProp name="FIELD_DUBBO_RPC_PROTOCOL">dubbo://</stringProp>
              <stringProp name="FIELD_DUBBO_ADDRESS">${zkIp}:2181</stringProp>
              <stringProp name="FIELD_DUBBO_TIMEOUT">8000</stringProp>
              <stringProp name="FIELD_DUBBO_VERSION"></stringProp>
              <stringProp name="FIELD_DUBBO_RETRIES">0</stringProp>
              <stringProp name="FIELD_DUBBO_GROUP">res-center</stringProp>
              <stringProp name="FIELD_DUBBO_CONNECTIONS">100</stringProp>
              <stringProp name="FIELD_DUBBO_LOADBALANCE">random</stringProp>
              <stringProp name="FIELD_DUBBO_ASYNC">sync</stringProp>
              <stringProp name="FIELD_DUBBO_CLUSTER">failfast</stringProp>
              <stringProp name="FIELD_DUBBO_INTERFACE">uyun.indian.model.api.MetricMetaService</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD">getMetricMeta</stringProp>
              <intProp name="FIELD_DUBBO_METHOD_ARGS_SIZE">3</intProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_TYPE1">String</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_VALUE1">e10adc3949ba59abbe56e057f20f88dd</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_TYPE2">String</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_VALUE2">MySQL</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_TYPE3">String</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_VALUE3">mysql.performance.com_replace_select</stringProp>
              <stringProp name="TestPlan.comments">18.12.0拆分给了metrics，store不再维护</stringProp>
            </io.github.ningyu.jmeter.plugin.dubbo.sample.DubboSample>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1937468150">MySQL替代查询语句的速</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-检查维度字典初始化值" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dim_metric_wd/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-719868469">当前CPU处在等待IO操作的百分比</stringProp>
                  <stringProp name="2096999">CPU可</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">34</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-metricbeat索引初始化-检查18.10.0" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/*metricbeat-7.3.3*/_search -d &apos;{   &quot;query&quot;: {     &quot;match_all&quot;: {}   },   &quot;size&quot;: 1,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="406909084">&quot;_index&quot;:&quot;metricbeat-7.3.3-${__time(yyyy.MM)}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-spark-内置作业初始化-检查18.10.0" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udap/openapi/v1/portal/taskMessage/queryStreamTaskMessage1?apikey=${apikey}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1677146356">事件模型ETL_toKafka</stringProp>
                  <stringProp name="915969986">事件模型_主数据区_toDW</stringProp>
                  <stringProp name="-1810058153">指标模型_主数据区_toDW</stringProp>
                  <stringProp name="-1225347329">指标模型ETL_toKafka</stringProp>
                  <stringProp name="517682387">告警模型_主数据区_toDW</stringProp>
                  <stringProp name="-2079834621">告警模型ETL_toKafka</stringProp>
                  <stringProp name="-511193309">最近一月未关闭告警集市</stringProp>
                  <stringProp name="-1809566637">实时告警规则分析</stringProp>
                  <stringProp name="-1460502017">告警全量集市</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="检查初始化-R17" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-metricbeat索引初始化17.0" enabled="false">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/metricbeat-7.3.3/_search -d &apos;{   &quot;query&quot;: {     &quot;match_all&quot;: {}   },   &quot;size&quot;: 1,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.40.70</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">Tester_123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="406909084">&quot;_index&quot;:&quot;metricbeat-7.3.3-${__time(yyyy.MM)}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-mongodb-指标模型初始化R17" enabled="false">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/store/openapi/v2/models/metrics/query?apikey=${apikey}&amp;code=mysql.performance.com_replace_select</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">最多查询出十条数据</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-spark-内置作业初始化17.0" enabled="false">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udap/openapi/v1/portal/taskMessage/queryStreamTaskMessage1?apikey=${apikey}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1677146356">事件模型ETL_toKafka</stringProp>
                  <stringProp name="1467938232">事件模型_toDW</stringProp>
                  <stringProp name="1688637443">指标模型_toDW</stringProp>
                  <stringProp name="1944555562">指标模型_指标模型ETL_toKafka</stringProp>
                  <stringProp name="-2050969081">告警模型_toDW</stringProp>
                  <stringProp name="39604906">告警模型_告警模型ETL_toKafka</stringProp>
                  <stringProp name="-511193309">最近一月未关闭告警集市</stringProp>
                  <stringProp name="-1809566637">实时告警规则分析</stringProp>
                  <stringProp name="-1460502017">告警全量集市</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-运行环境-同步引擎-检查" enabled="false">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1036635225">&quot;ElasticSearch&quot;</stringProp>
                  <stringProp name="-1701956697">&quot;Spark&quot;</stringProp>
                  <stringProp name="1474561563">&quot;Hadoop&quot;</stringProp>
                  <stringProp name="-1944700802">&quot;Kafka&quot;</stringProp>
                  <stringProp name="-1590102990">&quot;MongoDB&quot;</stringProp>
                  <stringProp name="-2077238915">&quot;Flume&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-模板初始化-检查" enabled="false">
              <stringProp name="command">curl -XGET -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/_template </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.40.70</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">Tester_123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1188227276">udap_dw_dm</stringProp>
                  <stringProp name="-1771696422">uyun_alert</stringProp>
                  <stringProp name="-1767704552">uyun_event</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
if(response_data.contains(&quot;udap_dw_dm&quot;)&amp;&amp;response_data.contains(&quot;uyun_alert&quot;)&amp;&amp;response_data.contains(&quot;uyun_event&quot;)){
	vars.put(&quot;if_exist&quot;,&quot;true&quot;);
}else{
	vars.put(&quot;if_exist&quot;,&quot;false&quot;);	
}

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="自定义分析测试" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理下数据先" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-查询分析" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-查询汇总模型" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=自动化&amp;pageSize=10&amp;pageIndex=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">summaryId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-查询明细模型" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化&amp;pageSize=10&amp;pageIndex=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="删除分析" enabled="true">
              <stringProp name="ForeachController.inputVal">analysisId</stringProp>
              <stringProp name="ForeachController.returnVal">analysisId</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-删除分析" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${analysisId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="删除汇总模型" enabled="true">
              <stringProp name="ForeachController.inputVal">summaryId</stringProp>
              <stringProp name="ForeachController.returnVal">summaryId</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-删除数据模型" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${summaryId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="删除明细模型" enabled="true">
              <stringProp name="ForeachController.inputVal">modelId</stringProp>
              <stringProp name="ForeachController.returnVal">modelId</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-删除数据模型" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-mysql删除模型下的api（因为bug删除模型不删API）" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">delete from shared_data_customize_api where path=&apos;autotest&apos;;</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
            </JDBCSampler>
            <hashTree/>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="mysql中新增t1表--调试的时候不用打开" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">
SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for t1
-- ----------------------------
DROP TABLE IF EXISTS `t1`;
CREATE TABLE `t1`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `age` int(11) NULL DEFAULT NULL,
  `sex` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `hobby` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `classes` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `school` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `birthday` timestamp(0) NULL DEFAULT NULL,
  `costs` int(255) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;

SET FOREIGN_KEY_CHECKS = 1;
</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene01-创建明细模型-图形转换发布共享-kafka" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化明细模型测试&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test03(创建明细模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;accessId&quot;:&quot;&quot;,&quot;name&quot;:&quot;自动化明细模型测试&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test04(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test05(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test06(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test07(查询历史数据源)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-kafka-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test08(删除掉历史数据源)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene1-test09(清理掉ES中历史数据)" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_mx_model_test*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysql_password}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test10(创建kafka数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-kafka-明细模型用&quot;,&quot;describe&quot;:&quot;自动化测试-kafka-明细模型用&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;KAFKA&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;doing&quot;,&quot;name&quot;:&quot;doing&quot;,&quot;path&quot;:&quot;doing&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;logintime&quot;,&quot;name&quot;:&quot;logintime&quot;,&quot;path&quot;:&quot;logintime&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}],&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;why&quot;,&quot;name&quot;:&quot;why&quot;,&quot;path&quot;:&quot;why&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;path&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;}],&quot;accessInfo&quot;:{&quot;hosts&quot;:&quot;${kafkaIp}:9192&quot;,&quot;topic&quot;:&quot;${topic}&quot;,&quot;version&quot;:&quot;1.1.x&quot;,&quot;format&quot;:&quot;JSON&quot;,&quot;delimiter&quot;:&quot;&quot;,&quot;className&quot;:&quot;&quot;,&quot;jsonParseToolJavaCodes&quot;:&quot;&quot;,&quot;security&quot;:{&quot;typeNum&quot;:0},&quot;groupId&quot;:&quot;&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;increased&quot;:false}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test11(创建ETL转化)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;新建ETL&quot;,&#xd;
	&quot;type&quot;: &quot;COMPLEX&quot;,&#xd;
	&quot;modelId&quot;: &quot;${modelId}&quot;,&#xd;
	&quot;engine&quot;: [],&#xd;
	&quot;config&quot;: [&#xd;
		{&#xd;
			&quot;name&quot;: &quot;数据输入&quot;,&#xd;
			&quot;type&quot;: &quot;InputNode&quot;,&#xd;
			&quot;key&quot;: &quot;InputNode&quot;,&#xd;
			&quot;id&quot;: 1,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				-1&#xd;
			],&#xd;
			&quot;x&quot;: 284.89005533854177,&#xd;
			&quot;y&quot;: 174.11459350585938,&#xd;
			&quot;config&quot;: {&#xd;
				&quot;sourceId&quot;: &quot;${sourceId}&quot;,&#xd;
				&quot;name&quot;: &quot;数据输入1&quot;,&#xd;
				&quot;streaming&quot;: true,&#xd;
				&quot;fieldNames&quot;: [&#xd;
					&quot;doing&quot;,&#xd;
					&quot;logintime&quot;,&#xd;
					&quot;name&quot;,&#xd;
					&quot;why&quot;,&#xd;
					&quot;id&quot;,&#xd;
					&quot;age&quot;&#xd;
				],&#xd;
				&quot;fieldZhNames&quot;: [&#xd;
					&quot;doing&quot;,&#xd;
					&quot;logintime&quot;,&#xd;
					&quot;name&quot;,&#xd;
					&quot;why&quot;,&#xd;
					&quot;id&quot;,&#xd;
					&quot;age&quot;&#xd;
				],&#xd;
				&quot;fieldTypes&quot;: [&#xd;
					&quot;STRING&quot;,&#xd;
					&quot;DATE&quot;,&#xd;
					&quot;STRING&quot;,&#xd;
					&quot;STRING&quot;,&#xd;
					&quot;INTEGER&quot;,&#xd;
					&quot;INTEGER&quot;&#xd;
				],&#xd;
				&quot;outputDatasetName&quot;: &quot;${sourceId}&quot;,&#xd;
				&quot;outputDatasetZhName&quot;: &quot;自动化测试-kafka-明细模型用&quot;&#xd;
			},&#xd;
			&quot;displayConfig&quot;: {&#xd;
				&quot;values&quot;: {&#xd;
					&quot;sourceId&quot;: &quot;${sourceId}&quot;,&#xd;
					&quot;name&quot;: &quot;数据输入1&quot;&#xd;
				},&#xd;
				&quot;fields&quot;: [&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 1,&#xd;
						&quot;code&quot;: &quot;doing&quot;,&#xd;
						&quot;name&quot;: &quot;doing&quot;,&#xd;
						&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
						&quot;path&quot;: &quot;doing&quot;,&#xd;
						&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 2,&#xd;
						&quot;code&quot;: &quot;logintime&quot;,&#xd;
						&quot;name&quot;: &quot;logintime&quot;,&#xd;
						&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
						&quot;path&quot;: &quot;logintime&quot;,&#xd;
						&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: [&#xd;
							{&#xd;
								&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
								&quot;format&quot;: &quot;毫秒时间戳&quot;,&#xd;
								&quot;formatValue&quot;: &quot;LONG_MS&quot;&#xd;
							}&#xd;
						]&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 3,&#xd;
						&quot;code&quot;: &quot;name&quot;,&#xd;
						&quot;name&quot;: &quot;name&quot;,&#xd;
						&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
						&quot;path&quot;: &quot;name&quot;,&#xd;
						&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 4,&#xd;
						&quot;code&quot;: &quot;why&quot;,&#xd;
						&quot;name&quot;: &quot;why&quot;,&#xd;
						&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
						&quot;path&quot;: &quot;why&quot;,&#xd;
						&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 5,&#xd;
						&quot;code&quot;: &quot;id&quot;,&#xd;
						&quot;name&quot;: &quot;id&quot;,&#xd;
						&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
						&quot;path&quot;: &quot;id&quot;,&#xd;
						&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 6,&#xd;
						&quot;code&quot;: &quot;age&quot;,&#xd;
						&quot;name&quot;: &quot;age&quot;,&#xd;
						&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
						&quot;path&quot;: &quot;age&quot;,&#xd;
						&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		},&#xd;
		{&#xd;
			&quot;name&quot;: &quot;数据输出&quot;,&#xd;
			&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;id&quot;: 2,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				1&#xd;
			],&#xd;
			&quot;x&quot;: 1424.4502766927083,&#xd;
			&quot;y&quot;: 174.11459350585938,&#xd;
			&quot;config&quot;: {&#xd;
				&quot;fieldMaps&quot;: [&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;doing&quot;,&#xd;
							&quot;name&quot;: &quot;doing&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;doing&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;doing&quot;,&#xd;
							&quot;name&quot;: &quot;doing&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;doing&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;logintime&quot;,&#xd;
							&quot;name&quot;: &quot;logintime&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;path&quot;: &quot;logintime&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: [&#xd;
								{&#xd;
									&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
									&quot;format&quot;: &quot;毫秒时间戳&quot;,&#xd;
									&quot;formatValue&quot;: &quot;LONG_MS&quot;&#xd;
								}&#xd;
							]&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;logintime&quot;,&#xd;
							&quot;name&quot;: &quot;logintime&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;path&quot;: &quot;logintime&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: [&#xd;
								{&#xd;
									&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
									&quot;format&quot;: &quot;毫秒时间戳&quot;,&#xd;
									&quot;formatValue&quot;: &quot;LONG_MS&quot;&#xd;
								}&#xd;
							]&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;why&quot;,&#xd;
							&quot;name&quot;: &quot;why&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;why&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;why&quot;,&#xd;
							&quot;name&quot;: &quot;why&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;why&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 5,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 5,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 6,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 6,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					}&#xd;
				],&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				}&#xd;
			}&#xd;
		}&#xd;
	]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/etls/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1768477677">创建ETL成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">5000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test12(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">20000</stringProp>
            </TestAction>
            <hashTree/>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene1-test13(写入kafka)" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">10</stringProp>
              </LoopController>
              <hashTree>
                <JavaSampler guiclass="JavaTestSamplerGui" testclass="JavaSampler" testname="写入kafka" enabled="true">
                  <stringProp name="TestPlan.comments">1、安装时间戳创建topic保证了独一无二
2、写入100条数据</stringProp>
                  <elementProp name="arguments" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="kafka_brokers" elementType="Argument">
                        <stringProp name="Argument.name">kafka_brokers</stringProp>
                        <stringProp name="Argument.value">${kafkaIp}:9192</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_topic" elementType="Argument">
                        <stringProp name="Argument.name">kafka_topic</stringProp>
                        <stringProp name="Argument.value">${topic}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_message" elementType="Argument">
                        <stringProp name="Argument.name">kafka_message</stringProp>
                        <stringProp name="Argument.value">{ &quot;id&quot;: ${num}, &quot;name&quot;: &quot;李四3&quot;, &quot;age&quot;: ${num}, &quot;doing&quot;: &quot;偷袭人&quot;, &quot;why&quot;: &quot;执行刺激&quot;, &quot;logintime&quot;: ${logintime} }</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="classname">co.signal.kafkameter.KafkaProducerSampler</stringProp>
                </JavaSampler>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">5786573360000</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                    <stringProp name="TestPlan.comments">${__time()}   ${__Random(0,99,n)}</stringProp>
                  </CounterConfig>
                  <hashTree/>
                  <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="script">//long topic_time=Long.parseLong(vars.get(&quot;topic_time&quot;));
//String topic = &quot;zlj_datasync_test_&quot;+topic_time;
//vars.put(&quot;topic&quot;,topic);
long time=${__time()};
int num=Integer.parseInt(vars.get(&quot;num&quot;));
long logintime= time+1000*num;
vars.put(&quot;logintime&quot;,logintime+&quot;&quot;);
</stringProp>
                    <stringProp name="scriptLanguage">groovy</stringProp>
                  </JSR223PreProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;25&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_mx_model_test*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test14(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test15(查询数据域)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/domain/list</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                <stringProp name="VAR">domainName</stringProp>
                <stringProp name="JSONPATH">$</stringProp>
                <stringProp name="DEFAULT">000</stringProp>
                <stringProp name="VARIABLE"></stringProp>
                <stringProp name="SUBJECT">BODY</stringProp>
                <stringProp name="INPUT_FORMAT">JSON</stringProp>
              </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">domainId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.name ==&quot;自动化数据域&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
              <stringProp name="IfController.condition">${__groovy(!vars.get(&quot;domainName&quot;).contains(&quot;自动化&quot;),)}</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
              <boolProp name="IfController.useExpression">true</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建数据域" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化数据域&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/domain/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">domainId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test16(共享)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化数据域&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/publishSharedData?id=${modelId}&amp;domainId=${domainId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene02-创建主题分析-算子分析批,依赖明细模型" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
            <stringProp name="TestPlan.comments">依赖场景1</stringProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=100&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-算子主题批&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene2-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_sz_zt_p*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene2-test04(清空数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建算子主题模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test05(查询明细模型的分析id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化明细模型测试&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test06(查询明细模型的field)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getAnalysisMetaData?metaDataId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaFields</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..metaFields</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test07(创建算子分析)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-算子主题批&quot;,&quot;type&quot;:&quot;CUSTOM&quot;,&quot;config&quot;:{&quot;engine&quot;:[],&quot;name&quot;:&quot;自动化测试-算子分析数据分析&quot;,&quot;period&quot;:&quot;&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;partition&quot;:{&quot;isTimePartition&quot;:false,&quot;timePartition&quot;:{&quot;field&quot;:&quot;&quot;,&quot;interval&quot;:86400000},&quot;isOtherPartition&quot;:false,&quot;otherPartition&quot;:[]},&quot;keyFields&quot;:[],&quot;metaDatas&quot;:[{&quot;metaDataId&quot;:&quot;${modelId}&quot;}],&quot;nodes&quot;:[{&quot;name&quot;:&quot;数据输入&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;key&quot;:&quot;InputNode&quot;,&quot;id&quot;:1,&quot;prevNodeIds&quot;:[-1],&quot;x&quot;:284.89005533854174,&quot;y&quot;:441.89239501953125,&quot;config&quot;:{&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;fields&quot;:${metaFields},&quot;partitions&quot;:[],&quot;filters&quot;:[],&quot;partitionsFilters&quot;:{&quot;fields&quot;:[],&quot;type&quot;:&quot;or&quot;},&quot;streaming&quot;:true,&quot;runMode&quot;:&quot;Stream&quot;},&quot;displayConfig&quot;:{&quot;values&quot;:{&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;fields&quot;:${metaFields},&quot;partitions&quot;:[],&quot;filters&quot;:[],&quot;partitionsFilters&quot;:{&quot;fields&quot;:[],&quot;type&quot;:&quot;or&quot;}},&quot;fields&quot;:${metaFields}},&quot;metaDataId&quot;:&quot;${modelId}&quot;},{&quot;name&quot;:&quot;数据输出&quot;,&quot;type&quot;:&quot;OutputNode&quot;,&quot;key&quot;:&quot;OutputNode&quot;,&quot;id&quot;:2,&quot;prevNodeIds&quot;:[1],&quot;x&quot;:1424.4502766927083,&quot;y&quot;:441.89239501953125,&quot;config&quot;:{&quot;outputCols&quot;:[&quot;doing&quot;,&quot;logintime&quot;,&quot;name&quot;,&quot;why&quot;,&quot;id&quot;,&quot;age&quot;]}}],&quot;runType&quot;:&quot;RunDirectly&quot;,&quot;runMethod&quot;:&quot;Once&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">2000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test08(查询算子分析id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题批</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test09(发布准备)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/topo?id=${analysisId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                  <stringProp name="VAR">nodesId</stringProp>
                  <stringProp name="JSONPATH">$..nodes[*].id</stringProp>
                  <stringProp name="DEFAULT">000</stringProp>
                  <stringProp name="VARIABLE"></stringProp>
                  <stringProp name="SUBJECT">BODY</stringProp>
                  <stringProp name="INPUT_FORMAT">JSON</stringProp>
                </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test10(发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:${nodesId},&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test11(查询模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题批</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_sz_zt_p*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysql_password}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">1000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;source&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);</stringProp>
                  </JSR223PostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test12(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test13(检查作业执行类型是单次执行)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-101604118">&quot;period&quot;:&quot;单次执行&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene03-创建主题分析-即席分析批,依赖明细模型" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
            <stringProp name="TestPlan.comments">依赖明细模型去创建
18.14.0目前有bug，limit查询不到，导致没有数据写入</stringProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test01(查询引擎id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">kafka_engineId;ES_engineId;flume_engineId;spark_engineId;</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Kafka&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;ElasticSearch&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Flume&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Spark&quot;)].id;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test02(设置默认引擎)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;regionId&quot;:&quot;local&quot;,&quot;features&quot;:[{&quot;feature&quot;:&quot;ResultData&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafka_engineId}&quot;},{&quot;feature&quot;:&quot;TSData&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataSync&quot;,&quot;engineId&quot;:&quot;${flume_engineId}&quot;},{&quot;feature&quot;:&quot;ETLCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;RealCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;OffCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;MachineStudy&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;}]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/default/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene3-test03(清理掉ES中历史数据)" enabled="true">
              <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_quick_analysis_p*</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test04(查询历史即席分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-即席分析批</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test05(删除即席分析)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${analysisId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test06(查询明细模型的分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化明细模型测试&amp;pageSize=10&amp;pageIndex=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test07(创建即席分析)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-即席分析批&quot;,&quot;type&quot;:&quot;QUERY_ANALYSIS&quot;,&quot;id&quot;:null,&quot;config&quot;:{&quot;name&quot;:&quot;自动化测试-即席分析批&quot;,&quot;engine&quot;:&quot;&quot;,&quot;sql&quot;:&quot;select * from `自动化明细模型测试`;&quot;,&quot;period&quot;:&quot;0 0 * * * ?&quot;,&quot;metaDatas&quot;:[{&quot;metaDataId&quot;:&quot;${modelId}&quot;}],&quot;partition&quot;:{&quot;isTimePartition&quot;:true,&quot;timePartition&quot;:{&quot;field&quot;:&quot;logintime&quot;,&quot;interval&quot;:86400000},&quot;isOtherPartition&quot;:true,&quot;otherPartition&quot;:[&quot;age&quot;]}}}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test08(查询分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-即席分析批</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test09(发布准备)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/topo?id=${analysisId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                <stringProp name="VAR">nodesId</stringProp>
                <stringProp name="JSONPATH">$..nodes[*].id</stringProp>
                <stringProp name="DEFAULT">000</stringProp>
                <stringProp name="VARIABLE"></stringProp>
                <stringProp name="SUBJECT">BODY</stringProp>
                <stringProp name="INPUT_FORMAT">JSON</stringProp>
              </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test10(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:${nodesId},&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;25&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_quick_analysis_p_*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;source&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);</stringProp>
                </JSR223PostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test11(查询即席分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-即席分析批</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test12(预览即席分析)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${analysisId}&amp;pageIndex=1&amp;pageSize=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  <stringProp name="25311253">执行刺</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">34</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene04-创建主题分析-算子分析流" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
            <stringProp name="TestPlan.comments">依赖场景1</stringProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=100&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-算子主题流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene04-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_sz_zt_l*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="清空数据" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建算子主题模型流" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test04(查询明细模型的分析id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化明细模型测试&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test05(查询明细模型的field)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getAnalysisMetaData?metaDataId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaFields</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..metaFields</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test06(创建算子分析)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-算子主题流&quot;,&quot;type&quot;:&quot;CUSTOM&quot;,&quot;config&quot;:{&quot;engine&quot;:[],&quot;name&quot;:&quot;自动化测试-算子分析数据分析&quot;,&quot;period&quot;:&quot;&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;partition&quot;:{&quot;isTimePartition&quot;:false,&quot;timePartition&quot;:{&quot;field&quot;:&quot;&quot;,&quot;interval&quot;:86400000},&quot;isOtherPartition&quot;:false,&quot;otherPartition&quot;:[]},&quot;keyFields&quot;:[],&quot;metaDatas&quot;:[{&quot;metaDataId&quot;:&quot;${modelId}&quot;}],&quot;nodes&quot;:[{&quot;name&quot;:&quot;数据输入&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;key&quot;:&quot;InputNode&quot;,&quot;id&quot;:1,&quot;prevNodeIds&quot;:[-1],&quot;x&quot;:284.89005533854174,&quot;y&quot;:441.89239501953125,&quot;config&quot;:{&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;fields&quot;:${metaFields},&quot;partitions&quot;:[],&quot;filters&quot;:[],&quot;partitionsFilters&quot;:{&quot;fields&quot;:[],&quot;type&quot;:&quot;or&quot;},&quot;streaming&quot;:true,&quot;runMode&quot;:&quot;Stream&quot;},&quot;displayConfig&quot;:{&quot;values&quot;:{&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;fields&quot;:${metaFields},&quot;partitions&quot;:[],&quot;filters&quot;:[],&quot;partitionsFilters&quot;:{&quot;fields&quot;:[],&quot;type&quot;:&quot;or&quot;}},&quot;fields&quot;:${metaFields}},&quot;metaDataId&quot;:&quot;${modelId}&quot;},{&quot;name&quot;:&quot;数据输出&quot;,&quot;type&quot;:&quot;OutputNode&quot;,&quot;key&quot;:&quot;OutputNode&quot;,&quot;id&quot;:2,&quot;prevNodeIds&quot;:[1],&quot;x&quot;:1424.4502766927083,&quot;y&quot;:441.89239501953125,&quot;config&quot;:{&quot;outputCols&quot;:[&quot;doing&quot;,&quot;logintime&quot;,&quot;name&quot;,&quot;why&quot;,&quot;id&quot;,&quot;age&quot;]}}]}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test07(查询算子分析id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题流</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test08(发布准备)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/topo?id=${analysisId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                  <stringProp name="VAR">nodesId</stringProp>
                  <stringProp name="JSONPATH">$..nodes[*].id</stringProp>
                  <stringProp name="DEFAULT">000</stringProp>
                  <stringProp name="VARIABLE"></stringProp>
                  <stringProp name="SUBJECT">BODY</stringProp>
                  <stringProp name="INPUT_FORMAT">JSON</stringProp>
                </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test09(发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:${nodesId},&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
                <intProp name="ActionProcessor.action">1</intProp>
                <intProp name="ActionProcessor.target">0</intProp>
                <stringProp name="ActionProcessor.duration">10000</stringProp>
              </TestAction>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-tes10(查询模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题流</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene04-test11(写入kafka)" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">10</stringProp>
              </LoopController>
              <hashTree>
                <JavaSampler guiclass="JavaTestSamplerGui" testclass="JavaSampler" testname="(写入kafka)" enabled="true">
                  <stringProp name="TestPlan.comments">1、安装时间戳创建topic保证了独一无二
2、写入100条数据</stringProp>
                  <elementProp name="arguments" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="kafka_brokers" elementType="Argument">
                        <stringProp name="Argument.name">kafka_brokers</stringProp>
                        <stringProp name="Argument.value">${kafkaIp}:9192</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_topic" elementType="Argument">
                        <stringProp name="Argument.name">kafka_topic</stringProp>
                        <stringProp name="Argument.value">dw_zdh_mx_model_test</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_message" elementType="Argument">
                        <stringProp name="Argument.name">kafka_message</stringProp>
                        <stringProp name="Argument.value">{ &quot;id&quot;: ${num}, &quot;name&quot;: &quot;李四3&quot;, &quot;age&quot;: ${num}, &quot;doing&quot;: &quot;偷袭人&quot;, &quot;why&quot;: &quot;执行刺激&quot;, &quot;logintime&quot;: ${logintime} }</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="classname">co.signal.kafkameter.KafkaProducerSampler</stringProp>
                </JavaSampler>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">5786573360000</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                    <stringProp name="TestPlan.comments">${__time()}   ${__Random(0,99,n)}</stringProp>
                  </CounterConfig>
                  <hashTree/>
                  <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="script">//long topic_time=Long.parseLong(vars.get(&quot;topic_time&quot;));
//String topic = &quot;zlj_datasync_test_&quot;+topic_time;
//vars.put(&quot;topic&quot;,topic);
long time=${__time()};
int num=Integer.parseInt(vars.get(&quot;num&quot;));
long logintime= time+1000*num;
vars.put(&quot;logintime&quot;,logintime+&quot;&quot;);
</stringProp>
                    <stringProp name="scriptLanguage">groovy</stringProp>
                  </JSR223PreProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data2}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_sz_zt_l/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">10.1.62.12</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">broada123</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">1000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data2</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                  <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
                  </JSR223PostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test12(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">10000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test13(检查作业执行类型是流)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene05-创建明细模型-表格转换发布共享-mysql" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化明细模型之表格化转换&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test03(创建明细模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;accessId&quot;:&quot;&quot;,&quot;name&quot;:&quot;自动化明细模型之表格化转换&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test04(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test05(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test06(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test07(查询历史数据源)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test08(删除掉历史数据源)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene05-test09(清理掉ES中历史数据)" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_mx_model_bg_h_zh*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysql_password}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene05-test10(mysql中清空数据)" enabled="true">
                  <stringProp name="dataSource">${mysqlIp}</stringProp>
                  <stringProp name="query">delete from t1;</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Callable Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">name</stringProp>
                  <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
                </JDBCSampler>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询所有引擎" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test11(创建mysql数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mysql-明细模型用&quot;,&quot;describe&quot;:&quot;自动化测试-mysql-日期切分-流-kafka-不指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MYSQL&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:mysql://${mysqlIp}:3306/uyun_udap?serverTimezone=Asia/Shanghai&quot;,&quot;username&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mysql_date_streaming_kafka_from0_${topic_time}&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test12(创建ETL转化)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;张立杰测试1&quot;,&#xd;
	&quot;type&quot;: &quot;SIMPLE&quot;,&#xd;
	&quot;config&quot;: [&#xd;
		{&#xd;
			&quot;id&quot;: 1,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				-1&#xd;
			],&#xd;
			&quot;type&quot;: &quot;InputNode&quot;,&#xd;
			&quot;name&quot;: &quot;自动化测试-mysql-明细模型用&quot;,&#xd;
			&quot;config&quot;: {&#xd;
				&quot;sourceId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		},&#xd;
		{&#xd;
			&quot;id&quot;: 2,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				1&#xd;
			],&#xd;
			&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;name&quot;: &quot;数据输出&quot;,&#xd;
			&quot;config&quot;: {&#xd;
				&quot;fieldMaps&quot;: [&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;sex&quot;,&#xd;
							&quot;name&quot;: &quot;sex&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;sex&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;sex&quot;,&#xd;
							&quot;name&quot;: &quot;sex&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;sex&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 5,&#xd;
							&quot;code&quot;: &quot;hobby&quot;,&#xd;
							&quot;name&quot;: &quot;hobby&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;hobby&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 5,&#xd;
							&quot;code&quot;: &quot;hobby&quot;,&#xd;
							&quot;name&quot;: &quot;hobby&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;hobby&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 6,&#xd;
							&quot;code&quot;: &quot;classes&quot;,&#xd;
							&quot;name&quot;: &quot;classes&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;classes&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 6,&#xd;
							&quot;code&quot;: &quot;classes&quot;,&#xd;
							&quot;name&quot;: &quot;classes&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;classes&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 7,&#xd;
							&quot;code&quot;: &quot;school&quot;,&#xd;
							&quot;name&quot;: &quot;school&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;school&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 7,&#xd;
							&quot;code&quot;: &quot;school&quot;,&#xd;
							&quot;name&quot;: &quot;school&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;school&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 8,&#xd;
							&quot;code&quot;: &quot;birthday&quot;,&#xd;
							&quot;name&quot;: &quot;birthday&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;path&quot;: &quot;birthday&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 8,&#xd;
							&quot;code&quot;: &quot;birthday&quot;,&#xd;
							&quot;name&quot;: &quot;birthday&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;path&quot;: &quot;birthday&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 9,&#xd;
							&quot;code&quot;: &quot;costs&quot;,&#xd;
							&quot;name&quot;: &quot;costs&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;costs&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 9,&#xd;
							&quot;code&quot;: &quot;costs&quot;,&#xd;
							&quot;name&quot;: &quot;costs&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;costs&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		}&#xd;
	],&#xd;
	&quot;modelId&quot;: &quot;${modelId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/etls/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1768477677">创建ETL成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">3000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test13(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene05-test14(mysql中新增10条数据)" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 1, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 2, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 3, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 4, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 5, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_mx_model_bg_h_zh*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test15(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test16(查询数据域)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/domain/list</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                <stringProp name="VAR">domainName</stringProp>
                <stringProp name="JSONPATH">$</stringProp>
                <stringProp name="DEFAULT">000</stringProp>
                <stringProp name="VARIABLE"></stringProp>
                <stringProp name="SUBJECT">BODY</stringProp>
                <stringProp name="INPUT_FORMAT">JSON</stringProp>
              </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">domainId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.name ==&quot;自动化数据域&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
              <stringProp name="IfController.condition">${__groovy(!vars.get(&quot;domainName&quot;).contains(&quot;自动化&quot;),)}</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
              <boolProp name="IfController.useExpression">true</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建数据域" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化数据域&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/domain/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">domainId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test17(共享)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化数据域&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/publishSharedData?id=${modelId}&amp;domainId=${domainId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">3000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene06-创建明细模型-usql转换-批任务-ES" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test01(查询引擎的id)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test02(查询所有引擎)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test03(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化明细模型之usql转换&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test04(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test05(创建明细模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;accessId&quot;:&quot;&quot;,&quot;name&quot;:&quot;自动化明细模型之usql转换&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test06(查询历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-ES-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test07(删除掉历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene06-test08(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_usql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene06-test09(清理掉ES数据源历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detailmodel_test*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test10(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test11(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test12(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test13(创建ES数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-ES-明细模型用&quot;,&quot;describe&quot;:&quot;自动化测试-es-ID切分-批每分钟-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;ES&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;street&quot;,&quot;name&quot;:&quot;street&quot;,&quot;path&quot;:&quot;street&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;city&quot;,&quot;name&quot;:&quot;city&quot;,&quot;path&quot;:&quot;city&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;time&quot;,&quot;name&quot;:&quot;time&quot;,&quot;path&quot;:&quot;time&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]}],&quot;accessInfo&quot;:{&quot;ip&quot;:&quot;${esIp}&quot;,&quot;port&quot;:&quot;${esport}&quot;,&quot;index&quot;:&quot;zlj_detailmodel_test&quot;,&quot;type&quot;:&quot;&quot;,&quot;tcp_port&quot;:&quot;9300&quot;,&quot;cluster_name&quot;:&quot;elasticsearch&quot;,&quot;version&quot;:&quot;7.x&quot;,&quot;security&quot;:{&quot;typeNum&quot;:1,&quot;auth&quot;:{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;ssl&quot;:false}},&quot;regionId&quot;:&quot;local&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:false}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene06-test14(新增10条数据)" enabled="true">
              <stringProp name="command">rm -rf  3.sh&amp;&amp;for i in $(seq 101 110) ;do let x=1626883200000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/zlj_detailmodel_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);

int kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
int solution_value=new Integer(vars.get(&quot;solution_value&quot;));
int deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
int core_value=new Integer(vars.get(&quot;core_value&quot;));
int kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
int metric_value=new Integer(vars.get(&quot;metric_value&quot;));
int mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
//初始化值为-1
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source1 =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source1.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	//初始化后只赋值一次
	if (kafkastreams_value==-1){
	 kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (solution_value==-1){
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (deploy_value==-1){
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (core_value==-1){
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (kafka_value==-1){
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	if (metric_value==-1){
	 metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (mongodb_value==-1){
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}	
	}
 }

vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
	int result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
	log.error(result+&quot;&quot;);
	vars.put(&quot;result&quot;,result+&quot;&quot;);
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test15(创建ETL转化)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化明细模型之usql转换&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;modelId&quot;: &quot;${modelId}&quot;,&#xd;
	&quot;config&quot;: [&#xd;
		{&#xd;
			&quot;id&quot;: 1,&#xd;
			&quot;key&quot;: &quot;InputNode&quot;,&#xd;
			&quot;type&quot;: &quot;InputNode&quot;,&#xd;
			&quot;name&quot;: &quot;输入算子&quot;,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				-1&#xd;
			],&#xd;
			&quot;config&quot;: {&#xd;
				&quot;sourceId&quot;: &quot;1&quot;,&#xd;
				&quot;sql&quot;: &quot;load `自动化测试-ES-明细模型用` as t1;\nsave t1 as es.`zlj_detail_usql/_doc`;&quot;,&#xd;
				&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
				&quot;runMode&quot;: &quot;Batch&quot;,&#xd;
				&quot;period&quot;: &quot;0 0 * * * ?&quot;,&#xd;
				&quot;runMethod&quot;: &quot;Cycle&quot;,&#xd;
				&quot;engine&quot;: &quot;SPARK_USQL&quot;,&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				},&#xd;
				&quot;metaDatas&quot;: [&#xd;
					{&#xd;
						&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		},&#xd;
		{&#xd;
			&quot;name&quot;: &quot;数据输出&quot;,&#xd;
			&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;id&quot;: 2,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				1&#xd;
			],&#xd;
			&quot;config&quot;: {&#xd;
				&quot;fieldMaps&quot;: [&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 0,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;street&quot;,&#xd;
							&quot;name&quot;: &quot;street&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;street&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;city&quot;,&#xd;
							&quot;name&quot;: &quot;city&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;city&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;time&quot;,&#xd;
							&quot;name&quot;: &quot;time&quot;,&#xd;
							&quot;dataType&quot;: &quot;LONG&quot;,&#xd;
							&quot;path&quot;: &quot;time&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					}&#xd;
				],&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				}&#xd;
			}&#xd;
		}&#xd;
	],&#xd;
	&quot;editable&quot;: true,&#xd;
	&quot;engine&quot;: [&#xd;
		{&#xd;
			&quot;regionId&quot;: &quot;local&quot;,&#xd;
			&quot;features&quot;: [&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
					&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
					&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
					&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
					&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
				}&#xd;
			]&#xd;
		}&#xd;
	]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/etls/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1768477677">创建ETL成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">3000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test16(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene06-test17(直接查询ES)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_usql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test18(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test19(检查作业执行类型是批)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  <stringProp name="-101604118">&quot;period&quot;:&quot;单次执行&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">20</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene07-创建明细模型-usql转换-流任务-mysql" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test01(查询引擎的id)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test02(查询所有引擎)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test03(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化明细模型之usql转换流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test04(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test05(创建明细模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;accessId&quot;:&quot;&quot;,&quot;name&quot;:&quot;自动化明细模型之usql转换流&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test06(查询历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-明细模型usql用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test07(删除掉历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene07-test08(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_streamusql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene07-test09(mysql中清空数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test10(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test11(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test12(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test13(创建mysql数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mysql-明细模型usql用&quot;,&quot;describe&quot;:&quot;自动化测试-mysql-明细模型usql用&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MYSQL&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:mysql://${mysqlIp}:3306/uyun_udap?serverTimezone=Asia/Shanghai&quot;,&quot;username&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mysql_streaming_usql_${topic_time}&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test14(创建ETL转化)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化明细模型之usql转换流&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;modelId&quot;: &quot;${modelId}&quot;,&#xd;
	&quot;config&quot;: [&#xd;
		{&#xd;
			&quot;id&quot;: 1,&#xd;
			&quot;key&quot;: &quot;InputNode&quot;,&#xd;
			&quot;type&quot;: &quot;InputNode&quot;,&#xd;
			&quot;name&quot;: &quot;输入算子&quot;,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				-1&#xd;
			],&#xd;
			&quot;config&quot;: {&#xd;
				&quot;sourceId&quot;: &quot;1&quot;,&#xd;
				&quot;sql&quot;: &quot;load `自动化测试-mysql-明细模型usql用` as t1;\nsave t1 as es.`zlj_detail_streamusql_{name}_{birthday:yyyy.MM.dd}/_doc`;&quot;,&#xd;
				&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
				&quot;runMode&quot;: &quot;Stream&quot;,&#xd;
				&quot;engine&quot;: &quot;SPARK_USQL&quot;,&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				},&#xd;
				&quot;metaDatas&quot;: [&#xd;
					{&#xd;
						&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		},&#xd;
		{&#xd;
			&quot;name&quot;: &quot;数据输出&quot;,&#xd;
			&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;id&quot;: 2,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				1&#xd;
			],&#xd;
			&quot;config&quot;: {&#xd;
				&quot;fieldMaps&quot;: [&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 0,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;street&quot;,&#xd;
							&quot;name&quot;: &quot;street&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;street&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;city&quot;,&#xd;
							&quot;name&quot;: &quot;city&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;city&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;time&quot;,&#xd;
							&quot;name&quot;: &quot;time&quot;,&#xd;
							&quot;dataType&quot;: &quot;LONG&quot;,&#xd;
							&quot;path&quot;: &quot;time&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					}&#xd;
				],&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				}&#xd;
			}&#xd;
		}&#xd;
	],&#xd;
	&quot;editable&quot;: true,&#xd;
	&quot;engine&quot;: [&#xd;
		{&#xd;
			&quot;regionId&quot;: &quot;local&quot;,&#xd;
			&quot;features&quot;: [&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
					&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
					&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
					&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
					&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
				}&#xd;
			]&#xd;
		}&#xd;
	]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/etls/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1768477677">创建ETL成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">3000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test15(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene07-test16(mysql中新增10条数据)" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_streamusql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test17(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene07-test18(查询usql模型ES数据)" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_streamusql_wang4_2021.07.15/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="906619">演戏</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test19(检查作业执行类型是流)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene08-创建汇总模型-USQL分析流" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-usql汇总流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene08-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_custom_streamusql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene08-test04(mysql中清空数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建mysql汇总模型流" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test05(查询引擎的id)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test06(查询数据源id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-明细模型usql用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test07(databank-创建汇总模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-usql汇总流&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;layer&quot;: &quot;USQL&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
		&quot;sql&quot;: &quot;load `自动化测试-mysql-明细模型usql用` as t1;\nsave t1 as es.`zlj_custom_streamusql_{name}_{birthday:yyyy.MM.dd}/_doc`;&quot;,&#xd;
		&quot;period&quot;: &quot;&quot;,&#xd;
		&quot;runMode&quot;: &quot;Stream&quot;,&#xd;
		&quot;saveKafka&quot;: false,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: [&#xd;
			{&#xd;
				&quot;regionId&quot;: &quot;local&quot;,&#xd;
				&quot;features&quot;: [&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		],&#xd;
		&quot;fields&quot;: [&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;id&quot;,&#xd;
				&quot;field&quot;: &quot;id&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;name&quot;,&#xd;
				&quot;field&quot;: &quot;name&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;age&quot;,&#xd;
				&quot;field&quot;: &quot;age&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;sex&quot;,&#xd;
				&quot;field&quot;: &quot;sex&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;hobby&quot;,&#xd;
				&quot;field&quot;: &quot;hobby&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;classes&quot;,&#xd;
				&quot;field&quot;: &quot;classes&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;school&quot;,&#xd;
				&quot;field&quot;: &quot;school&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;birthday&quot;,&#xd;
				&quot;field&quot;: &quot;birthday&quot;,&#xd;
				&quot;fieldType&quot;: &quot;DATE&quot;,&#xd;
				&quot;formats&quot;: [&#xd;
					{&#xd;
						&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
						&quot;format&quot;: &quot;毫秒时间戳&quot;&#xd;
					}&#xd;
				]&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;costs&quot;,&#xd;
				&quot;field&quot;: &quot;costs&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			}&#xd;
		]&#xd;
	}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test08(databank-发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
                <intProp name="ActionProcessor.action">1</intProp>
                <intProp name="ActionProcessor.target">0</intProp>
                <stringProp name="ActionProcessor.duration">10000</stringProp>
              </TestAction>
              <hashTree/>
            </hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene08-test09(mysql中新增10条数据)" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_custom_streamusql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test10(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test11(检查作业执行类型是流)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene08-test12(databank-查询usql模型ES数据)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_custom_streamusql_wang4_2021.07.15/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="906619">演戏</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene09-创建汇总模型-USQL分析批--" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史汇总和数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-usql汇总批&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene09-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_test2*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene09-test04(清理掉ES数据源历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detailmodel_test*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene09-test05(新增10条数据)" enabled="true">
              <stringProp name="command">rm -rf  3.sh&amp;&amp;for i in $(seq 101 110) ;do let x=1626883200000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/zlj_detailmodel_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test06(查询引擎的id)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test07(查询数据源id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-ES-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test08(创建汇总模型)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-usql汇总批&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;layer&quot;: &quot;USQL&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;runMethod&quot;: &quot;Cycle&quot;,&#xd;
		&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
		&quot;sql&quot;: &quot;load `自动化测试-ES-明细模型用` as t1;\nsave t1 as es.`zlj_test2/_doc`;&quot;,&#xd;
		&quot;period&quot;: &quot;0 0 * * * ?&quot;,&#xd;
		&quot;runMode&quot;: &quot;Batch&quot;,&#xd;
		&quot;saveKafka&quot;: false,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: [&#xd;
			{&#xd;
				&quot;regionId&quot;: &quot;local&quot;,&#xd;
				&quot;features&quot;: [&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		],&#xd;
		&quot;fields&quot;: [&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;id&quot;,&#xd;
				&quot;field&quot;: &quot;id&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;name&quot;,&#xd;
				&quot;field&quot;: &quot;name&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;street&quot;,&#xd;
				&quot;field&quot;: &quot;street&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;city&quot;,&#xd;
				&quot;field&quot;: &quot;city&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;time&quot;,&#xd;
				&quot;field&quot;: &quot;time&quot;,&#xd;
				&quot;fieldType&quot;: &quot;LONG&quot;&#xd;
			}&#xd;
		]&#xd;
	}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-238869533">新建模型成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data.id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test09(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_test2*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test10(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test11(检查作业执行类型是批)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  <stringProp name="-101604118">&quot;period&quot;:&quot;单次执行&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">20</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene10-创建汇总模型-算子分析批)" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-算子汇总批&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test03(查询历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-汇总模型算子用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test04(删除掉历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene10-test05(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_test_sz_summary_p*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="清空数据" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test06(查询所有引擎)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test07(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test08(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test09(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test10(创建mysql数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mysql-汇总模型算子用&quot;,&quot;describe&quot;:&quot;自动化测试-mysql-汇总模型算子用&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MYSQL&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:mysql://${mysqlIp}:3306/uyun_udap?serverTimezone=Asia/Shanghai&quot;,&quot;username&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mysql_batch_sz&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test11(查询输入源)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getAnalysisMetaData?metaDataId=${sourceId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">id;name;age;sex;hobby;classes;school;birthday;costs</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..metaFields[?(@.code==id)].metaFieldId;$..metaFields[?(@.code==name)].metaFieldId;$..metaFields[?(@.code==age)].metaFieldId;$..metaFields[?(@.code==sex)].metaFieldId;$..metaFields[?(@.code==hobby)].metaFieldId;$..metaFields[?(@.code==classes)].metaFieldId;$..metaFields[?(@.code==school)].metaFieldId;$..metaFields[?(@.code==birthday)].metaFieldId;$..metaFields[?(@.code==costs)].metaFieldId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;000;000;000;</stringProp>
                <stringProp name="TestPlan.comments"> $.data.items[?(@.createTime ==1591169490879)].friendId</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test12(创建算子汇总模型)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-算子汇总批&quot;,&#xd;
	&quot;accessId&quot;: null,&#xd;
	&quot;layer&quot;: &quot;DWS_CUSTOM&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;name&quot;: &quot;自动化测试-算子汇总批&quot;,&#xd;
		&quot;period&quot;: &quot;0 0/30 * * * ? *&quot;,&#xd;
		&quot;runMode&quot;: &quot;Batch&quot;,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;keyFields&quot;: [],&#xd;
		&quot;nodes&quot;: [&#xd;
			{&#xd;
				&quot;name&quot;: &quot;数据输入&quot;,&#xd;
				&quot;type&quot;: &quot;InputNode&quot;,&#xd;
				&quot;key&quot;: &quot;InputNode&quot;,&#xd;
				&quot;id&quot;: 1,&#xd;
				&quot;prevNodeIds&quot;: [&#xd;
					-1&#xd;
				],&#xd;
				&quot;x&quot;: 249.33333333333349,&#xd;
				&quot;y&quot;: 188.5,&#xd;
				&quot;config&quot;: {&#xd;
					&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
					&quot;fields&quot;: [&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${id}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${name}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${age}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${sex}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;sex&quot;,&#xd;
							&quot;code&quot;: &quot;sex&quot;,&#xd;
							&quot;path&quot;: &quot;sex&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${hobby}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;hobby&quot;,&#xd;
							&quot;code&quot;: &quot;hobby&quot;,&#xd;
							&quot;path&quot;: &quot;hobby&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${classes}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;classes&quot;,&#xd;
							&quot;code&quot;: &quot;classes&quot;,&#xd;
							&quot;path&quot;: &quot;classes&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${school}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;school&quot;,&#xd;
							&quot;code&quot;: &quot;school&quot;,&#xd;
							&quot;path&quot;: &quot;school&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${birthday}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;birthday&quot;,&#xd;
							&quot;code&quot;: &quot;birthday&quot;,&#xd;
							&quot;path&quot;: &quot;birthday&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${costs}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;costs&quot;,&#xd;
							&quot;code&quot;: &quot;costs&quot;,&#xd;
							&quot;path&quot;: &quot;costs&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						}&#xd;
					],&#xd;
					&quot;partitions&quot;: [],&#xd;
					&quot;filters&quot;: [],&#xd;
					&quot;partitionsFilters&quot;: {&#xd;
						&quot;fields&quot;: [],&#xd;
						&quot;type&quot;: &quot;or&quot;&#xd;
					},&#xd;
					&quot;streaming&quot;: false,&#xd;
					&quot;runMode&quot;: &quot;Batch&quot;&#xd;
				},&#xd;
				&quot;displayConfig&quot;: {&#xd;
					&quot;values&quot;: {&#xd;
						&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
						&quot;fields&quot;: [&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${id}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;id&quot;,&#xd;
								&quot;code&quot;: &quot;id&quot;,&#xd;
								&quot;path&quot;: &quot;id&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${name}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;name&quot;,&#xd;
								&quot;code&quot;: &quot;name&quot;,&#xd;
								&quot;path&quot;: &quot;name&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${age}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;age&quot;,&#xd;
								&quot;code&quot;: &quot;age&quot;,&#xd;
								&quot;path&quot;: &quot;age&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${sex}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;sex&quot;,&#xd;
								&quot;code&quot;: &quot;sex&quot;,&#xd;
								&quot;path&quot;: &quot;sex&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${hobby}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;hobby&quot;,&#xd;
								&quot;code&quot;: &quot;hobby&quot;,&#xd;
								&quot;path&quot;: &quot;hobby&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${classes}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;classes&quot;,&#xd;
								&quot;code&quot;: &quot;classes&quot;,&#xd;
								&quot;path&quot;: &quot;classes&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${school}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;school&quot;,&#xd;
								&quot;code&quot;: &quot;school&quot;,&#xd;
								&quot;path&quot;: &quot;school&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${birthday}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;birthday&quot;,&#xd;
								&quot;code&quot;: &quot;birthday&quot;,&#xd;
								&quot;path&quot;: &quot;birthday&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${costs}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;costs&quot;,&#xd;
								&quot;code&quot;: &quot;costs&quot;,&#xd;
								&quot;path&quot;: &quot;costs&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							}&#xd;
						],&#xd;
						&quot;partitions&quot;: [],&#xd;
						&quot;filters&quot;: [],&#xd;
						&quot;partitionsFilters&quot;: {&#xd;
							&quot;fields&quot;: [],&#xd;
							&quot;type&quot;: &quot;or&quot;&#xd;
						}&#xd;
					},&#xd;
					&quot;fields&quot;: [&#xd;
						{&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${id}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${name}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${age}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;sex&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;sex&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${sex}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;hobby&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;hobby&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${hobby}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;classes&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;classes&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${classes}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;school&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;school&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${school}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;birthday&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;birthday&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${birthday}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;costs&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;costs&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${costs}&quot;&#xd;
						}&#xd;
					]&#xd;
				},&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;name&quot;: &quot;数据输出&quot;,&#xd;
				&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
				&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
				&quot;id&quot;: 2,&#xd;
				&quot;prevNodeIds&quot;: [&#xd;
					1&#xd;
				],&#xd;
				&quot;x&quot;: 1246.6666666666668,&#xd;
				&quot;y&quot;: 188.5,&#xd;
				&quot;config&quot;: {&#xd;
					&quot;outputCols&quot;: [&#xd;
						&quot;id&quot;,&#xd;
						&quot;name&quot;,&#xd;
						&quot;age&quot;,&#xd;
						&quot;sex&quot;,&#xd;
						&quot;hobby&quot;,&#xd;
						&quot;classes&quot;,&#xd;
						&quot;school&quot;,&#xd;
						&quot;birthday&quot;,&#xd;
						&quot;costs&quot;&#xd;
					]&#xd;
				}&#xd;
			}&#xd;
		],&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;runMethod&quot;: &quot;Cycle&quot;,&#xd;
		&quot;engine&quot;: []&#xd;
	}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-238869533">新建模型成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data.id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test13(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1094873850">请求成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene10-test14(mysql中新增10条数据)" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_test_sz_summary_p*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test15(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${sourceId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene11-创建汇总模型-算子分析流" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-算子汇总流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test03(查询历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-kafka-汇总模型算子用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test04(删除掉历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene11-test05(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_test_sz_summary_l*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test06(查询所有引擎)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test07(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test08(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test09(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test10(创建kafka数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-kafka-汇总模型算子用&quot;,&quot;describe&quot;:&quot;自动化测试-kafka-汇总模型算子用&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;KAFKA&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;doing&quot;,&quot;name&quot;:&quot;doing&quot;,&quot;path&quot;:&quot;doing&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;logintime&quot;,&quot;name&quot;:&quot;logintime&quot;,&quot;path&quot;:&quot;logintime&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}],&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;why&quot;,&quot;name&quot;:&quot;why&quot;,&quot;path&quot;:&quot;why&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;path&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;}],&quot;accessInfo&quot;:{&quot;hosts&quot;:&quot;${kafkaIp}:9192&quot;,&quot;topic&quot;:&quot;${topic}&quot;,&quot;version&quot;:&quot;1.1.x&quot;,&quot;format&quot;:&quot;JSON&quot;,&quot;delimiter&quot;:&quot;&quot;,&quot;className&quot;:&quot;&quot;,&quot;jsonParseToolJavaCodes&quot;:&quot;&quot;,&quot;security&quot;:{&quot;typeNum&quot;:0},&quot;groupId&quot;:&quot;&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;increased&quot;:false}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test11(查询输入源)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getAnalysisMetaData?metaDataId=${sourceId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">doing;name;why;id;age;logintime</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..metaFields[?(@.code==doing)].metaFieldId;$..metaFields[?(@.code==name)].metaFieldId;$..metaFields[?(@.code==why)].metaFieldId;$..metaFields[?(@.code==id)].metaFieldId;$..metaFields[?(@.code==age)].metaFieldId;$..metaFields[?(@.code==logintime)].metaFieldId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;</stringProp>
                <stringProp name="TestPlan.comments"> $.data.items[?(@.createTime ==1591169490879)].friendId</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test12(创建算子汇总模型)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-算子汇总流&quot;,&#xd;
	&quot;accessId&quot;: null,&#xd;
	&quot;layer&quot;: &quot;DWS_CUSTOM&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;name&quot;: &quot;自动化测试-算子汇总流&quot;,&#xd;
		&quot;period&quot;: &quot;&quot;,&#xd;
		&quot;runMode&quot;: &quot;Stream&quot;,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;keyFields&quot;: [],&#xd;
		&quot;nodes&quot;: [&#xd;
			{&#xd;
				&quot;name&quot;: &quot;数据输入&quot;,&#xd;
				&quot;type&quot;: &quot;InputNode&quot;,&#xd;
				&quot;key&quot;: &quot;InputNode&quot;,&#xd;
				&quot;id&quot;: 1,&#xd;
				&quot;prevNodeIds&quot;: [&#xd;
					-1&#xd;
				],&#xd;
				&quot;x&quot;: 249.33333333333349,&#xd;
				&quot;y&quot;: 389,&#xd;
				&quot;config&quot;: {&#xd;
					&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
					&quot;fields&quot;: [&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${doing}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;doing&quot;,&#xd;
							&quot;code&quot;: &quot;doing&quot;,&#xd;
							&quot;path&quot;: &quot;doing&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${logintime}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;logintime&quot;,&#xd;
							&quot;code&quot;: &quot;logintime&quot;,&#xd;
							&quot;path&quot;: &quot;logintime&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;[{\&quot;format\&quot;:\&quot;毫秒时间戳\&quot;,\&quot;formatValue\&quot;:\&quot;LONG_MS\&quot;,\&quot;type\&quot;:\&quot;LONG_MS\&quot;}]&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${name}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${why}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;why&quot;,&#xd;
							&quot;code&quot;: &quot;why&quot;,&#xd;
							&quot;path&quot;: &quot;why&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${id}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${age}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						}&#xd;
					],&#xd;
					&quot;partitions&quot;: [],&#xd;
					&quot;filters&quot;: [],&#xd;
					&quot;partitionsFilters&quot;: {&#xd;
						&quot;fields&quot;: [],&#xd;
						&quot;type&quot;: &quot;or&quot;&#xd;
					},&#xd;
					&quot;streaming&quot;: true,&#xd;
					&quot;runMode&quot;: &quot;Stream&quot;&#xd;
				},&#xd;
				&quot;displayConfig&quot;: {&#xd;
					&quot;values&quot;: {&#xd;
						&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
						&quot;fields&quot;: [&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${doing}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;doing&quot;,&#xd;
								&quot;code&quot;: &quot;doing&quot;,&#xd;
								&quot;path&quot;: &quot;doing&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${logintime}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;logintime&quot;,&#xd;
								&quot;code&quot;: &quot;logintime&quot;,&#xd;
								&quot;path&quot;: &quot;logintime&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;[{\&quot;format\&quot;:\&quot;毫秒时间戳\&quot;,\&quot;formatValue\&quot;:\&quot;LONG_MS\&quot;,\&quot;type\&quot;:\&quot;LONG_MS\&quot;}]&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${name}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;name&quot;,&#xd;
								&quot;code&quot;: &quot;name&quot;,&#xd;
								&quot;path&quot;: &quot;name&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${why}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;why&quot;,&#xd;
								&quot;code&quot;: &quot;why&quot;,&#xd;
								&quot;path&quot;: &quot;why&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${id}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;id&quot;,&#xd;
								&quot;code&quot;: &quot;id&quot;,&#xd;
								&quot;path&quot;: &quot;id&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${age}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;age&quot;,&#xd;
								&quot;code&quot;: &quot;age&quot;,&#xd;
								&quot;path&quot;: &quot;age&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							}&#xd;
						],&#xd;
						&quot;partitions&quot;: [],&#xd;
						&quot;filters&quot;: [],&#xd;
						&quot;partitionsFilters&quot;: {&#xd;
							&quot;fields&quot;: [],&#xd;
							&quot;type&quot;: &quot;or&quot;&#xd;
						}&#xd;
					},&#xd;
					&quot;fields&quot;: [&#xd;
						{&#xd;
							&quot;code&quot;: &quot;doing&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;doing&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${doing}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;logintime&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;logintime&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${logintime}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${name}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;why&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;why&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${why}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${id}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${age}&quot;&#xd;
						}&#xd;
					]&#xd;
				},&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;name&quot;: &quot;数据输出&quot;,&#xd;
				&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
				&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
				&quot;id&quot;: 2,&#xd;
				&quot;prevNodeIds&quot;: [&#xd;
					1&#xd;
				],&#xd;
				&quot;x&quot;: 1246.6666666666668,&#xd;
				&quot;y&quot;: 389,&#xd;
				&quot;config&quot;: {&#xd;
					&quot;outputCols&quot;: [&#xd;
						&quot;doing&quot;,&#xd;
						&quot;logintime&quot;,&#xd;
						&quot;name&quot;,&#xd;
						&quot;why&quot;,&#xd;
						&quot;id&quot;,&#xd;
						&quot;age&quot;&#xd;
					]&#xd;
				}&#xd;
			}&#xd;
		],&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: []&#xd;
	}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-238869533">新建模型成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data.id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test13(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1094873850">请求成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene11-test14(写入kafka)" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">10</stringProp>
              </LoopController>
              <hashTree>
                <JavaSampler guiclass="JavaTestSamplerGui" testclass="JavaSampler" testname="(写入kafka)" enabled="true">
                  <stringProp name="TestPlan.comments">1、安装时间戳创建topic保证了独一无二
2、写入100条数据</stringProp>
                  <elementProp name="arguments" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="kafka_brokers" elementType="Argument">
                        <stringProp name="Argument.name">kafka_brokers</stringProp>
                        <stringProp name="Argument.value">${kafkaIp}:9192</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_topic" elementType="Argument">
                        <stringProp name="Argument.name">kafka_topic</stringProp>
                        <stringProp name="Argument.value">${topic}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_message" elementType="Argument">
                        <stringProp name="Argument.name">kafka_message</stringProp>
                        <stringProp name="Argument.value">{ &quot;id&quot;: ${num}, &quot;name&quot;: &quot;李四3&quot;, &quot;age&quot;: ${num}, &quot;doing&quot;: &quot;偷袭人&quot;, &quot;why&quot;: &quot;执行刺激&quot;, &quot;logintime&quot;: ${logintime} }</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="classname">co.signal.kafkameter.KafkaProducerSampler</stringProp>
                </JavaSampler>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">5786573360000</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                    <stringProp name="TestPlan.comments">${__time()}   ${__Random(0,99,n)}</stringProp>
                  </CounterConfig>
                  <hashTree/>
                  <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="script">//long topic_time=Long.parseLong(vars.get(&quot;topic_time&quot;));
//String topic = &quot;zlj_datasync_test_&quot;+topic_time;
//vars.put(&quot;topic&quot;,topic);
long time=${__time()};
int num=Integer.parseInt(vars.get(&quot;num&quot;));
long logintime= time+1000*num;
vars.put(&quot;logintime&quot;,logintime+&quot;&quot;);
</stringProp>
                    <stringProp name="scriptLanguage">groovy</stringProp>
                  </JSR223PreProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_test_sz_summary_l*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test15(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${sourceId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene12-创建主题分析-USQL分析流-可能需要重启" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=100&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-usql主题流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene12-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_streamusql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene12-test04(清空数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建usql主题模型流" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test05(查询引擎的id)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test06(查询数据源id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-明细模型usql用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test07(创建模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-usql主题流&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;layer&quot;: &quot;USQL&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
		&quot;sql&quot;: &quot;load `自动化测试-mysql-明细模型usql用` as t1;\nsave t1 as es.`zlj_topic_streamusql_{name}_{birthday:yyyy.MM.dd}/_doc`;&quot;,&#xd;
		&quot;period&quot;: &quot;&quot;,&#xd;
		&quot;runMode&quot;: &quot;Stream&quot;,&#xd;
		&quot;saveKafka&quot;: false,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: [&#xd;
			{&#xd;
				&quot;regionId&quot;: &quot;local&quot;,&#xd;
				&quot;features&quot;: [&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		],&#xd;
		&quot;fields&quot;: [&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;id&quot;,&#xd;
				&quot;field&quot;: &quot;id&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;name&quot;,&#xd;
				&quot;field&quot;: &quot;name&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;age&quot;,&#xd;
				&quot;field&quot;: &quot;age&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;sex&quot;,&#xd;
				&quot;field&quot;: &quot;sex&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;hobby&quot;,&#xd;
				&quot;field&quot;: &quot;hobby&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;classes&quot;,&#xd;
				&quot;field&quot;: &quot;classes&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;school&quot;,&#xd;
				&quot;field&quot;: &quot;school&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;birthday&quot;,&#xd;
				&quot;field&quot;: &quot;birthday&quot;,&#xd;
				&quot;fieldType&quot;: &quot;DATE&quot;,&#xd;
				&quot;formats&quot;: [&#xd;
					{&#xd;
						&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
						&quot;format&quot;: &quot;毫秒时间戳&quot;&#xd;
					}&#xd;
				]&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;costs&quot;,&#xd;
				&quot;field&quot;: &quot;costs&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			}&#xd;
		]&#xd;
	}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1094873850">请求成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test08(查询模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-usql主题流</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test09(发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
                <intProp name="ActionProcessor.action">1</intProp>
                <intProp name="ActionProcessor.target">0</intProp>
                <stringProp name="ActionProcessor.duration">10000</stringProp>
              </TestAction>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene12-test10(mysql中新增10条数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_streamusql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysql_password}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">1000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;source&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);</stringProp>
                  </JSR223PostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test11(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                    <stringProp name="1608221142">\&quot;total\&quot;:11</stringProp>
                    <stringProp name="1608221143">\&quot;total\&quot;:12</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">34</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test12(检查作业执行类型是流)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene12-test13(查询usql模型ES数据)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_streamusql_wang4_2021.07.15/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="906619">演戏</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene13-创建主题分析-USQL分析批)" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=100&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-usql主题批&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene13-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_branchusql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene13-test04(清理掉ES数据源历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detailmodel_test*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建usql主题模型批" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test05(查询引擎的id)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test06(查询数据源id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-ES-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test07(创建模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-usql主题批&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;layer&quot;: &quot;USQL&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;runMethod&quot;: &quot;Cycle&quot;,&#xd;
		&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
		&quot;sql&quot;: &quot;load `自动化测试-ES-明细模型用` as t1;\nsave t1 as es.`zlj_topic_branchusql/_doc`;&quot;,&#xd;
		&quot;period&quot;: &quot;0 0/30 * * * ? *&quot;,&#xd;
		&quot;runMode&quot;: &quot;Batch&quot;,&#xd;
		&quot;saveKafka&quot;: false,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: [&#xd;
			{&#xd;
				&quot;regionId&quot;: &quot;local&quot;,&#xd;
				&quot;features&quot;: [&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		],&#xd;
		&quot;fields&quot;: [&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;id&quot;,&#xd;
				&quot;field&quot;: &quot;id&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;name&quot;,&#xd;
				&quot;field&quot;: &quot;name&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;street&quot;,&#xd;
				&quot;field&quot;: &quot;street&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;city&quot;,&#xd;
				&quot;field&quot;: &quot;city&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;time&quot;,&#xd;
				&quot;field&quot;: &quot;time&quot;,&#xd;
				&quot;fieldType&quot;: &quot;LONG&quot;&#xd;
			}&#xd;
		]&#xd;
	}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1094873850">请求成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test08(查询模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-usql主题批</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test09(发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
                <intProp name="ActionProcessor.action">1</intProp>
                <intProp name="ActionProcessor.target">0</intProp>
                <stringProp name="ActionProcessor.duration">10000</stringProp>
              </TestAction>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene13-test10(新增10条数据)" enabled="true">
              <stringProp name="command">rm -rf  3.sh&amp;&amp;for i in $(seq 101 110) ;do let x=1626883200000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/zlj_detailmodel_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);

int kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
int solution_value=new Integer(vars.get(&quot;solution_value&quot;));
int deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
int core_value=new Integer(vars.get(&quot;core_value&quot;));
int kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
int metric_value=new Integer(vars.get(&quot;metric_value&quot;));
int mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
//初始化值为-1
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source1 =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source1.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	//初始化后只赋值一次
	if (kafkastreams_value==-1){
	 kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (solution_value==-1){
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (deploy_value==-1){
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (core_value==-1){
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (kafka_value==-1){
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	if (metric_value==-1){
	 metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (mongodb_value==-1){
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}	
	}
 }

vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
	int result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
	log.error(result+&quot;&quot;);
	vars.put(&quot;result&quot;,result+&quot;&quot;);
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_branchusql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test11(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test12(检查作业执行类型是批)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                    <stringProp name="-101604118">&quot;period&quot;:&quot;单次执行&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">20</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene14-数据生命周期" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test01(ES中删除当天数据)" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_metric_model_${__time(yyyyMMdd)}/_delete_by_query -d &apos;{&quot;query&quot;: {&quot;bool&quot;: { &quot;must&quot;: [ {&quot;term&quot;: { &quot;objectId&quot;: &quot;123456789&quot;}}]}}}&apos; </stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test02(ES中新增当天数据)" enabled="true">
              <stringProp name="command">curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/dw_metric_model_${__time(yyyyMMdd)}/_doc  -H &apos;Content-Type: application/json&apos; -d &apos;{&quot;__PROCESS_TIME__&quot;: ${__time()}, &quot;metric_name&quot;: &quot;system.mem.free&quot;, &quot;tenantId&quot;: &quot;e10adc3949ba59abbe56e057f20f88dd&quot;, &quot;metric_value&quot;: 100, &quot;type&quot;: &quot;gauge&quot;, &quot;uuid&quot;: null, &quot;ingress_time&quot;: ${__time()}, &quot;objectId&quot;: &quot;123456789&quot;, &quot;tags&quot;: { &quot;ip&quot;: [ &quot;10.1.66.66&quot; ], &quot;device&quot;: [ &quot;device1&quot; ], &quot;object&quot;: [ &quot;123456789&quot; ] }, &quot;timestamp&quot;: ${__time()} }&apos;</stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test03(ES中新增历史数据)" enabled="true">
              <stringProp name="command">curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/dw_metric_model_${__timeShift(yyyyMMdd,,P-5D,,)}/_doc  -H &apos;Content-Type: application/json&apos; -d &apos;{ &quot;__PROCESS_TIME__&quot;: ${__timeShift(,,P-5d,,)}, &quot;metric_name&quot;: &quot;system.mem.free&quot;, &quot;tenantId&quot;: &quot;e10adc3949ba59abbe56e057f20f88dd&quot;, &quot;metric_value&quot;: 100, &quot;type&quot;: &quot;gauge&quot;, &quot;uuid&quot;: null, &quot;ingress_time&quot;: ${__timeShift(,,P-5d,,)}, &quot;objectId&quot;: &quot;123456789&quot;, &quot;tags&quot;: { &quot;ip&quot;: [ &quot;10.1.66.66&quot; ], &quot;device&quot;: [ &quot;device1&quot; ], &quot;object&quot;: [ &quot;123456789&quot; ] }, &quot;timestamp&quot;: ${__timeShift(,,P-5d,,)}}&apos;</stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test04(设置生命周期准备)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getDetailed?id=2e1288f20564954fe3141d4f0e87d1b8</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">fields</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..fields</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">storages</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..storages</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test05(设置全局生命周期保留4天)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;id&quot;: &quot;2e1288f20564954fe3141d4f0e87d1b8&quot;,&#xd;
	&quot;name&quot;: &quot;指标模型&quot;,&#xd;
	&quot;type&quot;: &quot;MODEL&quot;,&#xd;
	&quot;innerId&quot;: &quot;2e1288f20564954fe3141d4f0e87d1b8&quot;,&#xd;
	&quot;createPerson&quot;: &quot;admin&quot;,&#xd;
	&quot;createTime&quot;: &quot;2021-10-09 09:21:45&quot;,&#xd;
	&quot;updateTime&quot;: &quot;2021-10-09 09:21:45&quot;,&#xd;
	&quot;lifeCycle&quot;: {&#xd;
		&quot;type&quot;: &quot;SIMPLE&quot;,&#xd;
		&quot;lifecyclePhases&quot;: [&#xd;
			{&#xd;
				&quot;enable&quot;: false,&#xd;
				&quot;minAge&quot;: &quot;&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;enable&quot;: false,&#xd;
				&quot;minAge&quot;: &quot;&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;enable&quot;: true,&#xd;
		&quot;condition&quot;: {&#xd;
			&quot;items&quot;: [&#xd;
				{&#xd;
					&quot;operator&quot;: &quot;RECENT&quot;,&#xd;
					&quot;value&quot;: 345600000,&#xd;
					&quot;field&quot;: null&#xd;
				}&#xd;
			]&#xd;
		}&#xd;
	},&#xd;
	&quot;lifeCycleStr&quot;: &quot;永久&quot;,&#xd;
	&quot;dataVersion&quot;: &quot;v3&quot;,&#xd;
	&quot;describe&quot;: &quot;数据模型元数据&quot;,&#xd;
	&quot;fields&quot;: ${fields},&#xd;
	&quot;storages&quot;: ${storages},&#xd;
	&quot;isImport&quot;: 0,&#xd;
	&quot;flag&quot;: 2,&#xd;
	&quot;hasPath&quot;: true,&#xd;
	&quot;tags&quot;: [&#xd;
		&quot;数据模型&quot;&#xd;
	],&#xd;
	&quot;catalogName&quot;: &quot;其他数据&quot;,&#xd;
	&quot;deploy&quot;: true,&#xd;
	&quot;dataDelay&quot;: {&#xd;
		&quot;maxRecordTime&quot;: null,&#xd;
		&quot;minRecordTime&quot;: null,&#xd;
		&quot;maxProcessTime&quot;: null,&#xd;
		&quot;minProcessTime&quot;: null&#xd;
	}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/detailed/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test06(执行删除)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/openapi/v1/portal/lifecyleManager/execute?apikey=${apikey}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=2 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test07(确定历史数据已被删除)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_metric_model_${__timeShift(yyyyMMdd,,P-5D,,)}/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">10.1.62.12</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">broada123</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;index_not_found_exception&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);
log.error(count+&quot;&quot;);</stringProp>
                </JSR223PostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test08(确定当日数据没有删除)" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_metric_model_${__time(yyyyMMdd)}/_search -d &apos;{ &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;term&quot;: { &quot;objectId&quot;: &quot;123456789&quot; } } ], &quot;must_not&quot;: [ ], &quot;should&quot;: [ ] } }, &quot;from&quot;: 0, &quot;size&quot;: 10, &quot;sort&quot;: [ ], &quot;aggs&quot;: { } }&apos; </stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-872498294">hits\&quot;:{\&quot;total\&quot;:{\&quot;value\&quot;:1</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test09(ES中新增3天前历史数据)" enabled="true">
              <stringProp name="command">curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/dw_metric_model_${__timeShift(yyyyMMdd,,P-4D,,)}/_doc  -H &apos;Content-Type: application/json&apos; -d &apos;{ &quot;__PROCESS_TIME__&quot;: ${__timeShift(,,P-3d,,)}, &quot;metric_name&quot;: &quot;system.mem.free&quot;, &quot;tenantId&quot;: &quot;e10adc3949ba59abbe56e057f20f88dd&quot;, &quot;metric_value&quot;: 100, &quot;type&quot;: &quot;gauge&quot;, &quot;uuid&quot;: null, &quot;ingress_time&quot;: ${__timeShift(,,P-3d,,)}, &quot;objectId&quot;: &quot;123456789&quot;, &quot;tags&quot;: { &quot;ip&quot;: [ &quot;10.1.66.66&quot; ], &quot;device&quot;: [ &quot;device1&quot; ], &quot;object&quot;: [ &quot;123456789&quot; ] }, &quot;timestamp&quot;: ${__timeShift(,,P-3d,,)}}&apos;</stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test10(设置局部生命周期保留3天)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;id&quot;:&quot;2e1288f20564954fe3141d4f0e87d1b8&quot;,&quot;storageIndex&quot;:0,&quot;lifeCycleStrategy&quot;:{&quot;type&quot;:&quot;SIMPLE&quot;,&quot;lifecyclePhases&quot;:[{&quot;enable&quot;:false,&quot;minAge&quot;:&quot;&quot;},{&quot;enable&quot;:false,&quot;minAge&quot;:&quot;&quot;}],&quot;enable&quot;:true,&quot;condition&quot;:{&quot;items&quot;:[{&quot;operator&quot;:&quot;RECENT&quot;,&quot;value&quot;:25${esport}000}]}},&quot;regionId&quot;:&quot;local&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/lifeCycle/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test11(执行删除)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/openapi/v1/portal/lifecyleManager/execute?apikey=${apikey}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=2 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test12(确定历史数据已删除)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_metric_model_${__timeShift(yyyyMMdd,,P-4D,,)}/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">10.1.62.12</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">broada123</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;index_not_found_exception&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);
log.error(count+&quot;&quot;);</stringProp>
                </JSR223PostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene15-数据订阅，依赖12算子分析" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene15-test01(查询算子分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题批</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene15-test02(查询kafka中历史数据量)" enabled="true">
              <stringProp name="command">cnts=$(/${kafka_opt}/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic zljtest_dingyue --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${kafkaIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${kafka_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
              <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">kafka_counts</stringProp>
                <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">int count = Integer.parseInt(vars.get(&quot;kafka_counts&quot;));
int expect_count=count+10;
vars.put(&quot;expect_count&quot;,expect_count+&quot;&quot;);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene15-test03(查询历史数据订阅)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/subscribe/queryListByDataAnalysisId?dataAnalysisId=${analysisId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">dingyueId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene15-test04(删除历史数据订阅)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/subscribe/delete?id=${dingyueId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene15-test05(创建数据订阅)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;config&quot;:&quot;{\&quot;type\&quot;:\&quot;Kafka\&quot;,\&quot;typeName\&quot;:\&quot;Kafka订阅\&quot;,\&quot;history\&quot;:false,\&quot;stream\&quot;:true,\&quot;kafka.bootstrap.servers\&quot;:\&quot;${kafkaIp}:9192\&quot;,\&quot;kafka.topic\&quot;:\&quot;zljtest_dingyue\&quot;,\&quot;security\&quot;:{\&quot;typeNum\&quot;:0},\&quot;version\&quot;:\&quot;1.1.x\&quot;}&quot;,&quot;dataSubscribeName&quot;:&quot;来一个订阅&quot;,&quot;origin&quot;:&quot;databank&quot;,&quot;cron&quot;:&quot;0 0 * * * ? *&quot;,&quot;isBatch&quot;:0,&quot;status&quot;:1,&quot;dataId&quot;:&quot;${analysisId}&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/subscribe/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${kafka_counts}&quot;!=${expect_count} &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene15-test06(查询kafka中历史数据量)" enabled="true">
                <stringProp name="command">cnts=$(/${kafka_opt}/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic zljtest_dingyue --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${kafkaIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${kafka_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
                <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">kafka_counts</stringProp>
                  <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene16-api创建，依赖明细模型datamap" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test01(查询明细模型的分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化明细模型测试&amp;pageSize=10&amp;pageIndex=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test02(获取API)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/customizeApi/getByMetaDataId?id=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apiId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test03(删除历史API)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/customizeApi/delete?id=${apiId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test04(API创建)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化创建API&quot;,&quot;path&quot;:&quot;autotest&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;describe&quot;:&quot;自动化测试&quot;,&quot;timeout&quot;:1000,&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;type&quot;:&quot;sql&quot;,&quot;requestParams&quot;:[{&quot;code&quot;:&quot;idss&quot;,&quot;name&quot;:&quot;idss&quot;,&quot;bindCode&quot;:&quot;idss&quot;,&quot;select&quot;:true,&quot;type&quot;:&quot;STRING&quot;,&quot;defaultValue&quot;:&quot;1&quot;,&quot;example&quot;:&quot;1&quot;}],&quot;returnParams&quot;:[{&quot;code&quot;:&quot;doing&quot;,&quot;bindCode&quot;:&quot;doing&quot;,&quot;name&quot;:&quot;doing&quot;,&quot;type&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;logintime&quot;,&quot;bindCode&quot;:&quot;logintime&quot;,&quot;name&quot;:&quot;logintime&quot;,&quot;type&quot;:&quot;DATE&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;bindCode&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;why&quot;,&quot;bindCode&quot;:&quot;why&quot;,&quot;name&quot;:&quot;why&quot;,&quot;type&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;id&quot;,&quot;bindCode&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;type&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;bindCode&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;type&quot;:&quot;INTEGER&quot;}],&quot;sql&quot;:&quot;select * from `自动化明细模型测试` where `id`= ${idss};&quot;,&quot;protocol&quot;:&quot;http&quot;,&quot;contentType&quot;:&quot;JSON&quot;,&quot;success_example&quot;:&quot;{\&quot;data\&quot;:[{\&quot;doing\&quot;:\&quot;偷袭人\&quot;,\&quot;logintime\&quot;:1646126105328,\&quot;__PROCESS_TIME__\&quot;:1646126108109,\&quot;name\&quot;:\&quot;李四3\&quot;,\&quot;why\&quot;:\&quot;执行刺激\&quot;,\&quot;_id\&quot;:\&quot;F8zDRH8BWVyIsZvNDeH7\&quot;,\&quot;id\&quot;:1,\&quot;age\&quot;:1}],\&quot;message\&quot;:\&quot;查询成功\&quot;,\&quot;stateCode\&quot;:\&quot;OK\&quot;}&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/customizeApi/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test05(API查询)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udapdatamap/api/v1/portal/sharedData/api/list?metaDataId=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">realPath</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..realPath</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene16-test06(API查询2)" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="while" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(!(&quot;${result}&quot;.contains(&quot;偷袭&quot;)) &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="api请求" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">${realPath}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="false">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="script">String realPath=vars.get(&quot;realPath&quot;);
realPath=realPath.split(&quot;${__P(tenant.url)}&quot;)[1];
vars.put(&quot;realPath&quot;,realPath);</stringProp>
                  </JSR223PreProcessor>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">result</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..doing</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">6000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="创建编排" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-请求头" enabled="true">
          <collectionProp name="CookieManager.cookies">
            <elementProp name="token" elementType="Cookie" testname="token">
              <stringProp name="Cookie.value">${__P(token,)}</stringProp>
              <stringProp name="Cookie.domain">${__P(tenant.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
            <elementProp name="omp_token" elementType="Cookie" testname="omp_token">
              <stringProp name="Cookie.value">${omp_token}</stringProp>
              <stringProp name="Cookie.domain">${omp.url}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
          </collectionProp>
          <boolProp name="CookieManager.clearEachIteration">false</boolProp>
        </CookieManager>
        <hashTree/>
        <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="false">
          <collectionProp name="HeaderManager.headers">
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">content-type</stringProp>
              <stringProp name="Header.value">application/json; charset=UTF-8</stringProp>
            </elementProp>
            <elementProp name="" elementType="Header">
              <stringProp name="Header.name">Cache-Control</stringProp>
              <stringProp name="Header.value">no-cache</stringProp>
            </elementProp>
          </collectionProp>
        </HeaderManager>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(tenant.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(tenant.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(tenant.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="false">
          <stringProp name="BeanShellSampler.query">vars.put(&quot;omp.protocol&quot;,&quot;${__P(omp.protocol,)}&quot;);
vars.put(&quot;omp.url&quot;,&quot;${__P(omp.url,)}&quot;);
vars.put(&quot;omp.port&quot;,&quot;${__P(omp.port,)}&quot;);
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;esport&quot;,${__P(esport,)});
vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;mysqlIp&quot;,${__P(mysqlIp,)});
vars.put(&quot;mysql_password&quot;,${__P(mysql_password,)});
vars.put(&quot;mongoIp&quot;,${__P(mongoIp,)});
vars.put(&quot;spark_password&quot;,${__P(spark_password,)});
vars.put(&quot;zkIp&quot;,${__P(zkIp,)});
vars.put(&quot;kafkaIp&quot;,${__P(kafkaIp,)});
vars.put(&quot;kafka_opt&quot;,${__P(kafka_opt,)});
vars.put(&quot;kafka_password&quot;,${__P(kafka_password,)});

vars.put(&quot;project&quot;,&quot;自动化项目&quot;);
vars.put(&quot;datasource&quot;,&quot;自动化mysql数据源管理区&quot;);//数据源jdbc
vars.put(&quot;datasetName&quot;,&quot;自动化明细模型之usql转换7&quot;);//数据集
vars.put(&quot;dataSync&quot;,&quot;自动化测试源_mysql_usql分析用4&quot;);

vars.put(&quot;result_counts_1&quot;,&quot;100&quot;);</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
          <boolProp name="autocommit">true</boolProp>
          <stringProp name="checkQuery"></stringProp>
          <stringProp name="connectionAge">5000</stringProp>
          <stringProp name="dataSource">10.1.40.81_mysql</stringProp>
          <stringProp name="dbUrl">jdbc:mysql://10.1.40.81:3306/uyun_udap?allowMultiQueries=true</stringProp>
          <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
          <stringProp name="initQuery"></stringProp>
          <boolProp name="keepAlive">true</boolProp>
          <stringProp name="password">Admin@123</stringProp>
          <stringProp name="poolMax">0</stringProp>
          <stringProp name="timeout">10000</stringProp>
          <stringProp name="transactionIsolation">DEFAULT</stringProp>
          <stringProp name="trimInterval">60000</stringProp>
          <stringProp name="username">zhang</stringProp>
        </JDBCDataSource>
        <hashTree/>
        <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="JSR223 Sampler" enabled="false">
          <stringProp name="scriptLanguage">groovy</stringProp>
          <stringProp name="parameters"></stringProp>
          <stringProp name="filename"></stringProp>
          <stringProp name="cacheKey">true</stringProp>
          <stringProp name="script">s=${__BeanShell(&quot;${__UUID}&quot;.replace(&quot;-&quot;,&quot;&quot;))} ;
log.error(s);</stringProp>
        </JSR223Sampler>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="BeanShell 取样器" enabled="false">
          <stringProp name="BeanShellSampler.query">import java.util.UUID;
for(i=0;i&lt;4;i++){
    taskid_$i=UUID.randomUUID().toString().replace(&quot;-&quot;,&quot;&quot;) ;
    vars.put(&quot;taskid&quot;+i,taskid_$i);
}
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene05-test14(mysql中新增10条数据)" enabled="false">
          <stringProp name="dataSource">10.1.40.81_mysql</stringProp>
          <stringProp name="query">delete from `databank_core`.`task` where `job_id`=&apos;${usql_jobid}&apos;;
INSERT INTO `databank_core`.`task`(`id`, `job_id`, `run_parameter`, `submit_cnt`, `status`, `status_detail`, `name`, `name_suffix`, `task_id`, `tenant_id`, `scheduled_time`, `config`, `create_time`, `update_time`) VALUES (&apos;${taskid0}&apos;, &apos;${usql_jobid}&apos;, &apos;&apos;, 2, &apos;SUCCESS&apos;, &apos;{\&quot;details\&quot;:{},\&quot;detailUrl\&quot;:\&quot;\&quot;,\&quot;url\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;SUCCESS\&quot;}&apos;, &apos;zlj前置usql作业-批_主数据区&apos;, &apos;a3c6a4ebb6d344a8a276ec265be673ce&apos;, NULL, &apos;${taskid0}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-P1D,,)}&apos;, &apos;{}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-P1D,,)}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT1D,,)}&apos;);
INSERT INTO `databank_core`.`task`(`id`, `job_id`, `run_parameter`, `submit_cnt`, `status`, `status_detail`, `name`, `name_suffix`, `task_id`, `tenant_id`, `scheduled_time`, `config`, `create_time`, `update_time`) VALUES (&apos;${taskid1}&apos;, &apos;${usql_jobid}&apos;, &apos;&apos;, 2, &apos;SUCCESS&apos;, &apos;{\&quot;details\&quot;:{},\&quot;detailUrl\&quot;:\&quot;\&quot;,\&quot;url\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;SUCCESS\&quot;}&apos;, &apos;zlj前置usql作业-批_主数据区&apos;, &apos;a3c6a4ebb6d344a8a276ec265be673ce&apos;, NULL, &apos;${taskid1}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-P2D,,)}&apos;, &apos;{}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-P2D,,)}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT2D,,)}&apos;);</stringProp>
          <stringProp name="queryArguments"></stringProp>
          <stringProp name="queryArgumentsTypes"></stringProp>
          <stringProp name="queryTimeout"></stringProp>
          <stringProp name="queryType">Callable Statement</stringProp>
          <stringProp name="resultSetHandler">Store as String</stringProp>
          <stringProp name="resultVariable"></stringProp>
          <stringProp name="variableNames">name</stringProp>
          <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
        </JDBCSampler>
        <hashTree>
          <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import java.util.UUID;
for(i=0;i&lt;5;i++){
    taskid_$i=UUID.randomUUID().toString().replace(&quot;-&quot;,&quot;&quot;) ;
    vars.put(&quot;taskid&quot;+i,taskid_$i);
}
vars.put(&quot;usql_jobid&quot;,&quot;0221c4953300432e86711e297aef9dc0&quot;);</stringProp>
          </BeanShellPreProcessor>
          <hashTree/>
        </hashTree>
        <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene05-test14(mysql中新增10条数据)" enabled="false">
          <stringProp name="dataSource">${__P(tenant.url)}_mysql</stringProp>
          <stringProp name="query">INSERT INTO `databank_core`.`task`(`id`, `job_id`, `run_parameter`, `submit_cnt`, `status`, `status_detail`, `name`, `name_suffix`, `task_id`, `tenant_id`, `scheduled_time`, `config`, `create_time`, `update_time`) VALUES (&apos;${taskid0}&apos;, &apos;${usql_jobid}&apos;, &apos;&apos;, 2, &apos;SUCCESS&apos;, &apos;{\&quot;details\&quot;:{},\&quot;detailUrl\&quot;:\&quot;\&quot;,\&quot;url\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;SUCCESS\&quot;}&apos;, &apos;zlj前置同步作业-流&apos;, &apos;a3c6a4ebb6d344a8a276ec265be673ce&apos;, NULL, &apos;${taskid0}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT30M,,)}&apos;, &apos;{}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT31M,,)}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT21M,,)}&apos;);
INSERT INTO `databank_core`.`task`(`id`, `job_id`, `run_parameter`, `submit_cnt`, `status`, `status_detail`, `name`, `name_suffix`, `task_id`, `tenant_id`, `scheduled_time`, `config`, `create_time`, `update_time`) VALUES (&apos;${taskid1}&apos;, &apos;${usql_jobid}&apos;, &apos;&apos;, 2, &apos;SUCCESS&apos;, &apos;{\&quot;details\&quot;:{},\&quot;detailUrl\&quot;:\&quot;\&quot;,\&quot;url\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;SUCCESS\&quot;}&apos;, &apos;zlj前置同步作业-流&apos;, &apos;a3c6a4ebb6d344a8a276ec265be673ce&apos;, NULL, &apos;${taskid1}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT30M,,)}&apos;, &apos;{}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT32M,,)}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT22M,,)}&apos;);
INSERT INTO `databank_core`.`task`(`id`, `job_id`, `run_parameter`, `submit_cnt`, `status`, `status_detail`, `name`, `name_suffix`, `task_id`, `tenant_id`, `scheduled_time`, `config`, `create_time`, `update_time`) VALUES (&apos;${taskid2}&apos;, &apos;${usql_jobid}&apos;, &apos;&apos;, 2, &apos;SUCCESS&apos;, &apos;{\&quot;details\&quot;:{},\&quot;detailUrl\&quot;:\&quot;\&quot;,\&quot;url\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;SUCCESS\&quot;}&apos;, &apos;zlj前置同步作业-流&apos;, &apos;a3c6a4ebb6d344a8a276ec265be673ce&apos;, NULL, &apos;${taskid2}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT30M,,)}&apos;, &apos;{}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT33M,,)}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT23M,,)}&apos;);
INSERT INTO `databank_core`.`task`(`id`, `job_id`, `run_parameter`, `submit_cnt`, `status`, `status_detail`, `name`, `name_suffix`, `task_id`, `tenant_id`, `scheduled_time`, `config`, `create_time`, `update_time`) VALUES (&apos;${taskid3}&apos;, &apos;${usql_jobid}&apos;, &apos;&apos;, 2, &apos;CANCELED&apos;, &apos;{\&quot;details\&quot;:{},\&quot;detailUrl\&quot;:\&quot;\&quot;,\&quot;url\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;CANCEL\&quot;}&apos;, &apos;zlj前置同步作业-流&apos;, &apos;a3c6a4ebb6d344a8a276ec265be673ce&apos;, NULL, &apos;${taskid3}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT30M,,)}&apos;, &apos;{}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT34M,,)}&apos;, &apos;${__timeShift(yyyy-MM-dd HH:mm:ss,,-PT24M,,)}&apos;);
</stringProp>
          <stringProp name="queryArguments"></stringProp>
          <stringProp name="queryArgumentsTypes"></stringProp>
          <stringProp name="queryTimeout"></stringProp>
          <stringProp name="queryType">Callable Statement</stringProp>
          <stringProp name="resultSetHandler">Store as String</stringProp>
          <stringProp name="resultVariable"></stringProp>
          <stringProp name="variableNames">name</stringProp>
          <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
        </JDBCSampler>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="启动作业" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
          <stringProp name="HTTPSampler.port">8906</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/h/uyun.udap.core.service.api.JobService/startJob?jobId=e30e94f3813346b29f8f2b6009ead1d9</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray jsonArray = new JSONArray(response_data);
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject job = jsonArray.getJSONObject(i);//把每一个对象转成json对象
	vars.put(job.getString(&quot;name&quot;)+&quot;Id&quot;,job.getString(&quot;id&quot;));
	log.error(job.getString(&quot;name&quot;)+&quot;Id:&quot;+job.getString(&quot;id&quot;));
	}
}</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="false">
            <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="停止作业" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="regionIds" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">[&quot;local&quot;]</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">regionIds</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
          <stringProp name="HTTPSampler.port">8906</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
          <stringProp name="HTTPSampler.path">/h/uyun.udap.core.service.api.JobService/stopJob?jobId=e30e94f3813346b29f8f2b6009ead1d9</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray jsonArray = new JSONArray(response_data);
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject job = jsonArray.getJSONObject(i);//把每一个对象转成json对象
	vars.put(job.getString(&quot;name&quot;)+&quot;Id&quot;,job.getString(&quot;id&quot;));
	log.error(job.getString(&quot;name&quot;)+&quot;Id:&quot;+job.getString(&quot;id&quot;));
	}
}</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="false">
            <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除元数据" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
          <stringProp name="HTTPSampler.port">8990</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
          <stringProp name="HTTPSampler.path">/h/cn.uyun.udap.metadata.serviceapi.MetadataService/deleteById?tenantId=e10adc3949ba59abbe56e057f20f88dd&amp;metadataId=17708f5d23d44533b215f88739209023</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
          <stringProp name="TestPlan.comments">这个调用，小心外部的HTTP信息头管理器</stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建编排" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="definitionDTO" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{ 	&quot;source&quot;: &quot;databank-source&quot;, 	&quot;tenantId&quot;: &quot;e10adc3949ba59abbe56e057f20f88dd&quot;, 	&quot;name&quot;: &quot;zlj后置usql作业-批lu47777&quot;, 	&quot;objectId&quot;: &quot;zlj_objectid_123&quot;, 	&quot;version&quot;: 1, 	&quot;type&quot;: &quot;sql&quot;, 	&quot;config&quot;: &quot;{\&quot;partition\&quot;:{\&quot;isTimePartition\&quot;:false,\&quot;otherPartition\&quot;:[],\&quot;isOtherPartition\&quot;:false},\&quot;sql\&quot;:\&quot;load `zlj_out_38` as tb1;save tb1 as zlj_test_5l14u07777;\&quot;}&quot;, 	&quot;engineList&quot;: [ 		{ 			&quot;regionId&quot;: &quot;local&quot;, 			&quot;features&quot;: [ 				{ 					&quot;feature&quot;: &quot;DataQueue&quot;, 					&quot;engineId&quot;: &quot;0aa3278eca754d81b3ec7a1b7be300a1&quot; 				}, 				{ 					&quot;feature&quot;: &quot;HelpCompute&quot;, 					&quot;engineId&quot;: &quot;6e9d39a31322485bacfe677370a2540c&quot; 				}, 				{ 					&quot;feature&quot;: &quot;RealCompute&quot;, 					&quot;engineId&quot;: &quot;1e38dd99e9cc42cda44588dc733e3918&quot; 				}, 				{ 					&quot;feature&quot;: &quot;ResultData&quot;, 					&quot;engineId&quot;: &quot;3f2850dbe7ef400b9a3f37c3856cbc46&quot; 				}, 				{ 					&quot;feature&quot;: &quot;OffCompute&quot;, 					&quot;engineId&quot;: &quot;1e38dd99e9cc42cda44588dc733e3918&quot; 				} 			] 		} 	], 	&quot;metadataList&quot;: [ 		{ 			&quot;metedataId&quot;: &quot;83f21e562dbc41089d58e4502597999b&quot;, 			&quot;version&quot;: &quot;1&quot;, 			&quot;environment&quot;: &quot;PRODUCTION&quot;, 			&quot;metadataType&quot;: 0, 			&quot;metadataStorageList&quot;: [ 				&quot;4d602258e6224bde957c1e8b2c411a48&quot; 			] 		} 	], 	&quot;runModeType&quot;: &quot;Period&quot;, 	&quot;runModeConfig&quot;: &quot;{\&quot;cron\&quot;:\&quot;0 0/1 * * * ?\&quot;,\&quot;beginTime\&quot;:\&quot;10:00\&quot;,\&quot;endTime\&quot;:\&quot;23:00\&quot;}&quot;, 	&quot;environment&quot;: &quot;PRODUCTION&quot;, 	&quot;dependence&quot;: { 		&quot;relate&quot;: &quot;OR&quot;, 		&quot;items&quot;: [ 			{ 				&quot;strategy&quot;: &quot;PRE_JOB_QUALIFIED&quot;, 				&quot;jobId&quot;: &quot;e7a7f79506514204a7d1401a86236eeb&quot;, 				&quot;condition&quot;: &quot;RUNNING&quot; 			}, 			{ 				&quot;strategy&quot;: &quot;PRE_JOB_QUALIFIED&quot;, 				&quot;jobId&quot;: &quot;e7a7f79506514204a7d1401a86236eeb&quot;, 				&quot;condition&quot;: &quot;RUNNING&quot; 			}, 			{ 				&quot;strategy&quot;: &quot;PRE_JOB_SUCCESS_FOR_N_TASKS&quot;, 				&quot;jobId&quot;: &quot;e7a7f79506514204a7d1401a86236eeb&quot;, 				&quot;taskNum&quot;: 3, 				&quot;offsetStart&quot;: &quot;${day.last[4].start}&quot;, 				&quot;offsetEnd&quot;: &quot;${day.last[1].end}&quot; 			}, 			{ 				&quot;strategy&quot;: &quot;PRE_JOB_SUCCESS_FOR_ALL_TASKS&quot;, 				&quot;jobId&quot;: &quot;e7a7f79506514204a7d1401a86236eeb&quot;, 				&quot;offsetStart&quot;: &quot;${day.last[4].start}&quot;, 				&quot;offsetEnd&quot;: &quot;${day.last[1].end}&quot; 			}, 			{ 				&quot;strategy&quot;: &quot;PRE_JOB_EXECUTED_FOR_ALL_TASKS&quot;, 				&quot;jobId&quot;: &quot;e7a7f79506514204a7d1401a86236eeb&quot;, 				&quot;offsetStart&quot;: &quot;${day.last[4].start}&quot;, 				&quot;offsetEnd&quot;: &quot;${day.last[1].end}&quot; 			}, 			{ 				&quot;strategy&quot;: &quot;PRE_JOB_SUCCESS_FOR_LEAST_N_TASKS&quot;, 				&quot;jobId&quot;: &quot;e7a7f79506514204a7d1401a86236eeb&quot;, 				&quot;taskNum&quot;: 4, 				&quot;offsetStart&quot;: &quot;${day.last[4].start}&quot;, 				&quot;offsetEnd&quot;: &quot;${day.last[1].end}&quot; 			}, 			{ 				&quot;strategy&quot;: &quot;PRE_JOB_RUNNING_DELAY_FOR_SECONDS&quot;, 				&quot;jobId&quot;: &quot;a4b53c87cdd84f5bb916342d89bacf0f&quot;, 				&quot;taskNum&quot;: 1 			} 		], 		&quot;retryMax&quot;: 10, 		&quot;retryPeriod&quot;: 10 	} }</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">definitionDTO</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
          <stringProp name="HTTPSampler.port">8906</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
          <stringProp name="HTTPSampler.path">/h/uyun.udap.core.service.api.OrchestrateService/orchestrate</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">false</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
          <stringProp name="TestPlan.comments">这个调用，小心外部的HTTP信息头管理器</stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="false">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">100</stringProp>
        </LoopController>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="停止作业" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="regionIds" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">[&quot;local&quot;]</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
                <stringProp name="Argument.name">regionIds</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
          <stringProp name="HTTPSampler.port">8906</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
          <stringProp name="HTTPSampler.path">/h/uyun.udap.core.service.api.JobService/stopJob?jobId=e30e94f3813346b29f8f2b6009ead1d9</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray jsonArray = new JSONArray(response_data);
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject job = jsonArray.getJSONObject(i);//把每一个对象转成json对象
	vars.put(job.getString(&quot;name&quot;)+&quot;Id&quot;,job.getString(&quot;id&quot;));
	log.error(job.getString(&quot;name&quot;)+&quot;Id:&quot;+job.getString(&quot;id&quot;));
	}
}</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="false">
            <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询引擎id" enabled="false">
          <boolProp name="TransactionController.parent">true</boolProp>
          <boolProp name="TransactionController.includeTimers">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查日志" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
            <stringProp name="HTTPSampler.port">8906</stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/h/uyun.udap.core.service.api.TaskService/viewJobTaskLog?jobId=df74f9666efe471588779d8c06683761</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray jsonArray = new JSONArray(response_data);
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject job = jsonArray.getJSONObject(i);//把每一个对象转成json对象
	vars.put(job.getString(&quot;name&quot;)+&quot;Id&quot;,job.getString(&quot;id&quot;));
	log.error(job.getString(&quot;name&quot;)+&quot;Id:&quot;+job.getString(&quot;id&quot;));
	}
}</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="false">
              <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询作业状态" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
            <stringProp name="HTTPSampler.port">8906</stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/h/uyun.udap.core.service.api.TaskService/getDefinitionTaskStatus?definitionId=zlj66211483</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray jsonArray = new JSONArray(response_data);
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject job = jsonArray.getJSONObject(i);//把每一个对象转成json对象
	vars.put(job.getString(&quot;name&quot;)+&quot;Id&quot;,job.getString(&quot;id&quot;));
	log.error(job.getString(&quot;name&quot;)+&quot;Id:&quot;+job.getString(&quot;id&quot;));
	}
}</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="false">
              <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询元数据" enabled="false">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&#xd;
&quot;searchKey&quot;: &quot;wh_新建流分析&quot;,&#xd;
&quot;pageNum&quot;: 0,&#xd;
&quot;pageSize&quot;: 10&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain">10.1.40.81</stringProp>
            <stringProp name="HTTPSampler.port">7508</stringProp>
            <stringProp name="HTTPSampler.protocol">https</stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/openapi/v1/metadata/query?apikey=2086d181b46411ebab80005056b3e852</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray jsonArray = new JSONArray(response_data);
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject job = jsonArray.getJSONObject(i);//把每一个对象转成json对象
	vars.put(job.getString(&quot;name&quot;)+&quot;Id&quot;,job.getString(&quot;id&quot;));
	log.error(job.getString(&quot;name&quot;)+&quot;Id:&quot;+job.getString(&quot;id&quot;));
	}
}</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="false">
              <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除编排" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
            <stringProp name="HTTPSampler.port">8906</stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/h/uyun.udap.core.service.api.OrchestrateService/deleteDefinitionById?id=zlj66216318</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray jsonArray = new JSONArray(response_data);
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject job = jsonArray.getJSONObject(i);//把每一个对象转成json对象
	vars.put(job.getString(&quot;name&quot;)+&quot;Id&quot;,job.getString(&quot;id&quot;));
	log.error(job.getString(&quot;name&quot;)+&quot;Id:&quot;+job.getString(&quot;id&quot;));
	}
}</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="false">
              <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询引擎" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="regionIds" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">[&quot;local&quot;]</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">regionIds</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
            <stringProp name="HTTPSampler.port">8906</stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/h/uyun.udap.core.service.api.EngineRemoteService/listByRegionIdsOrAll</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray jsonArray = new JSONArray(response_data);
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject job = jsonArray.getJSONObject(i);//把每一个对象转成json对象
	vars.put(job.getString(&quot;name&quot;)+&quot;Id&quot;,job.getString(&quot;id&quot;));
	log.error(job.getString(&quot;name&quot;)+&quot;Id:&quot;+job.getString(&quot;id&quot;));
	}
}</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="false">
              <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重启启动作业的task任务" enabled="false">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="id" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value"></stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">id</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain">10.1.40.84</stringProp>
            <stringProp name="HTTPSampler.port">8906</stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/h/uyun.udap.core.service.api.TaskService/restartTask</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray jsonArray = new JSONArray(response_data);
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject job = jsonArray.getJSONObject(i);//把每一个对象转成json对象
	vars.put(job.getString(&quot;name&quot;)+&quot;Id&quot;,job.getString(&quot;id&quot;));
	log.error(job.getString(&quot;name&quot;)+&quot;Id:&quot;+job.getString(&quot;id&quot;));
	}
}</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="false">
              <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="false">
            <stringProp name="IfController.condition">&quot;${projectid}&quot;==&quot;0&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建自动化项目" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;projectName&quot;:&quot;自动化项目&quot;,&quot;projectCode&quot;:&quot;zlj_project&quot;,&quot;managerId&quot;:&quot;e10adc3949ba59abbe56e057f20f88dd&quot;,&quot;remark&quot;:&quot;自动化测试项目&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/project/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新增数据源" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">true</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询项目" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/project/queryList?pageIndex=1&amp;pageSize=10&amp;keyword=自动化项目</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">projectid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据源" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:100,&quot;keyword&quot;:&quot;${datasource}&quot;,&quot;bzIdentity&quot;:&quot;${projectid}&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/datasource/list</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
Pattern pattern = Pattern.compile(&quot;${datasource}&quot;);
Matcher matcher = pattern.matcher(response_data);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;datasource_exist&quot;,count+&quot;&quot;);
</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">datasourceId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..dsId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${datasourceId}&quot;==&quot;000&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新增数据源-联通性测试" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;type&quot;:&quot;MYSQL&quot;,&quot;connectInfo&quot;:&quot;{\&quot;jdbcUrl\&quot;:\&quot;jdbc:mysql://${mysqlIp}:33067/uyun_udap\&quot;,\&quot;username\&quot;:\&quot;zhang\&quot;,\&quot;password\&quot;:\&quot;CUYXABGVHL1TCjQCbUeGZQ==\&quot;}&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/datasource/connect/check</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1149187101">SUCCESS</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建自动化数据源" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;bzIdentity&quot;:&quot;${projectid}&quot;,&quot;type&quot;:&quot;MYSQL&quot;,&quot;category&quot;:&quot;Relation&quot;,&quot;name&quot;:&quot;${datasource}&quot;,&quot;connectInfo&quot;:&quot;{\&quot;jdbcUrl\&quot;:\&quot;jdbc:mysql://${mysqlIp}:33067/uyun_udap\&quot;,\&quot;username\&quot;:\&quot;zhang\&quot;,\&quot;password\&quot;:\&quot;CUYXABGVHL1TCjQCbUeGZQ==\&quot;}&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/datasource/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1097670700">{&quot;code&quot;:200,&quot;message&quot;:null,&quot;data&quot;:null}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">16</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新增数据集" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据集" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:100,&quot;keyword&quot;:&quot;&quot;,&quot;bizId&quot;:&quot;${projectid}&quot;,&quot;olapLayer&quot;:&quot;ODS&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/dataset/queryList</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">datasetid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..records[?(@.datasetName==&quot;${datasetName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="新增数据集" enabled="true">
            <stringProp name="IfController.condition">${datasetid}==&quot;000&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新增数据集" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;datasetName&quot;:&quot;${datasetName}&quot;,&quot;bizId&quot;:&quot;${projectid}&quot;,&quot;olapLayer&quot;:&quot;ODS&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/dataset/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="新增数据同步" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">true</boolProp>
        </TransactionController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据同步目录" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/catalog/queryList/${projectid}?catalogType=JOB</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;任务开发&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据集" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:100,&quot;keyword&quot;:&quot;&quot;,&quot;bizId&quot;:&quot;${projectid}&quot;,&quot;olapLayer&quot;:&quot;ODS&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/dataset/queryList</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">datasetid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..records[?(@.datasetName==&quot;${datasetName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">5000</stringProp>
            </ConstantTimer>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据源" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:100,&quot;keyword&quot;:&quot;${datasource}&quot;,&quot;bzIdentity&quot;:&quot;${projectid}&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/datasource/list</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">datasourceId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..dsId</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据同步" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/catalog/queryList/${projectid}?catalogType=JOB&amp;keyword=${dataSync}</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">jobid</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..jobList[?(@.datasetName==&quot;${datasetName}&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="新增数据同步" enabled="true">
            <stringProp name="IfController.condition">&quot;${jobid}&quot;==&quot;000&quot;</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="新增数据同步" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;jobName&quot;:&quot;${dataSync}&quot;,&quot;jobType&quot;:&quot;SYNC&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;datasetId&quot;:&quot;${datasetid}&quot;,&quot;remark&quot;:&quot;${dataSync}&quot;,&quot;projectId&quot;:&quot;${projectid}&quot;,&quot;jobDetail&quot;:{&quot;syncStrategy&quot;:&quot;APPEND&quot;,&quot;syncType&quot;:&quot;DS&quot;}}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/job/sync/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">jobid</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="保存数据同步" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;datasetId&quot;:&quot;${datasetid}&quot;,&quot;jobId&quot;:&quot;${jobid}&quot;,&quot;runMode&quot;:&quot;period&quot;,&quot;lockType&quot;:&quot;TASK_LOCK&quot;,&quot;lockVersion&quot;:1,&quot;jobConfigDetail&quot;:{&quot;sink&quot;:{&quot;partitions&quot;:{&quot;fieldPartition&quot;:{&quot;enable&quot;:false,&quot;fields&quot;:&quot;&quot;},&quot;timePartition&quot;:{&quot;enable&quot;:false,&quot;timeUnit&quot;:&quot;day&quot;,&quot;eventTimePolicy&quot;:{&quot;enable&quot;:true,&quot;fields&quot;:&quot;&quot;}}},&quot;scheduler&quot;:{&quot;schedulingType&quot;:&quot;PAUSE&quot;,&quot;singleMode&quot;:{&quot;enable&quot;:true,&quot;delayDuration&quot;:null,&quot;delayDurationView&quot;:&quot;{}&quot;},&quot;retry&quot;:{}},&quot;runArgs&quot;:{&quot;jobArgs&quot;:{},&quot;envArgs&quot;:&quot;&quot;}},&quot;source&quot;:{&quot;dsId&quot;:&quot;${datasourceId}&quot;,&quot;table&quot;:&quot;t1&quot;,&quot;dbType&quot;:&quot;MYSQL&quot;},&quot;transform&quot;:{&quot;fieldMaps&quot;:[{&quot;sourceField&quot;:{&quot;code&quot;:&quot;id&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;id&quot;,&quot;order&quot;:1},&quot;targetField&quot;:{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:1}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;name&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;name&quot;,&quot;order&quot;:2},&quot;targetField&quot;:{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:2}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;age&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;age&quot;,&quot;order&quot;:3},&quot;targetField&quot;:{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:3}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;sex&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;order&quot;:4},&quot;targetField&quot;:{&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:4}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;hobby&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;order&quot;:5},&quot;targetField&quot;:{&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:5}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;classes&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;order&quot;:6},&quot;targetField&quot;:{&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:6}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;school&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;school&quot;,&quot;order&quot;:7},&quot;targetField&quot;:{&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:7}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;birthday&quot;,&quot;type&quot;:&quot;TIMESTAMP&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;order&quot;:8},&quot;targetField&quot;:{&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;order&quot;:8}},{&quot;sourceField&quot;:{&quot;code&quot;:&quot;costs&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;order&quot;:9},&quot;targetField&quot;:{&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:9}}],&quot;sourceFields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;id&quot;,&quot;order&quot;:1},{&quot;code&quot;:&quot;name&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;name&quot;,&quot;order&quot;:2},{&quot;code&quot;:&quot;age&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;age&quot;,&quot;order&quot;:3},{&quot;code&quot;:&quot;sex&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;order&quot;:4},{&quot;code&quot;:&quot;hobby&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;order&quot;:5},{&quot;code&quot;:&quot;classes&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;order&quot;:6},{&quot;code&quot;:&quot;school&quot;,&quot;type&quot;:&quot;VARCHAR&quot;,&quot;path&quot;:&quot;school&quot;,&quot;order&quot;:7},{&quot;code&quot;:&quot;birthday&quot;,&quot;type&quot;:&quot;TIMESTAMP&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;order&quot;:8},{&quot;code&quot;:&quot;costs&quot;,&quot;type&quot;:&quot;INT&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;order&quot;:9}],&quot;targetFields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:1},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:2},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:3},{&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:4},{&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:5},{&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:6},{&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;order&quot;:7},{&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;order&quot;:8},{&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;order&quot;:9}],&quot;analyzer&quot;:{&quot;increased&quot;:false,&quot;increasedConfig&quot;:{}},&quot;syncStrategy&quot;:&quot;APPEND&quot;}}}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/job/sync/save</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="提交数据同步" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;jobId&quot;:&quot;${jobid}&quot;,&quot;lockType&quot;:&quot;TASK_LOCK&quot;,&quot;lockVersion&quot;:1,&quot;submitRemark&quot;:&quot;自动化测试&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/develop/frontapi/v1/job/submit</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="0.重新部署-完成" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">删除mysql数据库的数据，删除disconf上databank相关数据，</stringProp>
        </TransactionController>
        <hashTree>
          <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
            <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
            <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path"></stringProp>
            <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </ConfigTestElement>
          <hashTree/>
          <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-引入登录cookie" enabled="true">
            <collectionProp name="CookieManager.cookies">
              <elementProp name="omp_token" elementType="Cookie" testname="omp_token">
                <stringProp name="Cookie.value">${omp_token}</stringProp>
                <stringProp name="Cookie.domain">${omp.url}</stringProp>
                <stringProp name="Cookie.path"></stringProp>
                <boolProp name="Cookie.secure">false</boolProp>
                <longProp name="Cookie.expires">0</longProp>
                <boolProp name="Cookie.path_specified">true</boolProp>
                <boolProp name="Cookie.domain_specified">true</boolProp>
              </elementProp>
              <elementProp name="token" elementType="Cookie" testname="token">
                <stringProp name="Cookie.value">${tenant_token}</stringProp>
                <stringProp name="Cookie.domain">${tenant.url}</stringProp>
                <stringProp name="Cookie.path"></stringProp>
                <boolProp name="Cookie.secure">false</boolProp>
                <longProp name="Cookie.expires">0</longProp>
                <boolProp name="Cookie.path_specified">true</boolProp>
                <boolProp name="Cookie.domain_specified">true</boolProp>
              </elementProp>
            </collectionProp>
            <stringProp name="TestPlan.comments">根据前提设置OMP还是租户的登录</stringProp>
            <boolProp name="CookieManager.clearEachIteration">false</boolProp>
          </CookieManager>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置准备" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除配置文件-危险" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="删除ES模板-没必要了，后面卸载了" enabled="false">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">3</stringProp>
              </LoopController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="连接Linux删除ES模板" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/_template/${__V(elem${__counter(,)})}</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">10.1.61.101</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">broada123</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;elem1&quot;,&quot;udap_dw_dm&quot;);
vars.put(&quot;elem2&quot;,&quot;uyun_alert&quot;);
vars.put(&quot;elem3&quot;,&quot;uyun_event&quot;);</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="删除mongdb指标模型--没必要了，后面卸载了" enabled="false">
                <stringProp name="cacheKey">true</stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="script">import com.mongodb.*;
import java.util.Set;
import java.util.regex.Pattern;
MongoClient mongoClient = new MongoClient(
new MongoClientURI(&quot;mongodb://mongo:MongoDB_863*^#@${mongoIp}:27017&quot;));
DB db = mongoClient.getDB(&quot;indian&quot;);
Set collectionNames = db.getCollectionNames();

for (String collectionName : collectionNames) {
	System.out.println(collectionName);
//	boolean isMatch = Pattern.matches(&quot;^zlj.*&quot;, collectionName);
//	if (isMatch) {
//		System.out.println(&quot;删除集合&quot;);
//		DBCollection mongoCollection = db.getCollection(collectionName);
//		/** 删除当前集合，如果集合不存在，则不做任何处理，不会抛异常 */
//		mongoCollection.drop();
//	}
		DBCollection mongoCollection = db.getCollection(collectionName);
		/** 删除当前集合，如果集合不存在，则不做任何处理，不会抛异常 */
		mongoCollection.drop();
}</stringProp>
                <stringProp name="scriptLanguage">groovy</stringProp>
              </JSR223Sampler>
              <hashTree/>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除56.159环境的udap数据库" enabled="false">
                <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;mysqlIp&quot;) == &quot;10.1.56.159&quot; )}</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
                <boolProp name="IfController.useExpression">true</boolProp>
              </IfController>
              <hashTree>
                <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除mysql数据库" enabled="false">
                  <boolProp name="TransactionController.includeTimers">false</boolProp>
                  <boolProp name="TransactionController.parent">false</boolProp>
                </TransactionController>
                <hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="数据库配置" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">udap_mysql</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.56.159:3306?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">true</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库database" enabled="true">
                    <stringProp name="dataSource">udap_mysql</stringProp>
                    <stringProp name="query">drop database msphere;
drop database uyun_deploy;
drop database uyun_udap;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree>
                    <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                      <collectionProp name="Asserion.test_strings"/>
                      <stringProp name="Assertion.custom_message"></stringProp>
                      <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                      <boolProp name="Assertion.assume_success">true</boolProp>
                      <intProp name="Assertion.test_type">16</intProp>
                    </ResponseAssertion>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除disconf数据" enabled="false">
                  <stringProp name="IfController.condition">${__P(ifdisconf)}</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">disconf_mysql</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.56.159:3306/disconf?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">true</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库disconf" enabled="true">
                    <stringProp name="dataSource">disconf_mysql</stringProp>
                    <stringProp name="query">delete from  config  where name regexp &apos;databank|udap&apos; ;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames">name</stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除apollo数据" enabled="true">
                  <stringProp name="IfController.condition">!${__P(ifdisconf)}</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="apollo登录" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
                      <collectionProp name="CookieManager.cookies"/>
                      <boolProp name="CookieManager.clearEachIteration">false</boolProp>
                    </CookieManager>
                    <hashTree/>
                    <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="登录apollo" enabled="false">
                      <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                        <collectionProp name="Arguments.arguments">
                          <elementProp name="password" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">password</stringProp>
                            <stringProp name="Argument.value">Apollo@086)*^</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                          <elementProp name="login-submit" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">login-submit</stringProp>
                            <stringProp name="Argument.value">登录</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                          <elementProp name="username" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">username</stringProp>
                            <stringProp name="Argument.value">apollo</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                        </collectionProp>
                      </elementProp>
                      <stringProp name="HTTPSampler.domain">10.1.61.109</stringProp>
                      <stringProp name="HTTPSampler.port">7547</stringProp>
                      <stringProp name="HTTPSampler.protocol">http</stringProp>
                      <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                      <stringProp name="HTTPSampler.path">signin</stringProp>
                      <stringProp name="HTTPSampler.method">POST</stringProp>
                      <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                      <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                      <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                      <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                      <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                      <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                      <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    </HTTPSamplerProxy>
                    <hashTree>
                      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header manager" enabled="true">
                        <collectionProp name="HeaderManager.headers">
                          <elementProp name="Upgrade-Insecure-Requests" elementType="Header">
                            <stringProp name="Header.name">Upgrade-Insecure-Requests</stringProp>
                            <stringProp name="Header.value">1</stringProp>
                          </elementProp>
                          <elementProp name="Content-Type" elementType="Header">
                            <stringProp name="Header.name">Content-Type</stringProp>
                            <stringProp name="Header.value">application/x-www-form-urlencoded</stringProp>
                          </elementProp>
                          <elementProp name="Accept" elementType="Header">
                            <stringProp name="Header.name">Accept</stringProp>
                            <stringProp name="Header.value">text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</stringProp>
                          </elementProp>
                        </collectionProp>
                      </HeaderManager>
                      <hashTree/>
                      <UniformRandomTimer guiclass="UniformRandomTimerGui" testclass="UniformRandomTimer" testname="Uniform Random Timer" enabled="true">
                        <stringProp name="RandomTimer.range">12123.0</stringProp>
                        <stringProp name="ConstantTimer.delay">6061.5</stringProp>
                        <stringProp name="TestPlan.comments">Recorded time was 12123 milliseconds</stringProp>
                      </UniformRandomTimer>
                      <hashTree/>
                    </hashTree>
                    <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除apollo配置文件" enabled="false">
                      <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                        <collectionProp name="Arguments.arguments"/>
                      </elementProp>
                      <stringProp name="HTTPSampler.domain">10.1.61.109</stringProp>
                      <stringProp name="HTTPSampler.port">7547</stringProp>
                      <stringProp name="HTTPSampler.protocol">http</stringProp>
                      <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                      <stringProp name="HTTPSampler.path">apps/databank/envs/PRO/clusters/default/namespaces/databank-engine-mongodb</stringProp>
                      <stringProp name="HTTPSampler.method">DELETE</stringProp>
                      <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                      <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                      <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                      <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                      <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                      <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                      <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    </HTTPSamplerProxy>
                    <hashTree>
                      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header manager" enabled="true">
                        <collectionProp name="HeaderManager.headers">
                          <elementProp name="Accept" elementType="Header">
                            <stringProp name="Header.name">Accept</stringProp>
                            <stringProp name="Header.value">application/json, text/plain, */*</stringProp>
                          </elementProp>
                        </collectionProp>
                      </HeaderManager>
                      <hashTree/>
                      <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                        <collectionProp name="Asserion.test_strings"/>
                        <stringProp name="Assertion.custom_message"></stringProp>
                        <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                        <boolProp name="Assertion.assume_success">true</boolProp>
                        <intProp name="Assertion.test_type">16</intProp>
                      </ResponseAssertion>
                      <hashTree/>
                    </hashTree>
                  </hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">ApolloConfigDB</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.56.159:3306/ApolloConfigDB?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">false</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">ApolloPortalDB</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.56.159:3306/ApolloPortalDB?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">false</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库ApolloConfigDB" enabled="true">
                    <stringProp name="dataSource">ApolloConfigDB</stringProp>
                    <stringProp name="query">delete from  Instance  where AppId=&quot;databank&quot; ;
delete from InstanceConfig where ConfigAppId=&quot;databank&quot;;
delete from Namespace where AppId=&quot;databank&quot; and NamespaceName!=&quot;common&quot; and NamespaceName!=&quot;application&quot;;
delete from AppNamespace where AppId=&quot;databank&quot; and Name!=&quot;application&quot;;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库ApolloPortalDB" enabled="true">
                    <stringProp name="dataSource">ApolloPortalDB</stringProp>
                    <stringProp name="query">delete from AppNamespace where AppId=&quot;databank&quot; and Name!=&quot;application&quot;;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="ApolloConfigDB" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库apollo" enabled="true">
                      <stringProp name="dataSource">ApolloConfigDB</stringProp>
                      <stringProp name="query">delete from Namespace where NamespaceName=&quot;databank-engine-mongodb&quot; and NamespaceName!=&quot;common&quot;;
delete from AppNamespace where Name=&quot;databank-engine-mongodb&quot;;</stringProp>
                      <stringProp name="queryArguments"></stringProp>
                      <stringProp name="queryArgumentsTypes"></stringProp>
                      <stringProp name="queryTimeout"></stringProp>
                      <stringProp name="queryType">Callable Statement</stringProp>
                      <stringProp name="resultSetHandler">Store as String</stringProp>
                      <stringProp name="resultVariable"></stringProp>
                      <stringProp name="variableNames"></stringProp>
                    </JDBCSampler>
                    <hashTree/>
                  </hashTree>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="ApolloPortalDB" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库apollo" enabled="false">
                      <stringProp name="dataSource">ApolloPortalDB</stringProp>
                      <stringProp name="query">delete from AppNamespace where Name=&quot;databank-engine-mongodb&quot;;</stringProp>
                      <stringProp name="queryArguments"></stringProp>
                      <stringProp name="queryArgumentsTypes"></stringProp>
                      <stringProp name="queryTimeout"></stringProp>
                      <stringProp name="queryType">Callable Statement</stringProp>
                      <stringProp name="resultSetHandler">Store as String</stringProp>
                      <stringProp name="resultVariable"></stringProp>
                      <stringProp name="variableNames"></stringProp>
                    </JDBCSampler>
                    <hashTree/>
                  </hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                    <stringProp name="ConstantTimer.delay">10000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除60.234环境的udap数据库" enabled="false">
                <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;mysqlIp&quot;) == &quot;10.1.60.234&quot; )}</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
                <boolProp name="IfController.useExpression">true</boolProp>
              </IfController>
              <hashTree>
                <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除mysql数据库" enabled="true">
                  <boolProp name="TransactionController.includeTimers">false</boolProp>
                  <boolProp name="TransactionController.parent">false</boolProp>
                </TransactionController>
                <hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="10.1.60.234数据库配置" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">udap_mysql</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.61.101:3306?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">true</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库database" enabled="true">
                    <stringProp name="dataSource">udap_mysql</stringProp>
                    <stringProp name="query">drop database msphere;
drop database uyun_deploy;
drop database uyun_udap;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree>
                    <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                      <collectionProp name="Asserion.test_strings"/>
                      <stringProp name="Assertion.custom_message"></stringProp>
                      <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                      <boolProp name="Assertion.assume_success">true</boolProp>
                      <intProp name="Assertion.test_type">16</intProp>
                    </ResponseAssertion>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除disconf数据" enabled="true">
                  <stringProp name="IfController.condition">${__P(ifdisconf)}</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">disconf_mysql</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.61.101:3306/disconf?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">true</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库disconf" enabled="true">
                    <stringProp name="dataSource">disconf_mysql</stringProp>
                    <stringProp name="query">delete from  config  where name regexp &apos;databank|udap&apos; ;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames">name</stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="删除apollo数据" enabled="true">
                  <stringProp name="IfController.condition">!${__P(ifdisconf)}</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="apollo登录" enabled="true">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
                      <collectionProp name="CookieManager.cookies"/>
                      <boolProp name="CookieManager.clearEachIteration">false</boolProp>
                    </CookieManager>
                    <hashTree/>
                    <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="登录apollo" enabled="true">
                      <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                        <collectionProp name="Arguments.arguments">
                          <elementProp name="password" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">password</stringProp>
                            <stringProp name="Argument.value">Apollo@086)*^</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                          <elementProp name="login-submit" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">login-submit</stringProp>
                            <stringProp name="Argument.value">登录</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                          <elementProp name="username" elementType="HTTPArgument">
                            <boolProp name="HTTPArgument.always_encode">true</boolProp>
                            <stringProp name="Argument.name">username</stringProp>
                            <stringProp name="Argument.value">apollo</stringProp>
                            <stringProp name="Argument.metadata">=</stringProp>
                            <boolProp name="HTTPArgument.use_equals">true</boolProp>
                          </elementProp>
                        </collectionProp>
                      </elementProp>
                      <stringProp name="HTTPSampler.domain">10.1.61.109</stringProp>
                      <stringProp name="HTTPSampler.port">7547</stringProp>
                      <stringProp name="HTTPSampler.protocol">http</stringProp>
                      <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                      <stringProp name="HTTPSampler.path">signin</stringProp>
                      <stringProp name="HTTPSampler.method">POST</stringProp>
                      <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                      <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                      <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                      <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                      <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                      <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                      <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    </HTTPSamplerProxy>
                    <hashTree>
                      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header manager" enabled="true">
                        <collectionProp name="HeaderManager.headers">
                          <elementProp name="Upgrade-Insecure-Requests" elementType="Header">
                            <stringProp name="Header.name">Upgrade-Insecure-Requests</stringProp>
                            <stringProp name="Header.value">1</stringProp>
                          </elementProp>
                          <elementProp name="Content-Type" elementType="Header">
                            <stringProp name="Header.name">Content-Type</stringProp>
                            <stringProp name="Header.value">application/x-www-form-urlencoded</stringProp>
                          </elementProp>
                          <elementProp name="Accept" elementType="Header">
                            <stringProp name="Header.name">Accept</stringProp>
                            <stringProp name="Header.value">text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9</stringProp>
                          </elementProp>
                        </collectionProp>
                      </HeaderManager>
                      <hashTree/>
                      <UniformRandomTimer guiclass="UniformRandomTimerGui" testclass="UniformRandomTimer" testname="Uniform Random Timer" enabled="true">
                        <stringProp name="RandomTimer.range">12123.0</stringProp>
                        <stringProp name="ConstantTimer.delay">6061.5</stringProp>
                        <stringProp name="TestPlan.comments">Recorded time was 12123 milliseconds</stringProp>
                      </UniformRandomTimer>
                      <hashTree/>
                    </hashTree>
                    <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除apollo配置文件" enabled="false">
                      <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                        <collectionProp name="Arguments.arguments"/>
                      </elementProp>
                      <stringProp name="HTTPSampler.domain">10.1.61.109</stringProp>
                      <stringProp name="HTTPSampler.port">7547</stringProp>
                      <stringProp name="HTTPSampler.protocol">http</stringProp>
                      <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                      <stringProp name="HTTPSampler.path">apps/databank/envs/PRO/clusters/default/namespaces/databank-engine-mongodb</stringProp>
                      <stringProp name="HTTPSampler.method">DELETE</stringProp>
                      <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                      <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                      <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                      <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                      <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                      <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                      <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    </HTTPSamplerProxy>
                    <hashTree>
                      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP Header manager" enabled="true">
                        <collectionProp name="HeaderManager.headers">
                          <elementProp name="Accept" elementType="Header">
                            <stringProp name="Header.name">Accept</stringProp>
                            <stringProp name="Header.value">application/json, text/plain, */*</stringProp>
                          </elementProp>
                        </collectionProp>
                      </HeaderManager>
                      <hashTree/>
                      <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                        <collectionProp name="Asserion.test_strings"/>
                        <stringProp name="Assertion.custom_message"></stringProp>
                        <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                        <boolProp name="Assertion.assume_success">true</boolProp>
                        <intProp name="Assertion.test_type">16</intProp>
                      </ResponseAssertion>
                      <hashTree/>
                    </hashTree>
                  </hashTree>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">ApolloConfigDB</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.61.101:3306/ApolloConfigDB?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">false</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
                    <boolProp name="autocommit">true</boolProp>
                    <stringProp name="checkQuery"></stringProp>
                    <stringProp name="connectionAge">5000</stringProp>
                    <stringProp name="dataSource">ApolloPortalDB</stringProp>
                    <stringProp name="dbUrl">jdbc:mysql://10.1.61.101:3306/ApolloPortalDB?allowMultiQueries=true</stringProp>
                    <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
                    <stringProp name="initQuery"></stringProp>
                    <boolProp name="keepAlive">false</boolProp>
                    <stringProp name="password">Admin@123</stringProp>
                    <stringProp name="poolMax">0</stringProp>
                    <stringProp name="timeout">10000</stringProp>
                    <stringProp name="transactionIsolation">DEFAULT</stringProp>
                    <stringProp name="trimInterval">60000</stringProp>
                    <stringProp name="username">zhang</stringProp>
                  </JDBCDataSource>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库ApolloConfigDB" enabled="true">
                    <stringProp name="dataSource">ApolloConfigDB</stringProp>
                    <stringProp name="query">delete from  Instance  where AppId=&quot;databank&quot; ;
delete from InstanceConfig where ConfigAppId=&quot;databank&quot;;
delete from Namespace where AppId=&quot;databank&quot; and NamespaceName!=&quot;common&quot; and NamespaceName!=&quot;application&quot;;
delete from AppNamespace where AppId=&quot;databank&quot; and Name!=&quot;application&quot;;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库ApolloPortalDB" enabled="true">
                    <stringProp name="dataSource">ApolloPortalDB</stringProp>
                    <stringProp name="query">delete from AppNamespace where AppId=&quot;databank&quot; and Name!=&quot;application&quot;;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="ApolloConfigDB" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库apollo" enabled="true">
                      <stringProp name="dataSource">ApolloConfigDB</stringProp>
                      <stringProp name="query">delete from Namespace where NamespaceName=&quot;databank-engine-mongodb&quot; and NamespaceName!=&quot;common&quot;;
delete from AppNamespace where Name=&quot;databank-engine-mongodb&quot;;</stringProp>
                      <stringProp name="queryArguments"></stringProp>
                      <stringProp name="queryArgumentsTypes"></stringProp>
                      <stringProp name="queryTimeout"></stringProp>
                      <stringProp name="queryType">Callable Statement</stringProp>
                      <stringProp name="resultSetHandler">Store as String</stringProp>
                      <stringProp name="resultVariable"></stringProp>
                      <stringProp name="variableNames"></stringProp>
                    </JDBCSampler>
                    <hashTree/>
                  </hashTree>
                  <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="ApolloPortalDB" enabled="false">
                    <boolProp name="TransactionController.includeTimers">false</boolProp>
                    <boolProp name="TransactionController.parent">false</boolProp>
                  </TransactionController>
                  <hashTree>
                    <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除数据库apollo" enabled="false">
                      <stringProp name="dataSource">ApolloPortalDB</stringProp>
                      <stringProp name="query">delete from AppNamespace where Name=&quot;databank-engine-mongodb&quot;;</stringProp>
                      <stringProp name="queryArguments"></stringProp>
                      <stringProp name="queryArgumentsTypes"></stringProp>
                      <stringProp name="queryTimeout"></stringProp>
                      <stringProp name="queryType">Callable Statement</stringProp>
                      <stringProp name="resultSetHandler">Store as String</stringProp>
                      <stringProp name="resultVariable"></stringProp>
                      <stringProp name="variableNames"></stringProp>
                    </JDBCSampler>
                    <hashTree/>
                  </hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                    <stringProp name="ConstantTimer.delay">10000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="false">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Tm9zNTc1Jg==&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="OMP查询服务id--用于卸载" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=300</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">platform_mongodb_pkgid;platform_kafka_pkgid;platform_elasticsearch_pkgid;databank_hadoop_pkgid;databank_spark_pkgid;databank_flume_pkgid;databank_core_pkgid;databank_manager_pkgid;databank_web_pkgid;databank_deploy_pkgid;databank_solution_pkgid;databank_metricbeat_pkgid;databank_data_map_pkgid;databank_scheduler_pkgid;alert_pkgid;monitor_pkgid;msphere_server_pkgid;msphere_engine_pkgid;msphere_beats_pkgid;platform_store_metric_pkgid;</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-elasticsearch&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-hadoop&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-spark&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-flume&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-manager&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-web&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-metricbeat&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-data-map&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-scheduler&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-front&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;monitor-nginx&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;msphere-server&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;msphere-engine&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;msphere-beats&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
          <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历重装" enabled="true">
            <stringProp name="ForeachController.inputVal">model_names</stringProp>
            <stringProp name="ForeachController.returnVal">model_name</stringProp>
            <boolProp name="ForeachController.useSeparator">true</boolProp>
            <stringProp name="ForeachController.startIndex">0</stringProp>
            <stringProp name="ForeachController.endIndex">14</stringProp>
          </ForeachController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="查询得到安装的ip,主机hostid等" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="自定义的主机部署" enabled="true">
                <stringProp name="IfController.condition">${__groovy(vars.get(&quot;${model_name}_ip_1&quot;) != null )}</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
                <boolProp name="IfController.useExpression">true</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询${model_name}安装的主机" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=${model_name}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_pkgId_total</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_hostId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环卸载模块" enabled="false">
                  <boolProp name="LoopController.continue_forever">true</boolProp>
                  <stringProp name="LoopController.loops">${__V(${model_name}_hostId_matchNr)}</stringProp>
                </LoopController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="卸载${model_name}" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgId_total_${__counter(,)})}&quot;,&quot;hostIds&quot;:[&quot;${__V(${model_name}_hostId_${__counter(,)})}&quot;],&quot;forceDelete&quot;:false}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/uninstall?16254${__Random(100000000,900000000,)}.07966733${__Random(100000000,900000000,)}</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout">60000</stringProp>
                    <stringProp name="HTTPSampler.response_timeout">60000</stringProp>
                    <stringProp name="TestPlan.comments">最多查询出十条数据</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree/>
                </hashTree>
                <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环查询主机hostid" enabled="true">
                  <boolProp name="LoopController.continue_forever">true</boolProp>
                  <stringProp name="LoopController.loops">${__V(${model_name}_ip_matchNr)}</stringProp>
                </LoopController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询主机" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;pageIndex&quot;:1,&quot;pageSize&quot;:10,&quot;keyword&quot;:&quot;${__V(${model_name}_ip_${__counter(,)})}&quot;}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/hosts/list</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">${model_name}_hostId_${__counter(,)}</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="设置安装主机hostid" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">String ${model_name}_hostId_ALL=&quot;&quot;;
int num=Integer.parseInt(&quot;${__V(${model_name}_ip_matchNr)}&quot;);
for(int i=1;i&lt;=num;i++){
	${model_name}_hostId_ALL+=vars.get(&quot;${model_name}_hostId_&quot;+i)+&quot;,&quot;;
}
${model_name}_hostId_ALL=${model_name}_hostId_ALL.substring(0,${model_name}_hostId_ALL.length()-1);
vars.put(&quot;${model_name}_hostId_ALL&quot;,${model_name}_hostId_ALL);
vars.put(&quot;${model_name}_hostId_matchNr&quot;,&quot;${__V(${model_name}_ip_matchNr)}&quot;);</stringProp>
                </JSR223Sampler>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="按照卸载的主机部署" enabled="true">
                <stringProp name="IfController.condition">${__groovy(vars.get(&quot;${model_name}_ip_1&quot;) == null )}</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
                <boolProp name="IfController.useExpression">true</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询${model_name}安装的主机" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=${model_name}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_pkgId_total</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_ip</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..ip</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">${model_name}_hostId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                    <stringProp name="TestPlan.comments">卸载用</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环卸载模块" enabled="false">
                  <boolProp name="LoopController.continue_forever">true</boolProp>
                  <stringProp name="LoopController.loops">${__V(${model_name}_hostId_matchNr)}</stringProp>
                </LoopController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="卸载${model_name}" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgId_total_${__counter(,)})}&quot;,&quot;hostIds&quot;:[&quot;${__V(${model_name}_hostId_${__counter(,)})}&quot;],&quot;forceDelete&quot;:false}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/uninstall?16254${__Random(100000000,900000000,)}.07966733${__Random(100000000,900000000,)}</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout">60000</stringProp>
                    <stringProp name="HTTPSampler.response_timeout">60000</stringProp>
                    <stringProp name="TestPlan.comments">最多查询出十条数据</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询${model_name}的依赖groupId" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">最多查询出十条数据</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">groupId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..moduleGroups..groupId</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                <stringProp name="TestPlan.comments">重装调用</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">moduleName</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..moduleGroups..moduleName</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                <stringProp name="TestPlan.comments">重装调用</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是spark√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;==&quot;databank_spark&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="安装spark" enabled="false">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		//hadoop专用
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0);
		moduleRequest=jsonTemp2.getJSONObject(&quot;moduleRequest&quot;).toString();
		String ${model_name}_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;).toString();
		String ${model_name}_hostIds_name=jsonTemp2.getJSONArray(&quot;hostIds&quot;).toString();
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostIds_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
		//spark专用
		moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		JSONObject jsonTemp3 = (JSONObject)modules_array2.getJSONObject(1); 
		String ${model_name}_pkgId_name=jsonTemp3.get(&quot;pkgId&quot;).toString();
		
		//这个用于安装的时候传入
		String opts_array=jsonTemp3.getJSONArray(&quot;opts&quot;).toString();
		vars.put(&quot;opts_array&quot;,opts_array);
		//groupId也是从返回值中获取传递给重装
		String groupId=jsonTemp3.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		vars.put(&quot;groupId&quot;,groupId);
		
		String ${model_name}_hostId_name=&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_1)}&quot;+&quot;\&quot;]&quot;;
		vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i+1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}
//if(request_body.substring(request_body.length()-1).equals(&quot;,&quot;)){
//	request_body=request_body.substring(0,request_body.length()-1)+&quot;]&quot;;
//}
vars.put(&quot;request_body&quot;,request_body);
vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${request_body}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${groupId}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}&#xd;
</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果spark集群" enabled="true">
                  <stringProp name="IfController.condition">${__V(${model_name}_hostId_matchNr)}&gt;1</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest" enabled="true">
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                      <collectionProp name="Arguments.arguments"/>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                    <stringProp name="HTTPSampler.method">GET</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                      <boolProp name="resetInterpreter">false</boolProp>
                      <stringProp name="parameters"></stringProp>
                      <stringProp name="filename"></stringProp>
                      <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		//hadoop专用
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0);
		moduleRequest=jsonTemp2.getJSONObject(&quot;moduleRequest&quot;).toString();
		String ${model_name}_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;).toString();
		String ${model_name}_hostIds_name=jsonTemp2.getJSONArray(&quot;hostIds&quot;).toString();
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostIds_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
		//spark专用
		moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		JSONObject jsonTemp3 = (JSONObject)modules_array2.getJSONObject(1); 
		String ${model_name}_pkgId_name=jsonTemp3.get(&quot;pkgId&quot;).toString();
		
		//这个用于安装的时候传入
		String opts_array=jsonTemp3.getJSONArray(&quot;opts&quot;).toString().replace(&quot;\&quot;val\&quot;:\&quot;No\&quot;&quot;,&quot;\&quot;val\&quot;:\&quot;yes\&quot;&quot;);
		vars.put(&quot;opts_array&quot;,opts_array);
		//groupId也是从返回值中获取传递给重装
		String groupId=jsonTemp3.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		vars.put(&quot;groupId&quot;,groupId);
		String[] ${model_name}_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
		String ${model_name}_hostId_name=&quot;[&quot;;
		// int leng=${__V(${model_name}_hostId_matchNr)};
		for(int j = 1; j &lt; ${model_name}_hostIds.length; j++){
			if(j==${model_name}_hostIds.length-1){
				${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[j]+&quot;\&quot;]&quot;;
				break;
			}
			${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[j]+&quot;\&quot;,&quot;;
		}
		vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i+1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}
//if(request_body.substring(request_body.length()-1).equals(&quot;,&quot;)){
//	request_body=request_body.substring(0,request_body.length()-1)+&quot;]&quot;;
//}
vars.put(&quot;request_body&quot;,request_body);</stringProp>
                    </BeanShellPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">60000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">${request_body}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                    <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                      <stringProp name="ConstantTimer.delay">150000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${groupId}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                    <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                      <boolProp name="resetInterpreter">false</boolProp>
                      <stringProp name="parameters"></stringProp>
                      <stringProp name="filename"></stringProp>
                      <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);
</stringProp>
                    </BeanShellPreProcessor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="修改spark配置" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">${__V(${model_name}_ip_matchNr)}</stringProp>
              </LoopController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="修改spark配置" enabled="true">
                  <stringProp name="command"> expect  /home/zlj/change_spark.sh root ${__V(${model_name}_ip_${__counter(,)})} ${spark_password}</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">10.1.56.161</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">Uyun_123</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">10000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="重启所有spark_local" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">${__V(${model_name}_hostId_matchNr)}</stringProp>
              </LoopController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭spark" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="pkgId" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${__V(${model_name}_pkgId_total_${__counter(,)})}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                        <stringProp name="Argument.name">pkgId</stringProp>
                      </elementProp>
                      <elementProp name="hostId" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${__V(${model_name}_hostId_${__counter(,)})}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                        <stringProp name="Argument.name">hostId</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启spark" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="pkgId" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${__V(${model_name}_pkgId_total_${__counter(,)})}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                        <stringProp name="Argument.name">pkgId</stringProp>
                      </elementProp>
                      <elementProp name="hostId" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${__V(${model_name}_hostId_${__counter(,)})}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                        <stringProp name="Argument.name">hostId</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是platform√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;.contains(&quot;platform&quot;)&amp;&amp;&quot;${model_name}&quot;!=&quot;platform_store_metric&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest--正常" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);
JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;

String[] ${model_name}_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
String ${model_name}_hostId_name=&quot;[&quot;;
for(int i = 0; i &lt; ${model_name}_hostIds.length; i++){
	if(i==${model_name}_hostIds.length-1){
		${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;]&quot;;
		break;
	}
	${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;,&quot;;
}

for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?${model_name}_hostId_name:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String ${model_name}_pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	if(!jsonTemp.toString().contains(&quot;moduleRequest&quot;)){
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
		String ${model_name}_groupId;
//		if(&quot;${model_name}&quot;.equals(&quot;platform_mongodb&quot;)){
//		${model_name}_groupId=dataObject.getJSONArray(&quot;moduleGroups&quot;).getJSONObject(0).getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
//		}else if(&quot;${model_name}&quot;.equals(&quot;platform_kafka&quot;)){
		${model_name}_groupId=jsonTemp.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
//		}
		vars.put(&quot;${model_name}_groupId&quot;,${model_name}_groupId);
	}else{
		String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
		//18.11.0-OMP版本上，modules下的每个对象都有了moduleRequest模块，早期安装模块没有
		if(i ==len){
			request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
		}else{
			request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
		}
	}
}
vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);
vars.put(&quot;order&quot;,String.valueOf(len-1));
vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${request_body}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${__V(${model_name}_groupId)}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:${order},&quot;opts&quot;:[],&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="修改ES配置" enabled="false">
                <stringProp name="IfController.condition">&quot;${model_name}&quot;==&quot;platform_elasticsearch&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环修改ES配置" enabled="true">
                  <boolProp name="LoopController.continue_forever">true</boolProp>
                  <stringProp name="LoopController.loops">${__V(${model_name}_ip_matchNr)}</stringProp>
                </LoopController>
                <hashTree>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="修改ES配置" enabled="true">
                    <stringProp name="command"> expect  /home/zlj/change_es.sh root ${__V(${model_name}_ip_${__counter(,)})} broada123</stringProp>
                    <intProp name="connectionTimeout">50000</intProp>
                    <stringProp name="hostname">10.1.40.70</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">Tester_123</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree/>
                </hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是hadoop√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;==&quot;databank_hadoop&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest--hadoop" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		//hadoop专用
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0); 
		String hadoop_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;);
		//这个用于安装的时候传入
		String opts_array=jsonTemp2.getJSONArray(&quot;opts&quot;).toString();
		vars.put(&quot;opts_array&quot;,opts_array);
		//groupId也是从返回值中获取传递给重装
		String groupId= jsonTemp2.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		vars.put(&quot;groupId&quot;,groupId);
//
//		String[] hadoop_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
//		String hadoop_hostId_name=&quot;[&quot;;
//		for(int i = 1; i &lt; hadoop_hostIds.length; i++){
//			if(i==hadoop_hostIds.length-1){
//				hadoop_hostId_name+=&quot;\&quot;&quot;+hadoop_hostIds[i]+&quot;\&quot;]&quot;;
//				break;
//			}
//			hadoop_hostId_name+=&quot;\&quot;&quot;+hadoop_hostIds[i]+&quot;\&quot;,&quot;;
//		}
		String hadoop_hostId_name=&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_1)}&quot;+&quot;\&quot;]&quot;;
		vars.put(&quot;databank_hadoop_hostId_name&quot;,hadoop_hostId_name);
		
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+hadoop_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hadoop_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}
if(request_body.substring(request_body.length()-1).equals(&quot;,&quot;)){
	request_body=request_body.substring(0,request_body.length()-1)+&quot;]&quot;;
}
vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${request_body}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${groupId}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">10000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果hadoop集群" enabled="true">
                <stringProp name="IfController.condition">${__V(${model_name}_hostId_matchNr)}&gt;1</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest--hadoop" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		//hadoop专用
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0); 
		String hadoop_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;);
		//这个用于安装的时候传入
		String opts_array=jsonTemp2.getJSONArray(&quot;opts&quot;).toString().replace(&quot;\&quot;val\&quot;:\&quot;No\&quot;&quot;,&quot;\&quot;val\&quot;:\&quot;yes\&quot;&quot;);
		vars.put(&quot;opts_array&quot;,opts_array);
		//groupId也是从返回值中获取传递给重装
		String groupId= jsonTemp2.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		vars.put(&quot;groupId&quot;,groupId);

		String[] hadoop_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
		String hadoop_hostId_name=&quot;[&quot;;
		for(int i = 1; i &lt; hadoop_hostIds.length; i++){
			if(i==hadoop_hostIds.length-1){
				hadoop_hostId_name+=&quot;\&quot;&quot;+hadoop_hostIds[i]+&quot;\&quot;]&quot;;
				break;
			}
			hadoop_hostId_name+=&quot;\&quot;&quot;+hadoop_hostIds[i]+&quot;\&quot;,&quot;;
		}
		vars.put(&quot;databank_hadoop_hostId_name&quot;,hadoop_hostId_name);
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+hadoop_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hadoop_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}
if(request_body.substring(request_body.length()-1).equals(&quot;,&quot;)){
	request_body=request_body.substring(0,request_body.length()-1)+&quot;]&quot;;
}
vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">${request_body}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">120000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;groupId&quot;:&quot;${groupId}&quot;,&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">10000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">30000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是databank√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;.contains(&quot;databank&quot;)&amp;&amp;&quot;${model_name}&quot;!=&quot;databank_hadoop&quot;&amp;&amp;&quot;${model_name}&quot;!=&quot;databank_spark&quot;</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="调试取样器" enabled="true">
                <boolProp name="displayJMeterProperties">false</boolProp>
                <boolProp name="displayJMeterVariables">true</boolProp>
                <boolProp name="displaySystemProperties">false</boolProp>
              </DebugSampler>
              <hashTree>
                <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">false</stringProp>
                  <stringProp name="script">//1、先将${model_name}存入变量，2、判断这次${model_name}还是不是相同的，3、如果相同加1，如果不同置为
import org.apache.commons.lang.StringUtils
String current_name=vars.get(&quot;current_name&quot;);
int count;
if(StringUtils.isEmpty(vars.get(&quot;count&quot;))){
	count=1;

}else{
	count=Integer.parseInt(vars.get(&quot;count&quot;));

}
if(StringUtils.isEmpty(current_name) || !(&quot;${model_name}&quot;.equals(current_name))){
	current_name=&quot;${model_name}&quot;;
	vars.put(&quot;count&quot;,&quot;1&quot;);
	vars.put(&quot;current_name&quot;,current_name);

}else{
	count++;
	vars.put(&quot;count&quot;,&quot;&quot;+count);

	vars.put(&quot;current_name&quot;,current_name);
}
</stringProp>
                </JSR223PreProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject  dataObject = new JSONArray (response_data).getJSONObject(0);

JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
String request_body=&quot;[&quot;;
String ss=&quot;&quot;;
for(int i = 1;i &lt;=len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i-1); 
	String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_ALL)}&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
//		String hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?&quot;[\&quot;&quot;+&quot;f2f60fb6e15d4f698b53f70628724d16&quot;+&quot;\&quot;]&quot;:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	String pkgId_name=jsonTemp.get(&quot;pkgId&quot;);

	String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
	request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+String.valueOf(i-1)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	if(i ==len){
		JSONObject  dataObject2 = new JSONArray (response_data).getJSONObject(1);
		JSONArray   modules_array2 = dataObject2.getJSONArray(&quot;modules&quot;);
		//flume专用
		JSONObject jsonTemp2 = (JSONObject)modules_array2.getJSONObject(0);
		moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;; 
		String ${model_name}_pkgId_name=jsonTemp2.get(&quot;pkgId&quot;).toString();	
		//这个用于安装的时候传入
		String opts_array=jsonTemp2.getJSONArray(&quot;opts&quot;).toString();
		vars.put(&quot;opts_array&quot;,opts_array);

String[] ${model_name}_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
		String ${model_name}_hostId_name=&quot;[&quot;;

		for(int i = 0; i &lt; ${model_name}_hostIds.length; i++){
			if(i==${model_name}_hostIds.length-1){
				${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;]&quot;;
				break;
			}
			${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;,&quot;;
		}
		vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);
		
		
		String ${model_name}_hostId_name=&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_1)}&quot;+&quot;\&quot;]&quot;;
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+String.valueOf(i)+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}
}

vars.put(&quot;request_body&quot;,request_body);



</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${request_body}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[{&quot;pkgId&quot;:&quot;${__V(${model_name}_pkgid)}&quot;,&quot;hostIds&quot;:${__V(${model_name}_hostId_name)},&quot;display&quot;:true,&quot;order&quot;:7,&quot;opts&quot;:${opts_array},&quot;moduleRequest&quot;:{&quot;resIds&quot;:[],&quot;resType&quot;:&quot;HOST&quot;}}]}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">有点不同</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);
</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">30000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（databank_core）控制器" enabled="true">
                <stringProp name="IfController.condition">&quot;${model_name}&quot;.contains(&quot;databank_core&quot;)</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <TestAction guiclass="TestActionGui" testclass="TestAction" testname="测试活动" enabled="true">
                  <intProp name="ActionProcessor.action">1</intProp>
                  <intProp name="ActionProcessor.target">0</intProp>
                  <stringProp name="ActionProcessor.duration">120000</stringProp>
                </TestAction>
                <hashTree/>
              </hashTree>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="是other√" enabled="true">
              <stringProp name="IfController.condition">&quot;${model_name}&quot;.contains(&quot;alert&quot;) ||&quot;${model_name}&quot;.contains(&quot;monitor&quot;)||&quot;${model_name}&quot;.contains(&quot;msphere&quot;)||&quot;${model_name}&quot;.contains(&quot;platform_store_metric&quot;)</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="组装参数moduleRequest--正常" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/dependent_pkgs/query?pkgId=${__V(${model_name}_pkgid)}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">必须卸载后安装</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="insert用参数" enabled="true">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray dataObject_array=new JSONArray (response_data);
String request_body=&quot;[&quot;;
String order=&quot;&quot;;
//组装部署机器host
String[] ${model_name}_hostIds=&quot;${__V(${model_name}_hostId_ALL)}&quot;.split(&quot;,&quot;);
String ${model_name}_hostId_name=&quot;[&quot;;
for(int i = 0; i &lt; ${model_name}_hostIds.length; i++){
	if(i==${model_name}_hostIds.length-1){
		${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;]&quot;;
		break;
	}
	${model_name}_hostId_name+=&quot;\&quot;&quot;+${model_name}_hostIds[i]+&quot;\&quot;,&quot;;
}
vars.put(&quot;${model_name}_hostId_name&quot;,${model_name}_hostId_name);

for(int j = 0;j &lt; dataObject_array.length();j++){
JSONObject  dataObject = dataObject_array.getJSONObject(j); 
JSONArray   modules_array = dataObject.getJSONArray(&quot;modules&quot;);
int len = modules_array.length();
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)modules_array.getJSONObject(i); 
	hostId_name=jsonTemp.getJSONArray(&quot;hostIds&quot;).toString().equals(&quot;[]&quot;)?${model_name}_hostId_name:jsonTemp.getJSONArray(&quot;hostIds&quot;).toString();
	order=jsonTemp.get(&quot;order&quot;)+&quot;&quot;;
	String ${model_name}_pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
	if(!jsonTemp.toString().contains(&quot;moduleRequest&quot;)){
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+order+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; }]&quot;;
	}else{
		String moduleRequest=jsonTemp.getJSONObject(&quot;moduleRequest&quot;).toString();
		request_body+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+hostId_name+&quot; , \&quot;display\&quot;: false, \&quot;order\&quot;: &quot;+order+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
	}
}
}


vars.put(&quot;request_body&quot;,request_body);</stringProp>
                </BeanShellPostProcessor>
                <hashTree/>
                <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="重装用参数" enabled="true">
                  <stringProp name="TestPlan.comments">用于传参给安装的</stringProp>
                  <stringProp name="cacheKey">false</stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONArray dataObject_array=new JSONArray(response_data);
String request_body=&quot;[&quot;;
String order=&quot;&quot;;
//组装部署机器host,alert只取一台机器进行部署
String ${model_name}_hostId_name=&quot;[\&quot;&quot;+&quot;${__V(${model_name}_hostId_1)}&quot;+&quot;\&quot;]&quot;;
String groupRefs=&quot;&quot;;
String groupIds=&quot;&quot;;
for(int j = 0;j &lt; dataObject_array.length();j++){
	JSONObject  dataObject = dataObject_array.getJSONObject(j); 
	String moduleName=dataObject.getString(&quot;productName&quot;).toLowerCase();
	JSONArray   moduleGroups_array = dataObject.getJSONArray(&quot;moduleGroups&quot;);
	for(int i = 0;i &lt;moduleGroups_array.length();i++){
		JSONObject jsonTemp = (JSONObject)moduleGroups_array.getJSONObject(i); 
		String groupId=jsonTemp.getJSONArray(&quot;groups&quot;).getJSONObject(0).getString(&quot;groupId&quot;);
		String refModule=jsonTemp.getString(&quot;moduleName&quot;);
		groupRefs+=&quot;{\&quot;product\&quot;:\&quot;&quot;+moduleName+&quot;\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+groupId+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+refModule+&quot;\&quot;},&quot;;
	}
	if(&quot;${model_name}&quot;.contains(moduleName)){
		JSONArray   modules_groupIdsarray = dataObject.getJSONArray(&quot;modules&quot;);
		for(int q = 0;q &lt;modules_groupIdsarray.length();q++){
		JSONObject jsonTemp = (JSONObject)modules_groupIdsarray.getJSONObject(q); 
		order=jsonTemp.get(&quot;order&quot;)+&quot;&quot;;
		String ${model_name}_pkgId_name=jsonTemp.get(&quot;pkgId&quot;);
		String moduleRequest=&quot;{\&quot;resIds\&quot;: [], \&quot;resType\&quot;: \&quot;HOST\&quot;}&quot;;
		groupIds+=&quot;{ \&quot;pkgId\&quot;: \&quot;&quot;+${model_name}_pkgId_name+&quot;\&quot;, \&quot;hostIds\&quot;: &quot;+${model_name}_hostId_name+&quot; , \&quot;display\&quot;: true, \&quot;order\&quot;: &quot;+order+&quot;, \&quot;moduleRequest\&quot;: &quot;+moduleRequest+&quot; },&quot;;
		}
	}
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
groupIds=groupIds.substring(0,groupIds.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);
vars.put(&quot;groupIds&quot;,groupIds);</stringProp>
                  <stringProp name="scriptLanguage">groovy</stringProp>
                </JSR223PostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="部署前插入任务" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">${request_body}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">omp/api/v1/tasks/insert</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.taskId</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重装${model_name}" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;taskId&quot;:&quot;${taskId}&quot;,&quot;deployGroups&quot;:[{&quot;groupRefs&quot;:[${groupRefs}],&quot;modules&quot;:[${groupIds}]}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/omp/api/v1/modules/deploy</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">delete FROM HOST_PKG where BASEDIR =&apos;/opt/mongodb&apos;</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="false">
                  <boolProp name="resetInterpreter">false</boolProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="script">String groupRefs=&quot;&quot;;
for(int i=1;i&lt;=${groupId_matchNr};i++){
	groupRefs+=&quot;{\&quot;product\&quot;:\&quot;Platform\&quot;,\&quot;groupId\&quot;:\&quot;&quot;+vars.get(&quot;groupId_&quot;+i)+&quot;\&quot;,\&quot;refModule\&quot;:\&quot;&quot;+vars.get(&quot;moduleName_&quot;+i)+&quot;\&quot;},&quot;;
}
groupRefs=groupRefs.substring(0,groupRefs.length()-1);
vars.put(&quot;groupRefs&quot;,groupRefs);</stringProp>
                </BeanShellPreProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="0.部署后BMO初始化-完成" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">引擎同步，维度字典初始化，</stringProp>
        </TransactionController>
        <hashTree>
          <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain">${__P(tenant.url)}</stringProp>
            <stringProp name="HTTPSampler.port">${__P(tenant.port)}</stringProp>
            <stringProp name="HTTPSampler.protocol">${__P(tenant.protocol)}</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path"></stringProp>
            <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </ConfigTestElement>
          <hashTree/>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="BMO初始化-R18.10.0" enabled="true">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-模板初始化" enabled="true">
              <stringProp name="command">sh databank-es7-builtin-init.sh ${esIp}:${esport}</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.56.159</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">Uyun_123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1188227276">udap_dw_dm</stringProp>
                  <stringProp name="-1771696422">uyun_alert</stringProp>
                  <stringProp name="-1767704552">uyun_event</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
if(response_data.contains(&quot;udap_dw_dm&quot;)&amp;&amp;response_data.contains(&quot;uyun_alert&quot;)&amp;&amp;response_data.contains(&quot;uyun_event&quot;)){
	vars.put(&quot;if_exist&quot;,&quot;true&quot;);
}else{
	vars.put(&quot;if_exist&quot;,&quot;false&quot;);	
}

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="msphere同步引擎-可不做" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-查询引擎id" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">kafka_engineId;ES_engineId;flume_engineId;spark_engineId;</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Kafka&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;ElasticSearch&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Flume&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Spark&quot;)].id;</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-设置默认引擎" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;regionId&quot;:&quot;local&quot;,&quot;features&quot;:[{&quot;feature&quot;:&quot;ResultData&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafka_engineId}&quot;},{&quot;feature&quot;:&quot;TSData&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataSync&quot;,&quot;engineId&quot;:&quot;${flume_engineId}&quot;},{&quot;feature&quot;:&quot;ETLCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;RealCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;OffCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;MachineStudy&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/default/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-运行环境-同步引擎" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">[{&quot;id&quot;:null,&quot;name&quot;:&quot;FLUME&quot;,&quot;type&quot;:&quot;FLUME&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;数据同步&quot;,&quot;code&quot;:&quot;DataSync&quot;,&quot;required&quot;:1,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;SYNC_EXEC&quot;,&quot;priority&quot;:100}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;SPARK&quot;,&quot;type&quot;:&quot;SPARK&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;ETL计算&quot;,&quot;code&quot;:&quot;ETLCompute&quot;,&quot;required&quot;:1,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;COMPUTE_ETL&quot;,&quot;priority&quot;:300}]},{&quot;name&quot;:&quot;实时计算&quot;,&quot;code&quot;:&quot;RealCompute&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;COMPUTE_MEM&quot;,&quot;priority&quot;:900},{&quot;tag&quot;:&quot;COMPUTE_TS_SAVE&quot;,&quot;priority&quot;:300}]},{&quot;name&quot;:&quot;离线计算&quot;,&quot;code&quot;:&quot;OffCompute&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;COMPUTE_DW&quot;,&quot;priority&quot;:200},{&quot;tag&quot;:&quot;COMPUTE_TS_SUM&quot;,&quot;priority&quot;:200}]},{&quot;name&quot;:&quot;机器学习&quot;,&quot;code&quot;:&quot;MachineStudy&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;ELASTICSEARCH&quot;,&quot;type&quot;:&quot;ELASTICSEARCH&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;数据仓库&quot;,&quot;code&quot;:&quot;DataWarehouse&quot;,&quot;required&quot;:1,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;STORAGE_DW&quot;,&quot;priority&quot;:200}]},{&quot;name&quot;:&quot;结果数据&quot;,&quot;code&quot;:&quot;ResultData&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;STORAGE_RS&quot;,&quot;priority&quot;:500}]},{&quot;name&quot;:&quot;临存数据&quot;,&quot;code&quot;:&quot;TSData&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;STORAGE_TS&quot;,&quot;priority&quot;:1000}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;KAFKA&quot;,&quot;type&quot;:&quot;KAFKA&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;数据队列&quot;,&quot;code&quot;:&quot;DataQueue&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;SYNC_SINK&quot;,&quot;priority&quot;:1000}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;MONGODB&quot;,&quot;type&quot;:&quot;MONGODB&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;结果数据&quot;,&quot;code&quot;:&quot;ResultData&quot;,&quot;required&quot;:0,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;STORAGE_RS&quot;,&quot;priority&quot;:1100}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;},{&quot;id&quot;:null,&quot;name&quot;:&quot;HADOOP&quot;,&quot;type&quot;:&quot;HADOOP&quot;,&quot;scene&quot;:null,&quot;features&quot;:[{&quot;name&quot;:&quot;计算辅助&quot;,&quot;code&quot;:&quot;HelpCompute&quot;,&quot;required&quot;:1,&quot;select&quot;:0,&quot;defaultEngine&quot;:false,&quot;tags&quot;:[{&quot;tag&quot;:&quot;COMPUTE_HELP&quot;,&quot;priority&quot;:300}]}],&quot;config&quot;:null,&quot;isDeploy&quot;:0,&quot;sourceFlag&quot;:null,&quot;defaultEngine&quot;:0,&quot;regionId&quot;:&quot;local&quot;}]</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/sync/local</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历-初始化模型分析" enabled="false">
              <stringProp name="ForeachController.inputVal">modelnames</stringProp>
              <stringProp name="ForeachController.returnVal">modelname</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-初始化模型分析" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap-solution/bmo/tools/cleanModel/${modelname}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
</stringProp>
                </JSR223PreProcessor>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">30000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历-初始化维度字典" enabled="false">
              <stringProp name="ForeachController.inputVal">dict_names</stringProp>
              <stringProp name="ForeachController.returnVal">dict_name</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
              <stringProp name="ForeachController.endIndex">15</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-维度字典初始化" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap-solution/bmo/tools/cleanModel/${dict_name}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
vars.put(&quot;model_names_1&quot;,&quot;platform_store_metric&quot;);
</stringProp>
                </JSR223PreProcessor>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历-初始化维度字典值" enabled="false">
              <stringProp name="ForeachController.inputVal">dict_values</stringProp>
              <stringProp name="ForeachController.returnVal">dict_value</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
              <stringProp name="ForeachController.endIndex">3</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-维度字典值初始化" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap-solution/openapi/v1/dim/upgrade?file=${dict_value}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout">60000</stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="spark作业全部重新执行" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-查询作业列表" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/jobs?name=主数据区&amp;pageIndex=1&amp;pageSize=20</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">jobs_ids</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.period ==&quot;流处理&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历-重新执行" enabled="true">
                <stringProp name="ForeachController.inputVal">jobs_ids</stringProp>
                <stringProp name="ForeachController.returnVal">jobId</stringProp>
                <boolProp name="ForeachController.useSeparator">true</boolProp>
              </ForeachController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询任务id" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重新执行任务" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks/${taskId}/restart</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="49586">200</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.custom_message"></stringProp>
                    <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">2</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="批量关闭spark作业" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-查询作业列表" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/jobs?name=告警归并清理&amp;pageIndex=1&amp;pageSize=50</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">jobs_ids</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  <boolProp name="JSONPostProcessor.compute_concat">true</boolProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="遍历关闭" enabled="true">
                <stringProp name="ForeachController.inputVal">jobs_ids</stringProp>
                <stringProp name="ForeachController.returnVal">jobId</stringProp>
                <boolProp name="ForeachController.useSeparator">true</boolProp>
              </ForeachController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询任务id" enabled="false">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭作业" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udapmanager/api/jobs/${jobId}/stop</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">1000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="检查初始化-R18.10.0" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-模板初始化-检查" enabled="true">
              <stringProp name="command"> curl -XGET -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/_template</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1188227276">udap_dw_dm</stringProp>
                  <stringProp name="-1771696422">uyun_alert</stringProp>
                  <stringProp name="-1767704552">uyun_event</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
if(response_data.contains(&quot;udap_dw_dm&quot;)&amp;&amp;response_data.contains(&quot;uyun_alert&quot;)&amp;&amp;response_data.contains(&quot;uyun_event&quot;)){
	vars.put(&quot;if_exist&quot;,&quot;true&quot;);
}else{
	vars.put(&quot;if_exist&quot;,&quot;false&quot;);	
}

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-运行环境-同步引擎-检查" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1036635225">&quot;ElasticSearch&quot;</stringProp>
                  <stringProp name="-1701956697">&quot;Spark&quot;</stringProp>
                  <stringProp name="1474561563">&quot;Hadoop&quot;</stringProp>
                  <stringProp name="-1944700802">&quot;Kafka&quot;</stringProp>
                  <stringProp name="-1590102990">&quot;MongoDB&quot;</stringProp>
                  <stringProp name="-2077238915">&quot;Flume&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <io.github.ningyu.jmeter.plugin.dubbo.sample.DubboSample guiclass="io.github.ningyu.jmeter.plugin.dubbo.gui.DubboSampleGui" testclass="io.github.ningyu.jmeter.plugin.dubbo.sample.DubboSample" testname="BMO-ES-维度字典初始化-检查18.10.0" enabled="false">
              <stringProp name="FIELD_DUBBO_REGISTRY_PROTOCOL">zookeeper</stringProp>
              <stringProp name="FIELD_DUBBO_REGISTRY_GROUP"></stringProp>
              <stringProp name="FIELD_DUBBO_RPC_PROTOCOL">dubbo://</stringProp>
              <stringProp name="FIELD_DUBBO_ADDRESS">${zkIp}:2181</stringProp>
              <stringProp name="FIELD_DUBBO_TIMEOUT">8000</stringProp>
              <stringProp name="FIELD_DUBBO_VERSION"></stringProp>
              <stringProp name="FIELD_DUBBO_RETRIES">0</stringProp>
              <stringProp name="FIELD_DUBBO_GROUP">res-center</stringProp>
              <stringProp name="FIELD_DUBBO_CONNECTIONS">100</stringProp>
              <stringProp name="FIELD_DUBBO_LOADBALANCE">random</stringProp>
              <stringProp name="FIELD_DUBBO_ASYNC">sync</stringProp>
              <stringProp name="FIELD_DUBBO_CLUSTER">failfast</stringProp>
              <stringProp name="FIELD_DUBBO_INTERFACE">uyun.indian.model.api.MetricMetaService</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD">getMetricMeta</stringProp>
              <intProp name="FIELD_DUBBO_METHOD_ARGS_SIZE">3</intProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_TYPE1">String</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_VALUE1">e10adc3949ba59abbe56e057f20f88dd</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_TYPE2">String</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_VALUE2">MySQL</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_TYPE3">String</stringProp>
              <stringProp name="FIELD_DUBBO_METHOD_ARGS_PARAM_VALUE3">mysql.performance.com_replace_select</stringProp>
              <stringProp name="TestPlan.comments">18.12.0拆分给了metrics，store不再维护</stringProp>
            </io.github.ningyu.jmeter.plugin.dubbo.sample.DubboSample>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1937468150">MySQL替代查询语句的速</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-检查维度字典初始化值" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dim_metric_wd/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-719868469">当前CPU处在等待IO操作的百分比</stringProp>
                  <stringProp name="2096999">CPU可</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">34</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-metricbeat索引初始化-检查18.10.0" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/*metricbeat-7.3.3*/_search -d &apos;{   &quot;query&quot;: {     &quot;match_all&quot;: {}   },   &quot;size&quot;: 1,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="406909084">&quot;_index&quot;:&quot;metricbeat-7.3.3-${__time(yyyy.MM)}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-spark-内置作业初始化-检查18.10.0" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udap/openapi/v1/portal/taskMessage/queryStreamTaskMessage1?apikey=${apikey}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1677146356">事件模型ETL_toKafka</stringProp>
                  <stringProp name="915969986">事件模型_主数据区_toDW</stringProp>
                  <stringProp name="-1810058153">指标模型_主数据区_toDW</stringProp>
                  <stringProp name="-1225347329">指标模型ETL_toKafka</stringProp>
                  <stringProp name="517682387">告警模型_主数据区_toDW</stringProp>
                  <stringProp name="-2079834621">告警模型ETL_toKafka</stringProp>
                  <stringProp name="-511193309">最近一月未关闭告警集市</stringProp>
                  <stringProp name="-1809566637">实时告警规则分析</stringProp>
                  <stringProp name="-1460502017">告警全量集市</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="检查初始化-R17" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-metricbeat索引初始化17.0" enabled="false">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/metricbeat-7.3.3/_search -d &apos;{   &quot;query&quot;: {     &quot;match_all&quot;: {}   },   &quot;size&quot;: 1,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.40.70</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">Tester_123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="406909084">&quot;_index&quot;:&quot;metricbeat-7.3.3-${__time(yyyy.MM)}</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-mongodb-指标模型初始化R17" enabled="false">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/store/openapi/v2/models/metrics/query?apikey=${apikey}&amp;code=mysql.performance.com_replace_select</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">最多查询出十条数据</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-spark-内置作业初始化17.0" enabled="false">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udap/openapi/v1/portal/taskMessage/queryStreamTaskMessage1?apikey=${apikey}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1677146356">事件模型ETL_toKafka</stringProp>
                  <stringProp name="1467938232">事件模型_toDW</stringProp>
                  <stringProp name="1688637443">指标模型_toDW</stringProp>
                  <stringProp name="1944555562">指标模型_指标模型ETL_toKafka</stringProp>
                  <stringProp name="-2050969081">告警模型_toDW</stringProp>
                  <stringProp name="39604906">告警模型_告警模型ETL_toKafka</stringProp>
                  <stringProp name="-511193309">最近一月未关闭告警集市</stringProp>
                  <stringProp name="-1809566637">实时告警规则分析</stringProp>
                  <stringProp name="-1460502017">告警全量集市</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="BMO-运行环境-同步引擎-检查" enabled="false">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1036635225">&quot;ElasticSearch&quot;</stringProp>
                  <stringProp name="-1701956697">&quot;Spark&quot;</stringProp>
                  <stringProp name="1474561563">&quot;Hadoop&quot;</stringProp>
                  <stringProp name="-1944700802">&quot;Kafka&quot;</stringProp>
                  <stringProp name="-1590102990">&quot;MongoDB&quot;</stringProp>
                  <stringProp name="-2077238915">&quot;Flume&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="BMO-ES-模板初始化-检查" enabled="false">
              <stringProp name="command">curl -XGET -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/_template </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">10.1.40.70</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">Tester_123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-1188227276">udap_dw_dm</stringProp>
                  <stringProp name="-1771696422">uyun_alert</stringProp>
                  <stringProp name="-1767704552">uyun_event</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
if(response_data.contains(&quot;udap_dw_dm&quot;)&amp;&amp;response_data.contains(&quot;uyun_alert&quot;)&amp;&amp;response_data.contains(&quot;uyun_event&quot;)){
	vars.put(&quot;if_exist&quot;,&quot;true&quot;);
}else{
	vars.put(&quot;if_exist&quot;,&quot;false&quot;);	
}

</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="自定义分析测试" enabled="false">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理下数据先" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-查询分析" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-查询汇总模型" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=自动化&amp;pageSize=10&amp;pageIndex=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">summaryId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-查询明细模型" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化&amp;pageSize=10&amp;pageIndex=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="删除分析" enabled="true">
              <stringProp name="ForeachController.inputVal">analysisId</stringProp>
              <stringProp name="ForeachController.returnVal">analysisId</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-删除分析" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${analysisId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="删除汇总模型" enabled="true">
              <stringProp name="ForeachController.inputVal">summaryId</stringProp>
              <stringProp name="ForeachController.returnVal">summaryId</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-删除数据模型" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${summaryId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="删除明细模型" enabled="true">
              <stringProp name="ForeachController.inputVal">modelId</stringProp>
              <stringProp name="ForeachController.returnVal">modelId</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
            </ForeachController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-删除数据模型" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-mysql删除模型下的api（因为bug删除模型不删API）" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">delete from shared_data_customize_api where path=&apos;autotest&apos;;</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
            </JDBCSampler>
            <hashTree/>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="mysql中新增t1表--调试的时候不用打开" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">
SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for t1
-- ----------------------------
DROP TABLE IF EXISTS `t1`;
CREATE TABLE `t1`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `age` int(11) NULL DEFAULT NULL,
  `sex` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `hobby` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `classes` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `school` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `birthday` timestamp(0) NULL DEFAULT NULL,
  `costs` int(255) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;

SET FOREIGN_KEY_CHECKS = 1;
</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene01-创建明细模型-图形转换发布共享-kafka" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化明细模型测试&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test03(创建明细模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;accessId&quot;:&quot;&quot;,&quot;name&quot;:&quot;自动化明细模型测试&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test04(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test05(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test06(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test07(查询历史数据源)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-kafka-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test08(删除掉历史数据源)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene1-test09(清理掉ES中历史数据)" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_mx_model_test*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysql_password}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test10(创建kafka数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-kafka-明细模型用&quot;,&quot;describe&quot;:&quot;自动化测试-kafka-明细模型用&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;KAFKA&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;doing&quot;,&quot;name&quot;:&quot;doing&quot;,&quot;path&quot;:&quot;doing&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;logintime&quot;,&quot;name&quot;:&quot;logintime&quot;,&quot;path&quot;:&quot;logintime&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}],&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;why&quot;,&quot;name&quot;:&quot;why&quot;,&quot;path&quot;:&quot;why&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;path&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;}],&quot;accessInfo&quot;:{&quot;hosts&quot;:&quot;${kafkaIp}:9192&quot;,&quot;topic&quot;:&quot;${topic}&quot;,&quot;version&quot;:&quot;1.1.x&quot;,&quot;format&quot;:&quot;JSON&quot;,&quot;delimiter&quot;:&quot;&quot;,&quot;className&quot;:&quot;&quot;,&quot;jsonParseToolJavaCodes&quot;:&quot;&quot;,&quot;security&quot;:{&quot;typeNum&quot;:0},&quot;groupId&quot;:&quot;&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;increased&quot;:false}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test11(创建ETL转化)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;新建ETL&quot;,&#xd;
	&quot;type&quot;: &quot;COMPLEX&quot;,&#xd;
	&quot;modelId&quot;: &quot;${modelId}&quot;,&#xd;
	&quot;engine&quot;: [],&#xd;
	&quot;config&quot;: [&#xd;
		{&#xd;
			&quot;name&quot;: &quot;数据输入&quot;,&#xd;
			&quot;type&quot;: &quot;InputNode&quot;,&#xd;
			&quot;key&quot;: &quot;InputNode&quot;,&#xd;
			&quot;id&quot;: 1,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				-1&#xd;
			],&#xd;
			&quot;x&quot;: 284.89005533854177,&#xd;
			&quot;y&quot;: 174.11459350585938,&#xd;
			&quot;config&quot;: {&#xd;
				&quot;sourceId&quot;: &quot;${sourceId}&quot;,&#xd;
				&quot;name&quot;: &quot;数据输入1&quot;,&#xd;
				&quot;streaming&quot;: true,&#xd;
				&quot;fieldNames&quot;: [&#xd;
					&quot;doing&quot;,&#xd;
					&quot;logintime&quot;,&#xd;
					&quot;name&quot;,&#xd;
					&quot;why&quot;,&#xd;
					&quot;id&quot;,&#xd;
					&quot;age&quot;&#xd;
				],&#xd;
				&quot;fieldZhNames&quot;: [&#xd;
					&quot;doing&quot;,&#xd;
					&quot;logintime&quot;,&#xd;
					&quot;name&quot;,&#xd;
					&quot;why&quot;,&#xd;
					&quot;id&quot;,&#xd;
					&quot;age&quot;&#xd;
				],&#xd;
				&quot;fieldTypes&quot;: [&#xd;
					&quot;STRING&quot;,&#xd;
					&quot;DATE&quot;,&#xd;
					&quot;STRING&quot;,&#xd;
					&quot;STRING&quot;,&#xd;
					&quot;INTEGER&quot;,&#xd;
					&quot;INTEGER&quot;&#xd;
				],&#xd;
				&quot;outputDatasetName&quot;: &quot;${sourceId}&quot;,&#xd;
				&quot;outputDatasetZhName&quot;: &quot;自动化测试-kafka-明细模型用&quot;&#xd;
			},&#xd;
			&quot;displayConfig&quot;: {&#xd;
				&quot;values&quot;: {&#xd;
					&quot;sourceId&quot;: &quot;${sourceId}&quot;,&#xd;
					&quot;name&quot;: &quot;数据输入1&quot;&#xd;
				},&#xd;
				&quot;fields&quot;: [&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 1,&#xd;
						&quot;code&quot;: &quot;doing&quot;,&#xd;
						&quot;name&quot;: &quot;doing&quot;,&#xd;
						&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
						&quot;path&quot;: &quot;doing&quot;,&#xd;
						&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 2,&#xd;
						&quot;code&quot;: &quot;logintime&quot;,&#xd;
						&quot;name&quot;: &quot;logintime&quot;,&#xd;
						&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
						&quot;path&quot;: &quot;logintime&quot;,&#xd;
						&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: [&#xd;
							{&#xd;
								&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
								&quot;format&quot;: &quot;毫秒时间戳&quot;,&#xd;
								&quot;formatValue&quot;: &quot;LONG_MS&quot;&#xd;
							}&#xd;
						]&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 3,&#xd;
						&quot;code&quot;: &quot;name&quot;,&#xd;
						&quot;name&quot;: &quot;name&quot;,&#xd;
						&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
						&quot;path&quot;: &quot;name&quot;,&#xd;
						&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 4,&#xd;
						&quot;code&quot;: &quot;why&quot;,&#xd;
						&quot;name&quot;: &quot;why&quot;,&#xd;
						&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
						&quot;path&quot;: &quot;why&quot;,&#xd;
						&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 5,&#xd;
						&quot;code&quot;: &quot;id&quot;,&#xd;
						&quot;name&quot;: &quot;id&quot;,&#xd;
						&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
						&quot;path&quot;: &quot;id&quot;,&#xd;
						&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					},&#xd;
					{&#xd;
						&quot;serialNumber&quot;: 6,&#xd;
						&quot;code&quot;: &quot;age&quot;,&#xd;
						&quot;name&quot;: &quot;age&quot;,&#xd;
						&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
						&quot;path&quot;: &quot;age&quot;,&#xd;
						&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
						&quot;recordTime&quot;: false,&#xd;
						&quot;formats&quot;: null&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		},&#xd;
		{&#xd;
			&quot;name&quot;: &quot;数据输出&quot;,&#xd;
			&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;id&quot;: 2,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				1&#xd;
			],&#xd;
			&quot;x&quot;: 1424.4502766927083,&#xd;
			&quot;y&quot;: 174.11459350585938,&#xd;
			&quot;config&quot;: {&#xd;
				&quot;fieldMaps&quot;: [&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;doing&quot;,&#xd;
							&quot;name&quot;: &quot;doing&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;doing&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;doing&quot;,&#xd;
							&quot;name&quot;: &quot;doing&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;doing&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;logintime&quot;,&#xd;
							&quot;name&quot;: &quot;logintime&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;path&quot;: &quot;logintime&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: [&#xd;
								{&#xd;
									&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
									&quot;format&quot;: &quot;毫秒时间戳&quot;,&#xd;
									&quot;formatValue&quot;: &quot;LONG_MS&quot;&#xd;
								}&#xd;
							]&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;logintime&quot;,&#xd;
							&quot;name&quot;: &quot;logintime&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;path&quot;: &quot;logintime&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: [&#xd;
								{&#xd;
									&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
									&quot;format&quot;: &quot;毫秒时间戳&quot;,&#xd;
									&quot;formatValue&quot;: &quot;LONG_MS&quot;&#xd;
								}&#xd;
							]&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;why&quot;,&#xd;
							&quot;name&quot;: &quot;why&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;why&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;why&quot;,&#xd;
							&quot;name&quot;: &quot;why&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;why&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 5,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 5,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 6,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 6,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					}&#xd;
				],&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				}&#xd;
			}&#xd;
		}&#xd;
	]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/etls/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1768477677">创建ETL成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">5000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test12(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">20000</stringProp>
            </TestAction>
            <hashTree/>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene1-test13(写入kafka)" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">10</stringProp>
              </LoopController>
              <hashTree>
                <JavaSampler guiclass="JavaTestSamplerGui" testclass="JavaSampler" testname="写入kafka" enabled="true">
                  <stringProp name="TestPlan.comments">1、安装时间戳创建topic保证了独一无二
2、写入100条数据</stringProp>
                  <elementProp name="arguments" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="kafka_brokers" elementType="Argument">
                        <stringProp name="Argument.name">kafka_brokers</stringProp>
                        <stringProp name="Argument.value">${kafkaIp}:9192</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_topic" elementType="Argument">
                        <stringProp name="Argument.name">kafka_topic</stringProp>
                        <stringProp name="Argument.value">${topic}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_message" elementType="Argument">
                        <stringProp name="Argument.name">kafka_message</stringProp>
                        <stringProp name="Argument.value">{ &quot;id&quot;: ${num}, &quot;name&quot;: &quot;李四3&quot;, &quot;age&quot;: ${num}, &quot;doing&quot;: &quot;偷袭人&quot;, &quot;why&quot;: &quot;执行刺激&quot;, &quot;logintime&quot;: ${logintime} }</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="classname">co.signal.kafkameter.KafkaProducerSampler</stringProp>
                </JavaSampler>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">5786573360000</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                    <stringProp name="TestPlan.comments">${__time()}   ${__Random(0,99,n)}</stringProp>
                  </CounterConfig>
                  <hashTree/>
                  <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="script">//long topic_time=Long.parseLong(vars.get(&quot;topic_time&quot;));
//String topic = &quot;zlj_datasync_test_&quot;+topic_time;
//vars.put(&quot;topic&quot;,topic);
long time=${__time()};
int num=Integer.parseInt(vars.get(&quot;num&quot;));
long logintime= time+1000*num;
vars.put(&quot;logintime&quot;,logintime+&quot;&quot;);
</stringProp>
                    <stringProp name="scriptLanguage">groovy</stringProp>
                  </JSR223PreProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;25&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_mx_model_test*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test14(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test15(查询数据域)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/domain/list</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                <stringProp name="VAR">domainName</stringProp>
                <stringProp name="JSONPATH">$</stringProp>
                <stringProp name="DEFAULT">000</stringProp>
                <stringProp name="VARIABLE"></stringProp>
                <stringProp name="SUBJECT">BODY</stringProp>
                <stringProp name="INPUT_FORMAT">JSON</stringProp>
              </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">domainId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.name ==&quot;自动化数据域&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
              <stringProp name="IfController.condition">${__groovy(!vars.get(&quot;domainName&quot;).contains(&quot;自动化&quot;),)}</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
              <boolProp name="IfController.useExpression">true</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建数据域" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化数据域&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/domain/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">domainId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene1-test16(共享)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化数据域&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/publishSharedData?id=${modelId}&amp;domainId=${domainId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene02-创建主题分析-算子分析批,依赖明细模型" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
            <stringProp name="TestPlan.comments">依赖场景1</stringProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=100&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-算子主题批&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene2-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_sz_zt_p*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene2-test04(清空数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建算子主题模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test05(查询明细模型的分析id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化明细模型测试&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test06(查询明细模型的field)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getAnalysisMetaData?metaDataId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaFields</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..metaFields</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test07(创建算子分析)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-算子主题批&quot;,&quot;type&quot;:&quot;CUSTOM&quot;,&quot;config&quot;:{&quot;engine&quot;:[],&quot;name&quot;:&quot;自动化测试-算子分析数据分析&quot;,&quot;period&quot;:&quot;&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;partition&quot;:{&quot;isTimePartition&quot;:false,&quot;timePartition&quot;:{&quot;field&quot;:&quot;&quot;,&quot;interval&quot;:86400000},&quot;isOtherPartition&quot;:false,&quot;otherPartition&quot;:[]},&quot;keyFields&quot;:[],&quot;metaDatas&quot;:[{&quot;metaDataId&quot;:&quot;${modelId}&quot;}],&quot;nodes&quot;:[{&quot;name&quot;:&quot;数据输入&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;key&quot;:&quot;InputNode&quot;,&quot;id&quot;:1,&quot;prevNodeIds&quot;:[-1],&quot;x&quot;:284.89005533854174,&quot;y&quot;:441.89239501953125,&quot;config&quot;:{&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;fields&quot;:${metaFields},&quot;partitions&quot;:[],&quot;filters&quot;:[],&quot;partitionsFilters&quot;:{&quot;fields&quot;:[],&quot;type&quot;:&quot;or&quot;},&quot;streaming&quot;:true,&quot;runMode&quot;:&quot;Stream&quot;},&quot;displayConfig&quot;:{&quot;values&quot;:{&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;fields&quot;:${metaFields},&quot;partitions&quot;:[],&quot;filters&quot;:[],&quot;partitionsFilters&quot;:{&quot;fields&quot;:[],&quot;type&quot;:&quot;or&quot;}},&quot;fields&quot;:${metaFields}},&quot;metaDataId&quot;:&quot;${modelId}&quot;},{&quot;name&quot;:&quot;数据输出&quot;,&quot;type&quot;:&quot;OutputNode&quot;,&quot;key&quot;:&quot;OutputNode&quot;,&quot;id&quot;:2,&quot;prevNodeIds&quot;:[1],&quot;x&quot;:1424.4502766927083,&quot;y&quot;:441.89239501953125,&quot;config&quot;:{&quot;outputCols&quot;:[&quot;doing&quot;,&quot;logintime&quot;,&quot;name&quot;,&quot;why&quot;,&quot;id&quot;,&quot;age&quot;]}}],&quot;runType&quot;:&quot;RunDirectly&quot;,&quot;runMethod&quot;:&quot;Once&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">2000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test08(查询算子分析id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题批</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test09(发布准备)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/topo?id=${analysisId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                  <stringProp name="VAR">nodesId</stringProp>
                  <stringProp name="JSONPATH">$..nodes[*].id</stringProp>
                  <stringProp name="DEFAULT">000</stringProp>
                  <stringProp name="VARIABLE"></stringProp>
                  <stringProp name="SUBJECT">BODY</stringProp>
                  <stringProp name="INPUT_FORMAT">JSON</stringProp>
                </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test10(发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:${nodesId},&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test11(查询模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题批</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_sz_zt_p*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysql_password}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">1000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;source&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);</stringProp>
                  </JSR223PostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test12(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene2-test13(检查作业执行类型是单次执行)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-101604118">&quot;period&quot;:&quot;单次执行&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene03-创建主题分析-即席分析批,依赖明细模型" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
            <stringProp name="TestPlan.comments">依赖明细模型去创建
18.14.0目前有bug，limit查询不到，导致没有数据写入</stringProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test01(查询引擎id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">kafka_engineId;ES_engineId;flume_engineId;spark_engineId;</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Kafka&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;ElasticSearch&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Flume&quot;)].id;$.data[?(@.regionName ==&quot;主数据区&quot;)].engines[?(@.name ==&quot;Spark&quot;)].id;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test02(设置默认引擎)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;regionId&quot;:&quot;local&quot;,&quot;features&quot;:[{&quot;feature&quot;:&quot;ResultData&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafka_engineId}&quot;},{&quot;feature&quot;:&quot;TSData&quot;,&quot;engineId&quot;:&quot;${ES_engineId}&quot;},{&quot;feature&quot;:&quot;DataSync&quot;,&quot;engineId&quot;:&quot;${flume_engineId}&quot;},{&quot;feature&quot;:&quot;ETLCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;RealCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;OffCompute&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;},{&quot;feature&quot;:&quot;MachineStudy&quot;,&quot;engineId&quot;:&quot;${spark_engineId}&quot;}]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/default/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene3-test03(清理掉ES中历史数据)" enabled="true">
              <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_quick_analysis_p*</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test04(查询历史即席分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-即席分析批</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test05(删除即席分析)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${analysisId}</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test06(查询明细模型的分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化明细模型测试&amp;pageSize=10&amp;pageIndex=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test07(创建即席分析)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-即席分析批&quot;,&quot;type&quot;:&quot;QUERY_ANALYSIS&quot;,&quot;id&quot;:null,&quot;config&quot;:{&quot;name&quot;:&quot;自动化测试-即席分析批&quot;,&quot;engine&quot;:&quot;&quot;,&quot;sql&quot;:&quot;select * from `自动化明细模型测试`;&quot;,&quot;period&quot;:&quot;0 0 * * * ?&quot;,&quot;metaDatas&quot;:[{&quot;metaDataId&quot;:&quot;${modelId}&quot;}],&quot;partition&quot;:{&quot;isTimePartition&quot;:true,&quot;timePartition&quot;:{&quot;field&quot;:&quot;logintime&quot;,&quot;interval&quot;:86400000},&quot;isOtherPartition&quot;:true,&quot;otherPartition&quot;:[&quot;age&quot;]}}}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test08(查询分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-即席分析批</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test09(发布准备)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/topo?id=${analysisId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                <stringProp name="VAR">nodesId</stringProp>
                <stringProp name="JSONPATH">$..nodes[*].id</stringProp>
                <stringProp name="DEFAULT">000</stringProp>
                <stringProp name="VARIABLE"></stringProp>
                <stringProp name="SUBJECT">BODY</stringProp>
                <stringProp name="INPUT_FORMAT">JSON</stringProp>
              </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test10(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:${nodesId},&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;25&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_quick_analysis_p_*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;source&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);</stringProp>
                </JSR223PostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test11(查询即席分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-即席分析批</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene3-test12(预览即席分析)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${analysisId}&amp;pageIndex=1&amp;pageSize=10</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  <stringProp name="25311253">执行刺</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">34</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene04-创建主题分析-算子分析流" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
            <stringProp name="TestPlan.comments">依赖场景1</stringProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=100&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-算子主题流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene04-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_sz_zt_l*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="清空数据" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建算子主题模型流" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test04(查询明细模型的分析id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化明细模型测试&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test05(查询明细模型的field)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getAnalysisMetaData?metaDataId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaFields</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..metaFields</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test06(创建算子分析)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-算子主题流&quot;,&quot;type&quot;:&quot;CUSTOM&quot;,&quot;config&quot;:{&quot;engine&quot;:[],&quot;name&quot;:&quot;自动化测试-算子分析数据分析&quot;,&quot;period&quot;:&quot;&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;partition&quot;:{&quot;isTimePartition&quot;:false,&quot;timePartition&quot;:{&quot;field&quot;:&quot;&quot;,&quot;interval&quot;:86400000},&quot;isOtherPartition&quot;:false,&quot;otherPartition&quot;:[]},&quot;keyFields&quot;:[],&quot;metaDatas&quot;:[{&quot;metaDataId&quot;:&quot;${modelId}&quot;}],&quot;nodes&quot;:[{&quot;name&quot;:&quot;数据输入&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;key&quot;:&quot;InputNode&quot;,&quot;id&quot;:1,&quot;prevNodeIds&quot;:[-1],&quot;x&quot;:284.89005533854174,&quot;y&quot;:441.89239501953125,&quot;config&quot;:{&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;fields&quot;:${metaFields},&quot;partitions&quot;:[],&quot;filters&quot;:[],&quot;partitionsFilters&quot;:{&quot;fields&quot;:[],&quot;type&quot;:&quot;or&quot;},&quot;streaming&quot;:true,&quot;runMode&quot;:&quot;Stream&quot;},&quot;displayConfig&quot;:{&quot;values&quot;:{&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;fields&quot;:${metaFields},&quot;partitions&quot;:[],&quot;filters&quot;:[],&quot;partitionsFilters&quot;:{&quot;fields&quot;:[],&quot;type&quot;:&quot;or&quot;}},&quot;fields&quot;:${metaFields}},&quot;metaDataId&quot;:&quot;${modelId}&quot;},{&quot;name&quot;:&quot;数据输出&quot;,&quot;type&quot;:&quot;OutputNode&quot;,&quot;key&quot;:&quot;OutputNode&quot;,&quot;id&quot;:2,&quot;prevNodeIds&quot;:[1],&quot;x&quot;:1424.4502766927083,&quot;y&quot;:441.89239501953125,&quot;config&quot;:{&quot;outputCols&quot;:[&quot;doing&quot;,&quot;logintime&quot;,&quot;name&quot;,&quot;why&quot;,&quot;id&quot;,&quot;age&quot;]}}]}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test07(查询算子分析id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题流</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test08(发布准备)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/topo?id=${analysisId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                  <stringProp name="VAR">nodesId</stringProp>
                  <stringProp name="JSONPATH">$..nodes[*].id</stringProp>
                  <stringProp name="DEFAULT">000</stringProp>
                  <stringProp name="VARIABLE"></stringProp>
                  <stringProp name="SUBJECT">BODY</stringProp>
                  <stringProp name="INPUT_FORMAT">JSON</stringProp>
                </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test09(发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:${nodesId},&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
                <intProp name="ActionProcessor.action">1</intProp>
                <intProp name="ActionProcessor.target">0</intProp>
                <stringProp name="ActionProcessor.duration">10000</stringProp>
              </TestAction>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-tes10(查询模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题流</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene04-test11(写入kafka)" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">10</stringProp>
              </LoopController>
              <hashTree>
                <JavaSampler guiclass="JavaTestSamplerGui" testclass="JavaSampler" testname="(写入kafka)" enabled="true">
                  <stringProp name="TestPlan.comments">1、安装时间戳创建topic保证了独一无二
2、写入100条数据</stringProp>
                  <elementProp name="arguments" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="kafka_brokers" elementType="Argument">
                        <stringProp name="Argument.name">kafka_brokers</stringProp>
                        <stringProp name="Argument.value">${kafkaIp}:9192</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_topic" elementType="Argument">
                        <stringProp name="Argument.name">kafka_topic</stringProp>
                        <stringProp name="Argument.value">dw_zdh_mx_model_test</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_message" elementType="Argument">
                        <stringProp name="Argument.name">kafka_message</stringProp>
                        <stringProp name="Argument.value">{ &quot;id&quot;: ${num}, &quot;name&quot;: &quot;李四3&quot;, &quot;age&quot;: ${num}, &quot;doing&quot;: &quot;偷袭人&quot;, &quot;why&quot;: &quot;执行刺激&quot;, &quot;logintime&quot;: ${logintime} }</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="classname">co.signal.kafkameter.KafkaProducerSampler</stringProp>
                </JavaSampler>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">5786573360000</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                    <stringProp name="TestPlan.comments">${__time()}   ${__Random(0,99,n)}</stringProp>
                  </CounterConfig>
                  <hashTree/>
                  <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="script">//long topic_time=Long.parseLong(vars.get(&quot;topic_time&quot;));
//String topic = &quot;zlj_datasync_test_&quot;+topic_time;
//vars.put(&quot;topic&quot;,topic);
long time=${__time()};
int num=Integer.parseInt(vars.get(&quot;num&quot;));
long logintime= time+1000*num;
vars.put(&quot;logintime&quot;,logintime+&quot;&quot;);
</stringProp>
                    <stringProp name="scriptLanguage">groovy</stringProp>
                  </JSR223PreProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data2}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dm_zdh_test_sz_zt_l/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">10.1.62.12</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">broada123</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">1000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data2</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                  <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
                  </JSR223PostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test12(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">10000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene04-test13(检查作业执行类型是流)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene05-创建明细模型-表格转换发布共享-mysql" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化明细模型之表格化转换&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test03(创建明细模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;accessId&quot;:&quot;&quot;,&quot;name&quot;:&quot;自动化明细模型之表格化转换&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test04(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test05(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test06(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test07(查询历史数据源)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test08(删除掉历史数据源)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene05-test09(清理掉ES中历史数据)" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_mx_model_bg_h_zh*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysql_password}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene05-test10(mysql中清空数据)" enabled="true">
                  <stringProp name="dataSource">${mysqlIp}</stringProp>
                  <stringProp name="query">delete from t1;</stringProp>
                  <stringProp name="queryArguments"></stringProp>
                  <stringProp name="queryArgumentsTypes"></stringProp>
                  <stringProp name="queryTimeout"></stringProp>
                  <stringProp name="queryType">Callable Statement</stringProp>
                  <stringProp name="resultSetHandler">Store as String</stringProp>
                  <stringProp name="resultVariable"></stringProp>
                  <stringProp name="variableNames">name</stringProp>
                  <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
                </JDBCSampler>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询所有引擎" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test11(创建mysql数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mysql-明细模型用&quot;,&quot;describe&quot;:&quot;自动化测试-mysql-日期切分-流-kafka-不指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MYSQL&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:mysql://${mysqlIp}:3306/uyun_udap?serverTimezone=Asia/Shanghai&quot;,&quot;username&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mysql_date_streaming_kafka_from0_${topic_time}&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test12(创建ETL转化)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;张立杰测试1&quot;,&#xd;
	&quot;type&quot;: &quot;SIMPLE&quot;,&#xd;
	&quot;config&quot;: [&#xd;
		{&#xd;
			&quot;id&quot;: 1,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				-1&#xd;
			],&#xd;
			&quot;type&quot;: &quot;InputNode&quot;,&#xd;
			&quot;name&quot;: &quot;自动化测试-mysql-明细模型用&quot;,&#xd;
			&quot;config&quot;: {&#xd;
				&quot;sourceId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		},&#xd;
		{&#xd;
			&quot;id&quot;: 2,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				1&#xd;
			],&#xd;
			&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;name&quot;: &quot;数据输出&quot;,&#xd;
			&quot;config&quot;: {&#xd;
				&quot;fieldMaps&quot;: [&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;sex&quot;,&#xd;
							&quot;name&quot;: &quot;sex&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;sex&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;sex&quot;,&#xd;
							&quot;name&quot;: &quot;sex&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;sex&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 5,&#xd;
							&quot;code&quot;: &quot;hobby&quot;,&#xd;
							&quot;name&quot;: &quot;hobby&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;hobby&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 5,&#xd;
							&quot;code&quot;: &quot;hobby&quot;,&#xd;
							&quot;name&quot;: &quot;hobby&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;hobby&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 6,&#xd;
							&quot;code&quot;: &quot;classes&quot;,&#xd;
							&quot;name&quot;: &quot;classes&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;classes&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 6,&#xd;
							&quot;code&quot;: &quot;classes&quot;,&#xd;
							&quot;name&quot;: &quot;classes&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;classes&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 7,&#xd;
							&quot;code&quot;: &quot;school&quot;,&#xd;
							&quot;name&quot;: &quot;school&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;school&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 7,&#xd;
							&quot;code&quot;: &quot;school&quot;,&#xd;
							&quot;name&quot;: &quot;school&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;school&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 8,&#xd;
							&quot;code&quot;: &quot;birthday&quot;,&#xd;
							&quot;name&quot;: &quot;birthday&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;path&quot;: &quot;birthday&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 8,&#xd;
							&quot;code&quot;: &quot;birthday&quot;,&#xd;
							&quot;name&quot;: &quot;birthday&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;path&quot;: &quot;birthday&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: true,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 9,&#xd;
							&quot;code&quot;: &quot;costs&quot;,&#xd;
							&quot;name&quot;: &quot;costs&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;costs&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;modelField&quot;: {&#xd;
							&quot;serialNumber&quot;: 9,&#xd;
							&quot;code&quot;: &quot;costs&quot;,&#xd;
							&quot;name&quot;: &quot;costs&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;costs&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;recordTime&quot;: false,&#xd;
							&quot;formats&quot;: null&#xd;
						},&#xd;
						&quot;filterConfig&quot;: [],&#xd;
						&quot;replaceConfig&quot;: [],&#xd;
						&quot;filter&quot;: &quot;&quot;,&#xd;
						&quot;replace&quot;: &quot;[]&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		}&#xd;
	],&#xd;
	&quot;modelId&quot;: &quot;${modelId}&quot;&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/etls/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1768477677">创建ETL成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">3000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test13(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene05-test14(mysql中新增10条数据)" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 1, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 2, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 3, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 4, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 5, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_mx_model_bg_h_zh*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test15(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test16(查询数据域)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/domain/list</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor guiclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.gui.JSONPathExtractorGui" testclass="com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor" testname="jp@gc - JSON/YAML Path Extractor" enabled="true">
                <stringProp name="VAR">domainName</stringProp>
                <stringProp name="JSONPATH">$</stringProp>
                <stringProp name="DEFAULT">000</stringProp>
                <stringProp name="VARIABLE"></stringProp>
                <stringProp name="SUBJECT">BODY</stringProp>
                <stringProp name="INPUT_FORMAT">JSON</stringProp>
              </com.atlantbh.jmeter.plugins.jsonutils.jsonpathextractor.JSONPathExtractor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">domainId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.name ==&quot;自动化数据域&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
              <stringProp name="IfController.condition">${__groovy(!vars.get(&quot;domainName&quot;).contains(&quot;自动化&quot;),)}</stringProp>
              <boolProp name="IfController.evaluateAll">false</boolProp>
              <boolProp name="IfController.useExpression">true</boolProp>
            </IfController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建数据域" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化数据域&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/domain/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">domainId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene05-test17(共享)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化数据域&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/publishSharedData?id=${modelId}&amp;domainId=${domainId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">3000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene06-创建明细模型-usql转换-批任务-ES" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test01(查询引擎的id)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test02(查询所有引擎)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test03(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化明细模型之usql转换&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test04(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test05(创建明细模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;accessId&quot;:&quot;&quot;,&quot;name&quot;:&quot;自动化明细模型之usql转换&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test06(查询历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-ES-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test07(删除掉历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene06-test08(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_usql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene06-test09(清理掉ES数据源历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detailmodel_test*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test10(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test11(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test12(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test13(创建ES数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-ES-明细模型用&quot;,&quot;describe&quot;:&quot;自动化测试-es-ID切分-批每分钟-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;ES&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;street&quot;,&quot;name&quot;:&quot;street&quot;,&quot;path&quot;:&quot;street&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;city&quot;,&quot;name&quot;:&quot;city&quot;,&quot;path&quot;:&quot;city&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;time&quot;,&quot;name&quot;:&quot;time&quot;,&quot;path&quot;:&quot;time&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]}],&quot;accessInfo&quot;:{&quot;ip&quot;:&quot;${esIp}&quot;,&quot;port&quot;:&quot;${esport}&quot;,&quot;index&quot;:&quot;zlj_detailmodel_test&quot;,&quot;type&quot;:&quot;&quot;,&quot;tcp_port&quot;:&quot;9300&quot;,&quot;cluster_name&quot;:&quot;elasticsearch&quot;,&quot;version&quot;:&quot;7.x&quot;,&quot;security&quot;:{&quot;typeNum&quot;:1,&quot;auth&quot;:{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;ssl&quot;:false}},&quot;regionId&quot;:&quot;local&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:false}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene06-test14(新增10条数据)" enabled="true">
              <stringProp name="command">rm -rf  3.sh&amp;&amp;for i in $(seq 101 110) ;do let x=1626883200000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/zlj_detailmodel_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);

int kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
int solution_value=new Integer(vars.get(&quot;solution_value&quot;));
int deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
int core_value=new Integer(vars.get(&quot;core_value&quot;));
int kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
int metric_value=new Integer(vars.get(&quot;metric_value&quot;));
int mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
//初始化值为-1
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source1 =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source1.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	//初始化后只赋值一次
	if (kafkastreams_value==-1){
	 kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (solution_value==-1){
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (deploy_value==-1){
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (core_value==-1){
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (kafka_value==-1){
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	if (metric_value==-1){
	 metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (mongodb_value==-1){
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}	
	}
 }

vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
	int result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
	log.error(result+&quot;&quot;);
	vars.put(&quot;result&quot;,result+&quot;&quot;);
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test15(创建ETL转化)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化明细模型之usql转换&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;modelId&quot;: &quot;${modelId}&quot;,&#xd;
	&quot;config&quot;: [&#xd;
		{&#xd;
			&quot;id&quot;: 1,&#xd;
			&quot;key&quot;: &quot;InputNode&quot;,&#xd;
			&quot;type&quot;: &quot;InputNode&quot;,&#xd;
			&quot;name&quot;: &quot;输入算子&quot;,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				-1&#xd;
			],&#xd;
			&quot;config&quot;: {&#xd;
				&quot;sourceId&quot;: &quot;1&quot;,&#xd;
				&quot;sql&quot;: &quot;load `自动化测试-ES-明细模型用` as t1;\nsave t1 as es.`zlj_detail_usql/_doc`;&quot;,&#xd;
				&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
				&quot;runMode&quot;: &quot;Batch&quot;,&#xd;
				&quot;period&quot;: &quot;0 0 * * * ?&quot;,&#xd;
				&quot;runMethod&quot;: &quot;Cycle&quot;,&#xd;
				&quot;engine&quot;: &quot;SPARK_USQL&quot;,&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				},&#xd;
				&quot;metaDatas&quot;: [&#xd;
					{&#xd;
						&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		},&#xd;
		{&#xd;
			&quot;name&quot;: &quot;数据输出&quot;,&#xd;
			&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;id&quot;: 2,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				1&#xd;
			],&#xd;
			&quot;config&quot;: {&#xd;
				&quot;fieldMaps&quot;: [&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 0,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;street&quot;,&#xd;
							&quot;name&quot;: &quot;street&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;street&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;city&quot;,&#xd;
							&quot;name&quot;: &quot;city&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;city&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;time&quot;,&#xd;
							&quot;name&quot;: &quot;time&quot;,&#xd;
							&quot;dataType&quot;: &quot;LONG&quot;,&#xd;
							&quot;path&quot;: &quot;time&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					}&#xd;
				],&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				}&#xd;
			}&#xd;
		}&#xd;
	],&#xd;
	&quot;editable&quot;: true,&#xd;
	&quot;engine&quot;: [&#xd;
		{&#xd;
			&quot;regionId&quot;: &quot;local&quot;,&#xd;
			&quot;features&quot;: [&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
					&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
					&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
					&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
					&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
				}&#xd;
			]&#xd;
		}&#xd;
	]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/etls/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1768477677">创建ETL成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">3000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test16(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene06-test17(直接查询ES)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_usql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test18(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene06-test19(检查作业执行类型是批)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  <stringProp name="-101604118">&quot;period&quot;:&quot;单次执行&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">20</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene07-创建明细模型-usql转换-流任务-mysql" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test01(查询引擎的id)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test02(查询所有引擎)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding"></stringProp>
              <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test03(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化明细模型之usql转换流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test04(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test05(创建明细模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;accessId&quot;:&quot;&quot;,&quot;name&quot;:&quot;自动化明细模型之usql转换流&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test06(查询历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-明细模型usql用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test07(删除掉历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene07-test08(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_streamusql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene07-test09(mysql中清空数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test10(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test11(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test12(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test13(创建mysql数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mysql-明细模型usql用&quot;,&quot;describe&quot;:&quot;自动化测试-mysql-明细模型usql用&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MYSQL&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:mysql://${mysqlIp}:3306/uyun_udap?serverTimezone=Asia/Shanghai&quot;,&quot;username&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mysql_streaming_usql_${topic_time}&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test14(创建ETL转化)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化明细模型之usql转换流&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;modelId&quot;: &quot;${modelId}&quot;,&#xd;
	&quot;config&quot;: [&#xd;
		{&#xd;
			&quot;id&quot;: 1,&#xd;
			&quot;key&quot;: &quot;InputNode&quot;,&#xd;
			&quot;type&quot;: &quot;InputNode&quot;,&#xd;
			&quot;name&quot;: &quot;输入算子&quot;,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				-1&#xd;
			],&#xd;
			&quot;config&quot;: {&#xd;
				&quot;sourceId&quot;: &quot;1&quot;,&#xd;
				&quot;sql&quot;: &quot;load `自动化测试-mysql-明细模型usql用` as t1;\nsave t1 as es.`zlj_detail_streamusql_{name}_{birthday:yyyy.MM.dd}/_doc`;&quot;,&#xd;
				&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
				&quot;runMode&quot;: &quot;Stream&quot;,&#xd;
				&quot;engine&quot;: &quot;SPARK_USQL&quot;,&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				},&#xd;
				&quot;metaDatas&quot;: [&#xd;
					{&#xd;
						&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		},&#xd;
		{&#xd;
			&quot;name&quot;: &quot;数据输出&quot;,&#xd;
			&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
			&quot;id&quot;: 2,&#xd;
			&quot;prevNodeIds&quot;: [&#xd;
				1&#xd;
			],&#xd;
			&quot;config&quot;: {&#xd;
				&quot;fieldMaps&quot;: [&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 0,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 1,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 2,&#xd;
							&quot;code&quot;: &quot;street&quot;,&#xd;
							&quot;name&quot;: &quot;street&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;street&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 3,&#xd;
							&quot;code&quot;: &quot;city&quot;,&#xd;
							&quot;name&quot;: &quot;city&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;path&quot;: &quot;city&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					},&#xd;
					{&#xd;
						&quot;primaryKey&quot;: false,&#xd;
						&quot;dict&quot;: false,&#xd;
						&quot;selected&quot;: false,&#xd;
						&quot;sourceField&quot;: {&#xd;
							&quot;serialNumber&quot;: 4,&#xd;
							&quot;code&quot;: &quot;time&quot;,&#xd;
							&quot;name&quot;: &quot;time&quot;,&#xd;
							&quot;dataType&quot;: &quot;LONG&quot;,&#xd;
							&quot;path&quot;: &quot;time&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;formats&quot;: null&#xd;
						}&#xd;
					}&#xd;
				],&#xd;
				&quot;partition&quot;: {&#xd;
					&quot;isTimePartition&quot;: false,&#xd;
					&quot;timePartition&quot;: {&#xd;
						&quot;field&quot;: &quot;&quot;,&#xd;
						&quot;interval&quot;: 86400000&#xd;
					},&#xd;
					&quot;isOtherPartition&quot;: false,&#xd;
					&quot;otherPartition&quot;: []&#xd;
				}&#xd;
			}&#xd;
		}&#xd;
	],&#xd;
	&quot;editable&quot;: true,&#xd;
	&quot;engine&quot;: [&#xd;
		{&#xd;
			&quot;regionId&quot;: &quot;local&quot;,&#xd;
			&quot;features&quot;: [&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
					&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
					&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
					&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
				},&#xd;
				{&#xd;
					&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
					&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
				}&#xd;
			]&#xd;
		}&#xd;
	]&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/etls/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1768477677">创建ETL成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">3000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test15(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene07-test16(mysql中新增10条数据)" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_streamusql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test17(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene07-test18(查询usql模型ES数据)" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detail_streamusql_wang4_2021.07.15/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="906619">演戏</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene07-test19(检查作业执行类型是流)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene08-创建汇总模型-USQL分析流" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-usql汇总流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene08-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_custom_streamusql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene08-test04(mysql中清空数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建mysql汇总模型流" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test05(查询引擎的id)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test06(查询数据源id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-明细模型usql用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test07(databank-创建汇总模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-usql汇总流&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;layer&quot;: &quot;USQL&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
		&quot;sql&quot;: &quot;load `自动化测试-mysql-明细模型usql用` as t1;\nsave t1 as es.`zlj_custom_streamusql_{name}_{birthday:yyyy.MM.dd}/_doc`;&quot;,&#xd;
		&quot;period&quot;: &quot;&quot;,&#xd;
		&quot;runMode&quot;: &quot;Stream&quot;,&#xd;
		&quot;saveKafka&quot;: false,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: [&#xd;
			{&#xd;
				&quot;regionId&quot;: &quot;local&quot;,&#xd;
				&quot;features&quot;: [&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		],&#xd;
		&quot;fields&quot;: [&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;id&quot;,&#xd;
				&quot;field&quot;: &quot;id&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;name&quot;,&#xd;
				&quot;field&quot;: &quot;name&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;age&quot;,&#xd;
				&quot;field&quot;: &quot;age&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;sex&quot;,&#xd;
				&quot;field&quot;: &quot;sex&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;hobby&quot;,&#xd;
				&quot;field&quot;: &quot;hobby&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;classes&quot;,&#xd;
				&quot;field&quot;: &quot;classes&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;school&quot;,&#xd;
				&quot;field&quot;: &quot;school&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;birthday&quot;,&#xd;
				&quot;field&quot;: &quot;birthday&quot;,&#xd;
				&quot;fieldType&quot;: &quot;DATE&quot;,&#xd;
				&quot;formats&quot;: [&#xd;
					{&#xd;
						&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
						&quot;format&quot;: &quot;毫秒时间戳&quot;&#xd;
					}&#xd;
				]&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;costs&quot;,&#xd;
				&quot;field&quot;: &quot;costs&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			}&#xd;
		]&#xd;
	}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-238869533">新建模型成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test08(databank-发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
                <intProp name="ActionProcessor.action">1</intProp>
                <intProp name="ActionProcessor.target">0</intProp>
                <stringProp name="ActionProcessor.duration">10000</stringProp>
              </TestAction>
              <hashTree/>
            </hashTree>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene08-test09(mysql中新增10条数据)" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_custom_streamusql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test10(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene08-test11(检查作业执行类型是流)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene08-test12(databank-查询usql模型ES数据)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_custom_streamusql_wang4_2021.07.15/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="906619">演戏</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene09-创建汇总模型-USQL分析批--" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史汇总和数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-usql汇总批&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene09-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_test2*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene09-test04(清理掉ES数据源历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detailmodel_test*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene09-test05(新增10条数据)" enabled="true">
              <stringProp name="command">rm -rf  3.sh&amp;&amp;for i in $(seq 101 110) ;do let x=1626883200000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/zlj_detailmodel_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test06(查询引擎的id)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test07(查询数据源id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-ES-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test08(创建汇总模型)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-usql汇总批&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;layer&quot;: &quot;USQL&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;runMethod&quot;: &quot;Cycle&quot;,&#xd;
		&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
		&quot;sql&quot;: &quot;load `自动化测试-ES-明细模型用` as t1;\nsave t1 as es.`zlj_test2/_doc`;&quot;,&#xd;
		&quot;period&quot;: &quot;0 0 * * * ?&quot;,&#xd;
		&quot;runMode&quot;: &quot;Batch&quot;,&#xd;
		&quot;saveKafka&quot;: false,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: [&#xd;
			{&#xd;
				&quot;regionId&quot;: &quot;local&quot;,&#xd;
				&quot;features&quot;: [&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		],&#xd;
		&quot;fields&quot;: [&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;id&quot;,&#xd;
				&quot;field&quot;: &quot;id&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;name&quot;,&#xd;
				&quot;field&quot;: &quot;name&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;street&quot;,&#xd;
				&quot;field&quot;: &quot;street&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;city&quot;,&#xd;
				&quot;field&quot;: &quot;city&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;time&quot;,&#xd;
				&quot;field&quot;: &quot;time&quot;,&#xd;
				&quot;fieldType&quot;: &quot;LONG&quot;&#xd;
			}&#xd;
		]&#xd;
	}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-238869533">新建模型成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data.id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test09(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_test2*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test10(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene09-test11(检查作业执行类型是批)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  <stringProp name="-101604118">&quot;period&quot;:&quot;单次执行&quot;</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">20</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene10-创建汇总模型-算子分析批)" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-算子汇总批&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test03(查询历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-汇总模型算子用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test04(删除掉历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene10-test05(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_test_sz_summary_p*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="清空数据" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test06(查询所有引擎)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test07(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test08(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test09(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test10(创建mysql数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mysql-汇总模型算子用&quot;,&quot;describe&quot;:&quot;自动化测试-mysql-汇总模型算子用&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MYSQL&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:mysql://${mysqlIp}:3306/uyun_udap?serverTimezone=Asia/Shanghai&quot;,&quot;username&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mysql_batch_sz&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test11(查询输入源)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getAnalysisMetaData?metaDataId=${sourceId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">id;name;age;sex;hobby;classes;school;birthday;costs</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..metaFields[?(@.code==id)].metaFieldId;$..metaFields[?(@.code==name)].metaFieldId;$..metaFields[?(@.code==age)].metaFieldId;$..metaFields[?(@.code==sex)].metaFieldId;$..metaFields[?(@.code==hobby)].metaFieldId;$..metaFields[?(@.code==classes)].metaFieldId;$..metaFields[?(@.code==school)].metaFieldId;$..metaFields[?(@.code==birthday)].metaFieldId;$..metaFields[?(@.code==costs)].metaFieldId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;000;000;000;</stringProp>
                <stringProp name="TestPlan.comments"> $.data.items[?(@.createTime ==1591169490879)].friendId</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test12(创建算子汇总模型)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-算子汇总批&quot;,&#xd;
	&quot;accessId&quot;: null,&#xd;
	&quot;layer&quot;: &quot;DWS_CUSTOM&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;name&quot;: &quot;自动化测试-算子汇总批&quot;,&#xd;
		&quot;period&quot;: &quot;0 0/30 * * * ? *&quot;,&#xd;
		&quot;runMode&quot;: &quot;Batch&quot;,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;keyFields&quot;: [],&#xd;
		&quot;nodes&quot;: [&#xd;
			{&#xd;
				&quot;name&quot;: &quot;数据输入&quot;,&#xd;
				&quot;type&quot;: &quot;InputNode&quot;,&#xd;
				&quot;key&quot;: &quot;InputNode&quot;,&#xd;
				&quot;id&quot;: 1,&#xd;
				&quot;prevNodeIds&quot;: [&#xd;
					-1&#xd;
				],&#xd;
				&quot;x&quot;: 249.33333333333349,&#xd;
				&quot;y&quot;: 188.5,&#xd;
				&quot;config&quot;: {&#xd;
					&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
					&quot;fields&quot;: [&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${id}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${name}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${age}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${sex}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;sex&quot;,&#xd;
							&quot;code&quot;: &quot;sex&quot;,&#xd;
							&quot;path&quot;: &quot;sex&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${hobby}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;hobby&quot;,&#xd;
							&quot;code&quot;: &quot;hobby&quot;,&#xd;
							&quot;path&quot;: &quot;hobby&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${classes}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;classes&quot;,&#xd;
							&quot;code&quot;: &quot;classes&quot;,&#xd;
							&quot;path&quot;: &quot;classes&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${school}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;school&quot;,&#xd;
							&quot;code&quot;: &quot;school&quot;,&#xd;
							&quot;path&quot;: &quot;school&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${birthday}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;birthday&quot;,&#xd;
							&quot;code&quot;: &quot;birthday&quot;,&#xd;
							&quot;path&quot;: &quot;birthday&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${costs}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;costs&quot;,&#xd;
							&quot;code&quot;: &quot;costs&quot;,&#xd;
							&quot;path&quot;: &quot;costs&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						}&#xd;
					],&#xd;
					&quot;partitions&quot;: [],&#xd;
					&quot;filters&quot;: [],&#xd;
					&quot;partitionsFilters&quot;: {&#xd;
						&quot;fields&quot;: [],&#xd;
						&quot;type&quot;: &quot;or&quot;&#xd;
					},&#xd;
					&quot;streaming&quot;: false,&#xd;
					&quot;runMode&quot;: &quot;Batch&quot;&#xd;
				},&#xd;
				&quot;displayConfig&quot;: {&#xd;
					&quot;values&quot;: {&#xd;
						&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
						&quot;fields&quot;: [&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${id}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;id&quot;,&#xd;
								&quot;code&quot;: &quot;id&quot;,&#xd;
								&quot;path&quot;: &quot;id&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${name}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;name&quot;,&#xd;
								&quot;code&quot;: &quot;name&quot;,&#xd;
								&quot;path&quot;: &quot;name&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${age}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;age&quot;,&#xd;
								&quot;code&quot;: &quot;age&quot;,&#xd;
								&quot;path&quot;: &quot;age&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${sex}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;sex&quot;,&#xd;
								&quot;code&quot;: &quot;sex&quot;,&#xd;
								&quot;path&quot;: &quot;sex&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${hobby}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;hobby&quot;,&#xd;
								&quot;code&quot;: &quot;hobby&quot;,&#xd;
								&quot;path&quot;: &quot;hobby&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${classes}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;classes&quot;,&#xd;
								&quot;code&quot;: &quot;classes&quot;,&#xd;
								&quot;path&quot;: &quot;classes&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${school}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;school&quot;,&#xd;
								&quot;code&quot;: &quot;school&quot;,&#xd;
								&quot;path&quot;: &quot;school&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${birthday}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;birthday&quot;,&#xd;
								&quot;code&quot;: &quot;birthday&quot;,&#xd;
								&quot;path&quot;: &quot;birthday&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${costs}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;costs&quot;,&#xd;
								&quot;code&quot;: &quot;costs&quot;,&#xd;
								&quot;path&quot;: &quot;costs&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							}&#xd;
						],&#xd;
						&quot;partitions&quot;: [],&#xd;
						&quot;filters&quot;: [],&#xd;
						&quot;partitionsFilters&quot;: {&#xd;
							&quot;fields&quot;: [],&#xd;
							&quot;type&quot;: &quot;or&quot;&#xd;
						}&#xd;
					},&#xd;
					&quot;fields&quot;: [&#xd;
						{&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${id}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${name}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${age}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;sex&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;sex&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${sex}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;hobby&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;hobby&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${hobby}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;classes&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;classes&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${classes}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;school&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;school&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${school}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;birthday&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;birthday&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${birthday}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;costs&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;costs&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${costs}&quot;&#xd;
						}&#xd;
					]&#xd;
				},&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;name&quot;: &quot;数据输出&quot;,&#xd;
				&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
				&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
				&quot;id&quot;: 2,&#xd;
				&quot;prevNodeIds&quot;: [&#xd;
					1&#xd;
				],&#xd;
				&quot;x&quot;: 1246.6666666666668,&#xd;
				&quot;y&quot;: 188.5,&#xd;
				&quot;config&quot;: {&#xd;
					&quot;outputCols&quot;: [&#xd;
						&quot;id&quot;,&#xd;
						&quot;name&quot;,&#xd;
						&quot;age&quot;,&#xd;
						&quot;sex&quot;,&#xd;
						&quot;hobby&quot;,&#xd;
						&quot;classes&quot;,&#xd;
						&quot;school&quot;,&#xd;
						&quot;birthday&quot;,&#xd;
						&quot;costs&quot;&#xd;
					]&#xd;
				}&#xd;
			}&#xd;
		],&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;runMethod&quot;: &quot;Cycle&quot;,&#xd;
		&quot;engine&quot;: []&#xd;
	}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-238869533">新建模型成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data.id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test13(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1094873850">请求成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene10-test14(mysql中新增10条数据)" enabled="true">
              <stringProp name="dataSource">${mysqlIp}</stringProp>
              <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
              <stringProp name="queryArguments"></stringProp>
              <stringProp name="queryArgumentsTypes"></stringProp>
              <stringProp name="queryTimeout"></stringProp>
              <stringProp name="queryType">Callable Statement</stringProp>
              <stringProp name="resultSetHandler">Store as String</stringProp>
              <stringProp name="resultVariable"></stringProp>
              <stringProp name="variableNames">name</stringProp>
              <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
            </JDBCSampler>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_test_sz_summary_p*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene10-test15(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${sourceId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene11-创建汇总模型-算子分析流" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dws/list?name=&amp;pageSize=10&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-算子汇总流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test02(删除数据模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test03(查询历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-kafka-汇总模型算子用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test04(删除掉历史数据源)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene11-test05(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_test_sz_summary_l*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建数据源" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test06(查询所有引擎)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test07(查询数据同步目录)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
                <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test08(创建数据同步目录)" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test09(查询数据同步目录)" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test10(创建kafka数据源)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-kafka-汇总模型算子用&quot;,&quot;describe&quot;:&quot;自动化测试-kafka-汇总模型算子用&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;KAFKA&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;doing&quot;,&quot;name&quot;:&quot;doing&quot;,&quot;path&quot;:&quot;doing&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;logintime&quot;,&quot;name&quot;:&quot;logintime&quot;,&quot;path&quot;:&quot;logintime&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}],&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;why&quot;,&quot;name&quot;:&quot;why&quot;,&quot;path&quot;:&quot;why&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;path&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;}],&quot;accessInfo&quot;:{&quot;hosts&quot;:&quot;${kafkaIp}:9192&quot;,&quot;topic&quot;:&quot;${topic}&quot;,&quot;version&quot;:&quot;1.1.x&quot;,&quot;format&quot;:&quot;JSON&quot;,&quot;delimiter&quot;:&quot;&quot;,&quot;className&quot;:&quot;&quot;,&quot;jsonParseToolJavaCodes&quot;:&quot;&quot;,&quot;security&quot;:{&quot;typeNum&quot;:0},&quot;groupId&quot;:&quot;&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;increased&quot;:false}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test11(查询输入源)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getAnalysisMetaData?metaDataId=${sourceId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">doing;name;why;id;age;logintime</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..metaFields[?(@.code==doing)].metaFieldId;$..metaFields[?(@.code==name)].metaFieldId;$..metaFields[?(@.code==why)].metaFieldId;$..metaFields[?(@.code==id)].metaFieldId;$..metaFields[?(@.code==age)].metaFieldId;$..metaFields[?(@.code==logintime)].metaFieldId;</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;</stringProp>
                <stringProp name="TestPlan.comments"> $.data.items[?(@.createTime ==1591169490879)].friendId</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test12(创建算子汇总模型)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-算子汇总流&quot;,&#xd;
	&quot;accessId&quot;: null,&#xd;
	&quot;layer&quot;: &quot;DWS_CUSTOM&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;name&quot;: &quot;自动化测试-算子汇总流&quot;,&#xd;
		&quot;period&quot;: &quot;&quot;,&#xd;
		&quot;runMode&quot;: &quot;Stream&quot;,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;keyFields&quot;: [],&#xd;
		&quot;nodes&quot;: [&#xd;
			{&#xd;
				&quot;name&quot;: &quot;数据输入&quot;,&#xd;
				&quot;type&quot;: &quot;InputNode&quot;,&#xd;
				&quot;key&quot;: &quot;InputNode&quot;,&#xd;
				&quot;id&quot;: 1,&#xd;
				&quot;prevNodeIds&quot;: [&#xd;
					-1&#xd;
				],&#xd;
				&quot;x&quot;: 249.33333333333349,&#xd;
				&quot;y&quot;: 389,&#xd;
				&quot;config&quot;: {&#xd;
					&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
					&quot;fields&quot;: [&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${doing}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;doing&quot;,&#xd;
							&quot;code&quot;: &quot;doing&quot;,&#xd;
							&quot;path&quot;: &quot;doing&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${logintime}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;logintime&quot;,&#xd;
							&quot;code&quot;: &quot;logintime&quot;,&#xd;
							&quot;path&quot;: &quot;logintime&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;[{\&quot;format\&quot;:\&quot;毫秒时间戳\&quot;,\&quot;formatValue\&quot;:\&quot;LONG_MS\&quot;,\&quot;type\&quot;:\&quot;LONG_MS\&quot;}]&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${name}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;path&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${why}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;why&quot;,&#xd;
							&quot;code&quot;: &quot;why&quot;,&#xd;
							&quot;path&quot;: &quot;why&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${id}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;path&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						},&#xd;
						{&#xd;
							&quot;metaFieldId&quot;: &quot;${age}&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;path&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: []&#xd;
						}&#xd;
					],&#xd;
					&quot;partitions&quot;: [],&#xd;
					&quot;filters&quot;: [],&#xd;
					&quot;partitionsFilters&quot;: {&#xd;
						&quot;fields&quot;: [],&#xd;
						&quot;type&quot;: &quot;or&quot;&#xd;
					},&#xd;
					&quot;streaming&quot;: true,&#xd;
					&quot;runMode&quot;: &quot;Stream&quot;&#xd;
				},&#xd;
				&quot;displayConfig&quot;: {&#xd;
					&quot;values&quot;: {&#xd;
						&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
						&quot;fields&quot;: [&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${doing}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;doing&quot;,&#xd;
								&quot;code&quot;: &quot;doing&quot;,&#xd;
								&quot;path&quot;: &quot;doing&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${logintime}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;logintime&quot;,&#xd;
								&quot;code&quot;: &quot;logintime&quot;,&#xd;
								&quot;path&quot;: &quot;logintime&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;[{\&quot;format\&quot;:\&quot;毫秒时间戳\&quot;,\&quot;formatValue\&quot;:\&quot;LONG_MS\&quot;,\&quot;type\&quot;:\&quot;LONG_MS\&quot;}]&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${name}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;name&quot;,&#xd;
								&quot;code&quot;: &quot;name&quot;,&#xd;
								&quot;path&quot;: &quot;name&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${why}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;why&quot;,&#xd;
								&quot;code&quot;: &quot;why&quot;,&#xd;
								&quot;path&quot;: &quot;why&quot;,&#xd;
								&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
								&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${id}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;id&quot;,&#xd;
								&quot;code&quot;: &quot;id&quot;,&#xd;
								&quot;path&quot;: &quot;id&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							},&#xd;
							{&#xd;
								&quot;metaFieldId&quot;: &quot;${age}&quot;,&#xd;
								&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
								&quot;name&quot;: &quot;age&quot;,&#xd;
								&quot;code&quot;: &quot;age&quot;,&#xd;
								&quot;path&quot;: &quot;age&quot;,&#xd;
								&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
								&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
								&quot;jsonFormats&quot;: &quot;null&quot;,&#xd;
								&quot;filter&quot;: false,&#xd;
								&quot;dict&quot;: false,&#xd;
								&quot;dicts&quot;: []&#xd;
							}&#xd;
						],&#xd;
						&quot;partitions&quot;: [],&#xd;
						&quot;filters&quot;: [],&#xd;
						&quot;partitionsFilters&quot;: {&#xd;
							&quot;fields&quot;: [],&#xd;
							&quot;type&quot;: &quot;or&quot;&#xd;
						}&#xd;
					},&#xd;
					&quot;fields&quot;: [&#xd;
						{&#xd;
							&quot;code&quot;: &quot;doing&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;doing&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${doing}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;logintime&quot;,&#xd;
							&quot;dataType&quot;: &quot;DATE&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;logintime&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${logintime}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;name&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;name&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${name}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;why&quot;,&#xd;
							&quot;dataType&quot;: &quot;STRING&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;why&quot;,&#xd;
							&quot;type&quot;: &quot;DIMENSION&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${why}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;id&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;id&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${id}&quot;&#xd;
						},&#xd;
						{&#xd;
							&quot;code&quot;: &quot;age&quot;,&#xd;
							&quot;dataType&quot;: &quot;INTEGER&quot;,&#xd;
							&quot;dict&quot;: false,&#xd;
							&quot;dicts&quot;: [],&#xd;
							&quot;filter&quot;: false,&#xd;
							&quot;name&quot;: &quot;age&quot;,&#xd;
							&quot;type&quot;: &quot;MEASURE&quot;,&#xd;
							&quot;metaDataId&quot;: &quot;${sourceId}&quot;,&#xd;
							&quot;metaFieldId&quot;: &quot;${age}&quot;&#xd;
						}&#xd;
					]&#xd;
				},&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;name&quot;: &quot;数据输出&quot;,&#xd;
				&quot;type&quot;: &quot;OutputNode&quot;,&#xd;
				&quot;key&quot;: &quot;OutputNode&quot;,&#xd;
				&quot;id&quot;: 2,&#xd;
				&quot;prevNodeIds&quot;: [&#xd;
					1&#xd;
				],&#xd;
				&quot;x&quot;: 1246.6666666666668,&#xd;
				&quot;y&quot;: 389,&#xd;
				&quot;config&quot;: {&#xd;
					&quot;outputCols&quot;: [&#xd;
						&quot;doing&quot;,&#xd;
						&quot;logintime&quot;,&#xd;
						&quot;name&quot;,&#xd;
						&quot;why&quot;,&#xd;
						&quot;id&quot;,&#xd;
						&quot;age&quot;&#xd;
					]&#xd;
				}&#xd;
			}&#xd;
		],&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: []&#xd;
	}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-238869533">新建模型成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">data.id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test13(发布)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
              <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1094873850">请求成功</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
              <intProp name="ActionProcessor.action">1</intProp>
              <intProp name="ActionProcessor.target">0</intProp>
              <stringProp name="ActionProcessor.duration">10000</stringProp>
            </TestAction>
            <hashTree/>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene11-test14(写入kafka)" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
                <boolProp name="LoopController.continue_forever">true</boolProp>
                <stringProp name="LoopController.loops">10</stringProp>
              </LoopController>
              <hashTree>
                <JavaSampler guiclass="JavaTestSamplerGui" testclass="JavaSampler" testname="(写入kafka)" enabled="true">
                  <stringProp name="TestPlan.comments">1、安装时间戳创建topic保证了独一无二
2、写入100条数据</stringProp>
                  <elementProp name="arguments" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="kafka_brokers" elementType="Argument">
                        <stringProp name="Argument.name">kafka_brokers</stringProp>
                        <stringProp name="Argument.value">${kafkaIp}:9192</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_topic" elementType="Argument">
                        <stringProp name="Argument.name">kafka_topic</stringProp>
                        <stringProp name="Argument.value">${topic}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="kafka_message" elementType="Argument">
                        <stringProp name="Argument.name">kafka_message</stringProp>
                        <stringProp name="Argument.value">{ &quot;id&quot;: ${num}, &quot;name&quot;: &quot;李四3&quot;, &quot;age&quot;: ${num}, &quot;doing&quot;: &quot;偷袭人&quot;, &quot;why&quot;: &quot;执行刺激&quot;, &quot;logintime&quot;: ${logintime} }</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="classname">co.signal.kafkameter.KafkaProducerSampler</stringProp>
                </JavaSampler>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">5786573360000</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                    <stringProp name="TestPlan.comments">${__time()}   ${__Random(0,99,n)}</stringProp>
                  </CounterConfig>
                  <hashTree/>
                  <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="script">//long topic_time=Long.parseLong(vars.get(&quot;topic_time&quot;));
//String topic = &quot;zlj_datasync_test_&quot;+topic_time;
//vars.put(&quot;topic&quot;,topic);
long time=${__time()};
int num=Integer.parseInt(vars.get(&quot;num&quot;));
long logintime= time+1000*num;
vars.put(&quot;logintime&quot;,logintime+&quot;&quot;);
</stringProp>
                    <stringProp name="scriptLanguage">groovy</stringProp>
                  </JSR223PreProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_zdh_test_sz_summary_l*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene11-test15(点击数据预览)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${sourceId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene12-创建主题分析-USQL分析流-可能需要重启" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=100&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-usql主题流&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene12-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_streamusql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene12-test04(清空数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">delete from t1;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建usql主题模型流" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test05(查询引擎的id)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test06(查询数据源id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-mysql-明细模型usql用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test07(创建模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-usql主题流&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;layer&quot;: &quot;USQL&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
		&quot;sql&quot;: &quot;load `自动化测试-mysql-明细模型usql用` as t1;\nsave t1 as es.`zlj_topic_streamusql_{name}_{birthday:yyyy.MM.dd}/_doc`;&quot;,&#xd;
		&quot;period&quot;: &quot;&quot;,&#xd;
		&quot;runMode&quot;: &quot;Stream&quot;,&#xd;
		&quot;saveKafka&quot;: false,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: [&#xd;
			{&#xd;
				&quot;regionId&quot;: &quot;local&quot;,&#xd;
				&quot;features&quot;: [&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		],&#xd;
		&quot;fields&quot;: [&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;id&quot;,&#xd;
				&quot;field&quot;: &quot;id&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;name&quot;,&#xd;
				&quot;field&quot;: &quot;name&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;age&quot;,&#xd;
				&quot;field&quot;: &quot;age&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;sex&quot;,&#xd;
				&quot;field&quot;: &quot;sex&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;hobby&quot;,&#xd;
				&quot;field&quot;: &quot;hobby&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;classes&quot;,&#xd;
				&quot;field&quot;: &quot;classes&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;school&quot;,&#xd;
				&quot;field&quot;: &quot;school&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;birthday&quot;,&#xd;
				&quot;field&quot;: &quot;birthday&quot;,&#xd;
				&quot;fieldType&quot;: &quot;DATE&quot;,&#xd;
				&quot;formats&quot;: [&#xd;
					{&#xd;
						&quot;type&quot;: &quot;LONG_MS&quot;,&#xd;
						&quot;format&quot;: &quot;毫秒时间戳&quot;&#xd;
					}&#xd;
				]&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;costs&quot;,&#xd;
				&quot;field&quot;: &quot;costs&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			}&#xd;
		]&#xd;
	}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1094873850">请求成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test08(查询模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-usql主题流</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test09(发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
                <intProp name="ActionProcessor.action">1</intProp>
                <intProp name="ActionProcessor.target">0</intProp>
                <stringProp name="ActionProcessor.duration">10000</stringProp>
              </TestAction>
              <hashTree/>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="databank-scene12-test10(mysql中新增10条数据)" enabled="true">
                <stringProp name="dataSource">${mysqlIp}</stringProp>
                <stringProp name="query">INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;刘德华&apos;, 12, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2020-01-01 09:15:05&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;张学友&apos;, 13, &apos;男&apos;, &apos;唱歌&apos;, &apos;土豪班&apos;, &apos;非常中学&apos;, &apos;2020-02-01 09:15:43&apos;, 2000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;郭富城&apos;, 14, &apos;男&apos;, &apos;跳舞&apos;, &apos;活动班&apos;, &apos;热血中学&apos;, &apos;2020-03-01 09:16:16&apos;, 800);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;黎明&apos;, 15, &apos;男&apos;, &apos;耍帅&apos;, &apos;颜值班&apos;, &apos;神气中学&apos;, &apos;2020-04-01 09:17:05&apos;, 888);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;周星驰&apos;, 16, &apos;男&apos;, &apos;搞笑&apos;, &apos;幽默班&apos;, &apos;文军中学&apos;, &apos;2020-05-01 09:17:37&apos;, 1000);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang1&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang2&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang3&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1`(`name`, `age`, `sex`, `hobby`, `classes`, `school`, `birthday`, `costs`) VALUES ( &apos;wang4&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">name</stringProp>
                <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
              </JDBCSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_streamusql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysql_password}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">1000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;source&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);</stringProp>
                  </JSR223PostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test11(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                    <stringProp name="1608221142">\&quot;total\&quot;:11</stringProp>
                    <stringProp name="1608221143">\&quot;total\&quot;:12</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">34</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene12-test12(检查作业执行类型是流)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene12-test13(查询usql模型ES数据)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_streamusql_wang4_2021.07.15/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="906619">演戏</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene13-创建主题分析-USQL分析批)" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="删除历史模型" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test01(查询历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=100&amp;pageIndex=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;自动化测试-usql主题批&quot;)].id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test02(删除历史模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/delete?id=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene13-test03(清理掉ES模型历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_branchusql*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene13-test04(清理掉ES数据源历史数据)" enabled="true">
                <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_detailmodel_test*</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="创建usql主题模型批" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test05(查询引擎的id)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;source&quot;:&quot;DWS&quot;}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/engine/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <boolProp name="HTTPSampler.BROWSER_COMPATIBLE_MULTIPART">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">RealCompute;OffCompute;DataWarehouse;DataQueue</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;RealCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;OffCompute&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataWarehouse&quot;)].options[0].engineId;$..data[?(@.regionName ==&quot;主数据区&quot;)].features[?(@.feature ==&quot;DataQueue&quot;)].options[0].engineId;</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test06(查询数据源id)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-ES-明细模型用&amp;pageSize=10&amp;pageNum=1</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test07(创建模型)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&#xd;
	&quot;name&quot;: &quot;自动化测试-usql主题批&quot;,&#xd;
	&quot;type&quot;: &quot;SPARK_USQL&quot;,&#xd;
	&quot;layer&quot;: &quot;USQL&quot;,&#xd;
	&quot;config&quot;: {&#xd;
		&quot;runMethod&quot;: &quot;Cycle&quot;,&#xd;
		&quot;mode&quot;: &quot;PRODUCE&quot;,&#xd;
		&quot;sql&quot;: &quot;load `自动化测试-ES-明细模型用` as t1;\nsave t1 as es.`zlj_topic_branchusql/_doc`;&quot;,&#xd;
		&quot;period&quot;: &quot;0 0/30 * * * ? *&quot;,&#xd;
		&quot;runMode&quot;: &quot;Batch&quot;,&#xd;
		&quot;saveKafka&quot;: false,&#xd;
		&quot;partition&quot;: {&#xd;
			&quot;isTimePartition&quot;: false,&#xd;
			&quot;timePartition&quot;: {&#xd;
				&quot;field&quot;: &quot;&quot;,&#xd;
				&quot;interval&quot;: 86400000&#xd;
			},&#xd;
			&quot;isOtherPartition&quot;: false,&#xd;
			&quot;otherPartition&quot;: []&#xd;
		},&#xd;
		&quot;metaDatas&quot;: [&#xd;
			{&#xd;
				&quot;metaDataId&quot;: &quot;${sourceId}&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;engine&quot;: [&#xd;
			{&#xd;
				&quot;regionId&quot;: &quot;local&quot;,&#xd;
				&quot;features&quot;: [&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${RealCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;RealCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${OffCompute}&quot;,&#xd;
						&quot;feature&quot;: &quot;OffCompute&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataWarehouse}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataWarehouse&quot;&#xd;
					},&#xd;
					{&#xd;
						&quot;engineId&quot;: &quot;${DataQueue}&quot;,&#xd;
						&quot;feature&quot;: &quot;DataQueue&quot;&#xd;
					}&#xd;
				]&#xd;
			}&#xd;
		],&#xd;
		&quot;fields&quot;: [&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;id&quot;,&#xd;
				&quot;field&quot;: &quot;id&quot;,&#xd;
				&quot;fieldType&quot;: &quot;INTEGER&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;name&quot;,&#xd;
				&quot;field&quot;: &quot;name&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;street&quot;,&#xd;
				&quot;field&quot;: &quot;street&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;city&quot;,&#xd;
				&quot;field&quot;: &quot;city&quot;,&#xd;
				&quot;fieldType&quot;: &quot;STRING&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;fieldName&quot;: &quot;time&quot;,&#xd;
				&quot;field&quot;: &quot;time&quot;,&#xd;
				&quot;fieldType&quot;: &quot;LONG&quot;&#xd;
			}&#xd;
		]&#xd;
	}&#xd;
}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/new_save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1094873850">请求成功</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test08(查询模型)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-usql主题批</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test09(发布)" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${modelId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <TestAction guiclass="TestActionGui" testclass="TestAction" testname="等待spark作业跑起来" enabled="true">
                <intProp name="ActionProcessor.action">1</intProp>
                <intProp name="ActionProcessor.target">0</intProp>
                <stringProp name="ActionProcessor.duration">10000</stringProp>
              </TestAction>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene13-test10(新增10条数据)" enabled="true">
              <stringProp name="command">rm -rf  3.sh&amp;&amp;for i in $(seq 101 110) ;do let x=1626883200000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/zlj_detailmodel_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysql_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);

int kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
int solution_value=new Integer(vars.get(&quot;solution_value&quot;));
int deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
int core_value=new Integer(vars.get(&quot;core_value&quot;));
int kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
int metric_value=new Integer(vars.get(&quot;metric_value&quot;));
int mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
//初始化值为-1
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source1 =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source1.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	//初始化后只赋值一次
	if (kafkastreams_value==-1){
	 kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (solution_value==-1){
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (deploy_value==-1){
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (core_value==-1){
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (kafka_value==-1){
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	if (metric_value==-1){
	 metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (mongodb_value==-1){
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}	
	}
 }

vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
	int result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
	log.error(result+&quot;&quot;);
	vars.put(&quot;result&quot;,result+&quot;&quot;);
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/zlj_topic_branchusql*/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysql_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">1000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">total_data</stringProp>
                  <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="断言" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test11(点击数据预览)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/result?id=${modelId}&amp;pageIndex=1&amp;pageSize=100</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1608221141">\&quot;total\&quot;:10</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene13-test12(检查作业执行类型是批)" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${modelId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1575537670">&quot;period&quot;:&quot;流处理&quot;</stringProp>
                    <stringProp name="-101604118">&quot;period&quot;:&quot;单次执行&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">20</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene14-数据生命周期" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test01(ES中删除当天数据)" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_metric_model_${__time(yyyyMMdd)}/_delete_by_query -d &apos;{&quot;query&quot;: {&quot;bool&quot;: { &quot;must&quot;: [ {&quot;term&quot;: { &quot;objectId&quot;: &quot;123456789&quot;}}]}}}&apos; </stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test02(ES中新增当天数据)" enabled="true">
              <stringProp name="command">curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/dw_metric_model_${__time(yyyyMMdd)}/_doc  -H &apos;Content-Type: application/json&apos; -d &apos;{&quot;__PROCESS_TIME__&quot;: ${__time()}, &quot;metric_name&quot;: &quot;system.mem.free&quot;, &quot;tenantId&quot;: &quot;e10adc3949ba59abbe56e057f20f88dd&quot;, &quot;metric_value&quot;: 100, &quot;type&quot;: &quot;gauge&quot;, &quot;uuid&quot;: null, &quot;ingress_time&quot;: ${__time()}, &quot;objectId&quot;: &quot;123456789&quot;, &quot;tags&quot;: { &quot;ip&quot;: [ &quot;10.1.66.66&quot; ], &quot;device&quot;: [ &quot;device1&quot; ], &quot;object&quot;: [ &quot;123456789&quot; ] }, &quot;timestamp&quot;: ${__time()} }&apos;</stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test03(ES中新增历史数据)" enabled="true">
              <stringProp name="command">curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/dw_metric_model_${__timeShift(yyyyMMdd,,P-5D,,)}/_doc  -H &apos;Content-Type: application/json&apos; -d &apos;{ &quot;__PROCESS_TIME__&quot;: ${__timeShift(,,P-5d,,)}, &quot;metric_name&quot;: &quot;system.mem.free&quot;, &quot;tenantId&quot;: &quot;e10adc3949ba59abbe56e057f20f88dd&quot;, &quot;metric_value&quot;: 100, &quot;type&quot;: &quot;gauge&quot;, &quot;uuid&quot;: null, &quot;ingress_time&quot;: ${__timeShift(,,P-5d,,)}, &quot;objectId&quot;: &quot;123456789&quot;, &quot;tags&quot;: { &quot;ip&quot;: [ &quot;10.1.66.66&quot; ], &quot;device&quot;: [ &quot;device1&quot; ], &quot;object&quot;: [ &quot;123456789&quot; ] }, &quot;timestamp&quot;: ${__timeShift(,,P-5d,,)}}&apos;</stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test04(设置生命周期准备)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getDetailed?id=2e1288f20564954fe3141d4f0e87d1b8</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">fields</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..fields</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">storages</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..storages</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test05(设置全局生命周期保留4天)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&#xd;
	&quot;id&quot;: &quot;2e1288f20564954fe3141d4f0e87d1b8&quot;,&#xd;
	&quot;name&quot;: &quot;指标模型&quot;,&#xd;
	&quot;type&quot;: &quot;MODEL&quot;,&#xd;
	&quot;innerId&quot;: &quot;2e1288f20564954fe3141d4f0e87d1b8&quot;,&#xd;
	&quot;createPerson&quot;: &quot;admin&quot;,&#xd;
	&quot;createTime&quot;: &quot;2021-10-09 09:21:45&quot;,&#xd;
	&quot;updateTime&quot;: &quot;2021-10-09 09:21:45&quot;,&#xd;
	&quot;lifeCycle&quot;: {&#xd;
		&quot;type&quot;: &quot;SIMPLE&quot;,&#xd;
		&quot;lifecyclePhases&quot;: [&#xd;
			{&#xd;
				&quot;enable&quot;: false,&#xd;
				&quot;minAge&quot;: &quot;&quot;&#xd;
			},&#xd;
			{&#xd;
				&quot;enable&quot;: false,&#xd;
				&quot;minAge&quot;: &quot;&quot;&#xd;
			}&#xd;
		],&#xd;
		&quot;enable&quot;: true,&#xd;
		&quot;condition&quot;: {&#xd;
			&quot;items&quot;: [&#xd;
				{&#xd;
					&quot;operator&quot;: &quot;RECENT&quot;,&#xd;
					&quot;value&quot;: 345600000,&#xd;
					&quot;field&quot;: null&#xd;
				}&#xd;
			]&#xd;
		}&#xd;
	},&#xd;
	&quot;lifeCycleStr&quot;: &quot;永久&quot;,&#xd;
	&quot;dataVersion&quot;: &quot;v3&quot;,&#xd;
	&quot;describe&quot;: &quot;数据模型元数据&quot;,&#xd;
	&quot;fields&quot;: ${fields},&#xd;
	&quot;storages&quot;: ${storages},&#xd;
	&quot;isImport&quot;: 0,&#xd;
	&quot;flag&quot;: 2,&#xd;
	&quot;hasPath&quot;: true,&#xd;
	&quot;tags&quot;: [&#xd;
		&quot;数据模型&quot;&#xd;
	],&#xd;
	&quot;catalogName&quot;: &quot;其他数据&quot;,&#xd;
	&quot;deploy&quot;: true,&#xd;
	&quot;dataDelay&quot;: {&#xd;
		&quot;maxRecordTime&quot;: null,&#xd;
		&quot;minRecordTime&quot;: null,&#xd;
		&quot;maxProcessTime&quot;: null,&#xd;
		&quot;minProcessTime&quot;: null&#xd;
	}&#xd;
}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/detailed/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test06(执行删除)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/openapi/v1/portal/lifecyleManager/execute?apikey=${apikey}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=2 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test07(确定历史数据已被删除)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_metric_model_${__timeShift(yyyyMMdd,,P-5D,,)}/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">10.1.62.12</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">broada123</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;index_not_found_exception&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);
log.error(count+&quot;&quot;);</stringProp>
                </JSR223PostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
            <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="去除变量值" enabled="true">
              <stringProp name="scriptLanguage">groovy</stringProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="cacheKey">true</stringProp>
              <stringProp name="script">vars.remove(&quot;total_data&quot;);</stringProp>
            </JSR223Sampler>
            <hashTree/>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test08(确定当日数据没有删除)" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_metric_model_${__time(yyyyMMdd)}/_search -d &apos;{ &quot;query&quot;: { &quot;bool&quot;: { &quot;must&quot;: [ { &quot;term&quot;: { &quot;objectId&quot;: &quot;123456789&quot; } } ], &quot;must_not&quot;: [ ], &quot;should&quot;: [ ] } }, &quot;from&quot;: 0, &quot;size&quot;: 10, &quot;sort&quot;: [ ], &quot;aggs&quot;: { } }&apos; </stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                <collectionProp name="Asserion.test_strings">
                  <stringProp name="-872498294">hits\&quot;:{\&quot;total\&quot;:{\&quot;value\&quot;:1</stringProp>
                </collectionProp>
                <stringProp name="Assertion.custom_message"></stringProp>
                <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                <boolProp name="Assertion.assume_success">false</boolProp>
                <intProp name="Assertion.test_type">2</intProp>
              </ResponseAssertion>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test09(ES中新增3天前历史数据)" enabled="true">
              <stringProp name="command">curl -u admin:Admin@123 -X POST http://${__P(esIp)}:${esport}/dw_metric_model_${__timeShift(yyyyMMdd,,P-4D,,)}/_doc  -H &apos;Content-Type: application/json&apos; -d &apos;{ &quot;__PROCESS_TIME__&quot;: ${__timeShift(,,P-3d,,)}, &quot;metric_name&quot;: &quot;system.mem.free&quot;, &quot;tenantId&quot;: &quot;e10adc3949ba59abbe56e057f20f88dd&quot;, &quot;metric_value&quot;: 100, &quot;type&quot;: &quot;gauge&quot;, &quot;uuid&quot;: null, &quot;ingress_time&quot;: ${__timeShift(,,P-3d,,)}, &quot;objectId&quot;: &quot;123456789&quot;, &quot;tags&quot;: { &quot;ip&quot;: [ &quot;10.1.66.66&quot; ], &quot;device&quot;: [ &quot;device1&quot; ], &quot;object&quot;: [ &quot;123456789&quot; ] }, &quot;timestamp&quot;: ${__timeShift(,,P-3d,,)}}&apos;</stringProp>
              <intProp name="connectionTimeout">5000</intProp>
              <stringProp name="hostname">10.1.62.12</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">broada123</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test10(设置局部生命周期保留3天)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;id&quot;:&quot;2e1288f20564954fe3141d4f0e87d1b8&quot;,&quot;storageIndex&quot;:0,&quot;lifeCycleStrategy&quot;:{&quot;type&quot;:&quot;SIMPLE&quot;,&quot;lifecyclePhases&quot;:[{&quot;enable&quot;:false,&quot;minAge&quot;:&quot;&quot;},{&quot;enable&quot;:false,&quot;minAge&quot;:&quot;&quot;}],&quot;enable&quot;:true,&quot;condition&quot;:{&quot;items&quot;:[{&quot;operator&quot;:&quot;RECENT&quot;,&quot;value&quot;:25${esport}000}]}},&quot;regionId&quot;:&quot;local&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/lifeCycle/save</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene14-test11(执行删除)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/openapi/v1/portal/lifecyleManager/execute?apikey=${apikey}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=2 &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene14-test12(确定历史数据已删除)" enabled="true">
                <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:${esport}/dw_metric_model_${__timeShift(yyyyMMdd,,P-4D,,)}/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">10.1.62.12</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">broada123</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <JSR223PostProcessor guiclass="TestBeanGUI" testclass="JSR223PostProcessor" testname="JSR223 后置处理程序" enabled="true">
                  <stringProp name="scriptLanguage">groovy</stringProp>
                  <stringProp name="parameters"></stringProp>
                  <stringProp name="filename"></stringProp>
                  <stringProp name="cacheKey">true</stringProp>
                  <stringProp name="script">import org.json.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
Pattern pattern = Pattern.compile(&quot;index_not_found_exception&quot;);
Matcher matcher = pattern.matcher(text2);
int count = 0;
while(matcher.find()){
count++;
}
vars.put(&quot;total_data&quot;,count+&quot;&quot;);
log.error(count+&quot;&quot;);</stringProp>
                </JSR223PostProcessor>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene15-数据订阅，依赖12算子分析" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene15-test01(查询算子分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/datas/queryAggregation?pageSize=10&amp;pageIndex=1&amp;name=自动化测试-算子主题批</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">analysisId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene15-test02(查询kafka中历史数据量)" enabled="true">
              <stringProp name="command">cnts=$(/${kafka_opt}/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic zljtest_dingyue --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${kafkaIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${kafka_password}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
              <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                <stringProp name="RegexExtractor.refname">kafka_counts</stringProp>
                <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                <stringProp name="RegexExtractor.template">$1$</stringProp>
                <stringProp name="RegexExtractor.default"></stringProp>
                <stringProp name="RegexExtractor.match_number">1</stringProp>
              </RegexExtractor>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">int count = Integer.parseInt(vars.get(&quot;kafka_counts&quot;));
int expect_count=count+10;
vars.put(&quot;expect_count&quot;,expect_count+&quot;&quot;);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene15-test03(查询历史数据订阅)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/subscribe/queryListByDataAnalysisId?dataAnalysisId=${analysisId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">dingyueId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene15-test04(删除历史数据订阅)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/subscribe/delete?id=${dingyueId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene15-test05(创建数据订阅)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;config&quot;:&quot;{\&quot;type\&quot;:\&quot;Kafka\&quot;,\&quot;typeName\&quot;:\&quot;Kafka订阅\&quot;,\&quot;history\&quot;:false,\&quot;stream\&quot;:true,\&quot;kafka.bootstrap.servers\&quot;:\&quot;${kafkaIp}:9192\&quot;,\&quot;kafka.topic\&quot;:\&quot;zljtest_dingyue\&quot;,\&quot;security\&quot;:{\&quot;typeNum\&quot;:0},\&quot;version\&quot;:\&quot;1.1.x\&quot;}&quot;,&quot;dataSubscribeName&quot;:&quot;来一个订阅&quot;,&quot;origin&quot;:&quot;databank&quot;,&quot;cron&quot;:&quot;0 0 * * * ? *&quot;,&quot;isBatch&quot;:0,&quot;status&quot;:1,&quot;dataId&quot;:&quot;${analysisId}&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/subscribe/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
              <stringProp name="WhileController.condition">${__javaScript(&quot;${kafka_counts}&quot;!=${expect_count} &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
            </WhileController>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">100</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
              </CounterConfig>
              <hashTree/>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-scene15-test06(查询kafka中历史数据量)" enabled="true">
                <stringProp name="command">cnts=$(/${kafka_opt}/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic zljtest_dingyue --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${kafkaIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${kafka_password}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
                <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                  <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                  <stringProp name="RegexExtractor.refname">kafka_counts</stringProp>
                  <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                  <stringProp name="RegexExtractor.template">$1$</stringProp>
                  <stringProp name="RegexExtractor.default"></stringProp>
                  <stringProp name="RegexExtractor.match_number">1</stringProp>
                </RegexExtractor>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene16-api创建，依赖明细模型datamap" enabled="false">
            <boolProp name="TransactionController.includeTimers">false</boolProp>
            <boolProp name="TransactionController.parent">false</boolProp>
          </TransactionController>
          <hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test01(查询明细模型的分析id)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/models/dwd/list?name=自动化明细模型测试&amp;pageSize=10&amp;pageIndex=1</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">modelId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test02(获取API)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/customizeApi/getByMetaDataId?id=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">apiId</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test03(删除历史API)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/customizeApi/delete?id=${apiId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test04(API创建)" enabled="true">
              <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="" elementType="HTTPArgument">
                    <boolProp name="HTTPArgument.always_encode">false</boolProp>
                    <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化创建API&quot;,&quot;path&quot;:&quot;autotest&quot;,&quot;method&quot;:&quot;GET&quot;,&quot;describe&quot;:&quot;自动化测试&quot;,&quot;timeout&quot;:1000,&quot;metaDataId&quot;:&quot;${modelId}&quot;,&quot;type&quot;:&quot;sql&quot;,&quot;requestParams&quot;:[{&quot;code&quot;:&quot;idss&quot;,&quot;name&quot;:&quot;idss&quot;,&quot;bindCode&quot;:&quot;idss&quot;,&quot;select&quot;:true,&quot;type&quot;:&quot;STRING&quot;,&quot;defaultValue&quot;:&quot;1&quot;,&quot;example&quot;:&quot;1&quot;}],&quot;returnParams&quot;:[{&quot;code&quot;:&quot;doing&quot;,&quot;bindCode&quot;:&quot;doing&quot;,&quot;name&quot;:&quot;doing&quot;,&quot;type&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;logintime&quot;,&quot;bindCode&quot;:&quot;logintime&quot;,&quot;name&quot;:&quot;logintime&quot;,&quot;type&quot;:&quot;DATE&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;bindCode&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;type&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;why&quot;,&quot;bindCode&quot;:&quot;why&quot;,&quot;name&quot;:&quot;why&quot;,&quot;type&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;id&quot;,&quot;bindCode&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;type&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;bindCode&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;type&quot;:&quot;INTEGER&quot;}],&quot;sql&quot;:&quot;select * from `自动化明细模型测试` where `id`= ${idss};&quot;,&quot;protocol&quot;:&quot;http&quot;,&quot;contentType&quot;:&quot;JSON&quot;,&quot;success_example&quot;:&quot;{\&quot;data\&quot;:[{\&quot;doing\&quot;:\&quot;偷袭人\&quot;,\&quot;logintime\&quot;:1646126105328,\&quot;__PROCESS_TIME__\&quot;:1646126108109,\&quot;name\&quot;:\&quot;李四3\&quot;,\&quot;why\&quot;:\&quot;执行刺激\&quot;,\&quot;_id\&quot;:\&quot;F8zDRH8BWVyIsZvNDeH7\&quot;,\&quot;id\&quot;:1,\&quot;age\&quot;:1}],\&quot;message\&quot;:\&quot;查询成功\&quot;,\&quot;stateCode\&quot;:\&quot;OK\&quot;}&quot;}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udap/api/v1/portal/sharedData/customizeApi/create</stringProp>
              <stringProp name="HTTPSampler.method">POST</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree/>
            <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-scene16-test05(API查询)" enabled="true">
              <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                <collectionProp name="Arguments.arguments"/>
              </elementProp>
              <stringProp name="HTTPSampler.domain"></stringProp>
              <stringProp name="HTTPSampler.port"></stringProp>
              <stringProp name="HTTPSampler.protocol"></stringProp>
              <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
              <stringProp name="HTTPSampler.path">/udapdatamap/api/v1/portal/sharedData/api/list?metaDataId=${modelId}</stringProp>
              <stringProp name="HTTPSampler.method">GET</stringProp>
              <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
              <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
              <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
              <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
              <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
              <stringProp name="HTTPSampler.connect_timeout"></stringProp>
              <stringProp name="HTTPSampler.response_timeout"></stringProp>
            </HTTPSamplerProxy>
            <hashTree>
              <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                <stringProp name="JSONPostProcessor.referenceNames">realPath</stringProp>
                <stringProp name="JSONPostProcessor.jsonPathExprs">$..realPath</stringProp>
                <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
              </JSONPostProcessor>
              <hashTree/>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-scene16-test06(API查询2)" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="while" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(!(&quot;${result}&quot;.contains(&quot;偷袭&quot;)) &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="api请求" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
                  <stringProp name="HTTPSampler.path">${realPath}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="false">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">true</stringProp>
                    <stringProp name="script">String realPath=vars.get(&quot;realPath&quot;);
realPath=realPath.split(&quot;${__P(tenant.url)}&quot;)[1];
vars.put(&quot;realPath&quot;,realPath);</stringProp>
                  </JSR223PreProcessor>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">result</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..doing</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">6000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="View Results Tree" enabled="true">
        <boolProp name="ResultCollector.error_logging">false</boolProp>
        <objProp>
          <name>saveConfig</name>
          <value class="SampleSaveConfiguration">
            <time>true</time>
            <latency>true</latency>
            <timestamp>true</timestamp>
            <success>true</success>
            <label>true</label>
            <code>true</code>
            <message>true</message>
            <threadName>true</threadName>
            <dataType>true</dataType>
            <encoding>false</encoding>
            <assertions>true</assertions>
            <subresults>true</subresults>
            <responseData>false</responseData>
            <samplerData>false</samplerData>
            <xml>true</xml>
            <fieldNames>true</fieldNames>
            <responseHeaders>false</responseHeaders>
            <requestHeaders>false</requestHeaders>
            <responseDataOnError>false</responseDataOnError>
            <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
            <assertionsResultsToSave>0</assertionsResultsToSave>
            <bytes>true</bytes>
            <sentBytes>true</sentBytes>
            <url>true</url>
            <threadCounts>true</threadCounts>
            <idleTime>true</idleTime>
            <connectTime>true</connectTime>
          </value>
        </objProp>
        <stringProp name="filename"></stringProp>
      </ResultCollector>
      <hashTree/>
    </hashTree>
  </hashTree>
</jmeterTestPlan>
