<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.1.1 r1855137">
  <hashTree>
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="Test Plan" enabled="true">
      <stringProp name="TestPlan.comments"></stringProp>
      <boolProp name="TestPlan.functional_mode">false</boolProp>
      <boolProp name="TestPlan.tearDown_on_shutdown">true</boolProp>
      <boolProp name="TestPlan.serialize_threadgroups">true</boolProp>
      <elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
        <collectionProp name="Arguments.arguments"/>
      </elementProp>
      <stringProp name="TestPlan.user_define_classpath"></stringProp>
    </TestPlan>
    <hashTree>
      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
        <collectionProp name="HeaderManager.headers">
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">Content-Type</stringProp>
            <stringProp name="Header.value">application/json;charset=UTF-8</stringProp>
          </elementProp>
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">Cache-Control</stringProp>
            <stringProp name="Header.value">no-cache</stringProp>
          </elementProp>
        </collectionProp>
      </HeaderManager>
      <hashTree/>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="测试片段" enabled="true"/>
      <hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="连接mysql数据库" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="初始化数据库t1" enabled="true">
            <stringProp name="dataSource">${url}_mysql</stringProp>
            <stringProp name="query">SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;
DROP TABLE IF EXISTS `t1`;
CREATE TABLE `t1`  (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `age` int(11) NULL DEFAULT NULL,
  `sex` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `hobby` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `classes` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `school` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `birthday` timestamp(0) NULL DEFAULT NULL,
  `costs` int(255) NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 3797 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;
INSERT INTO `t1` VALUES (1, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:36&apos;, 0);
INSERT INTO `t1` VALUES (2, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:37&apos;, 0);
INSERT INTO `t1` VALUES (3, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:38&apos;, 0);
INSERT INTO `t1` VALUES (4, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:39&apos;, 0);
INSERT INTO `t1` VALUES (5, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:40&apos;, 0);
INSERT INTO `t1` VALUES (6, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:41&apos;, 0);
INSERT INTO `t1` VALUES (7, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:42&apos;, 0);
INSERT INTO `t1` VALUES (8, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:43&apos;, 0);
INSERT INTO `t1` VALUES (9, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:44&apos;, 0);
INSERT INTO `t1` VALUES (10, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:45&apos;, 0);
INSERT INTO `t1` VALUES (11, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:46&apos;, 0);
INSERT INTO `t1` VALUES (12, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:47&apos;, 0);
INSERT INTO `t1` VALUES (13, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:48&apos;, 0);
INSERT INTO `t1` VALUES (14, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:49&apos;, 0);
INSERT INTO `t1` VALUES (15, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:50&apos;, 0);
INSERT INTO `t1` VALUES (16, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:51&apos;, 0);
INSERT INTO `t1` VALUES (17, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:52&apos;, 0);
INSERT INTO `t1` VALUES (18, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:53&apos;, 0);
INSERT INTO `t1` VALUES (19, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:54&apos;, 0);
INSERT INTO `t1` VALUES (20, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:55&apos;, 0);
INSERT INTO `t1` VALUES (21, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:56&apos;, 0);
INSERT INTO `t1` VALUES (22, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:57&apos;, 0);
INSERT INTO `t1` VALUES (23, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:58&apos;, 0);
INSERT INTO `t1` VALUES (24, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:02:59&apos;, 0);
INSERT INTO `t1` VALUES (25, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:00&apos;, 0);
INSERT INTO `t1` VALUES (26, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:01&apos;, 0);
INSERT INTO `t1` VALUES (27, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:02&apos;, 0);
INSERT INTO `t1` VALUES (28, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:03&apos;, 0);
INSERT INTO `t1` VALUES (29, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:04&apos;, 0);
INSERT INTO `t1` VALUES (30, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:05&apos;, 0);
INSERT INTO `t1` VALUES (31, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:06&apos;, 0);
INSERT INTO `t1` VALUES (32, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:07&apos;, 0);
INSERT INTO `t1` VALUES (33, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:08&apos;, 0);
INSERT INTO `t1` VALUES (34, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:09&apos;, 0);
INSERT INTO `t1` VALUES (35, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:10&apos;, 0);
INSERT INTO `t1` VALUES (36, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:11&apos;, 0);
INSERT INTO `t1` VALUES (37, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:12&apos;, 0);
INSERT INTO `t1` VALUES (38, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:13&apos;, 0);
INSERT INTO `t1` VALUES (39, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:14&apos;, 0);
INSERT INTO `t1` VALUES (40, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:15&apos;, 0);
INSERT INTO `t1` VALUES (41, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:16&apos;, 0);
INSERT INTO `t1` VALUES (42, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:17&apos;, 0);
INSERT INTO `t1` VALUES (43, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:18&apos;, 0);
INSERT INTO `t1` VALUES (44, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:19&apos;, 0);
INSERT INTO `t1` VALUES (45, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:20&apos;, 0);
INSERT INTO `t1` VALUES (46, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:21&apos;, 0);
INSERT INTO `t1` VALUES (47, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:22&apos;, 0);
INSERT INTO `t1` VALUES (48, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:23&apos;, 0);
INSERT INTO `t1` VALUES (49, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:24&apos;, 0);
INSERT INTO `t1` VALUES (50, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:25&apos;, 0);
INSERT INTO `t1` VALUES (51, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:26&apos;, 0);
INSERT INTO `t1` VALUES (52, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:27&apos;, 0);
INSERT INTO `t1` VALUES (53, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:28&apos;, 0);
INSERT INTO `t1` VALUES (54, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:29&apos;, 0);
INSERT INTO `t1` VALUES (55, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:30&apos;, 0);
INSERT INTO `t1` VALUES (56, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:31&apos;, 0);
INSERT INTO `t1` VALUES (57, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:32&apos;, 0);
INSERT INTO `t1` VALUES (58, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:33&apos;, 0);
INSERT INTO `t1` VALUES (59, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:34&apos;, 0);
INSERT INTO `t1` VALUES (60, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:35&apos;, 0);
INSERT INTO `t1` VALUES (61, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:36&apos;, 0);
INSERT INTO `t1` VALUES (62, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:37&apos;, 0);
INSERT INTO `t1` VALUES (63, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:38&apos;, 0);
INSERT INTO `t1` VALUES (64, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:39&apos;, 0);
INSERT INTO `t1` VALUES (65, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:40&apos;, 0);
INSERT INTO `t1` VALUES (66, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:41&apos;, 0);
INSERT INTO `t1` VALUES (67, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:42&apos;, 0);
INSERT INTO `t1` VALUES (68, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:43&apos;, 0);
INSERT INTO `t1` VALUES (69, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:44&apos;, 0);
INSERT INTO `t1` VALUES (70, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:45&apos;, 0);
INSERT INTO `t1` VALUES (71, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:46&apos;, 0);
INSERT INTO `t1` VALUES (72, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:47&apos;, 0);
INSERT INTO `t1` VALUES (73, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:48&apos;, 0);
INSERT INTO `t1` VALUES (74, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:49&apos;, 0);
INSERT INTO `t1` VALUES (75, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:50&apos;, 0);
INSERT INTO `t1` VALUES (76, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:51&apos;, 0);
INSERT INTO `t1` VALUES (77, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:52&apos;, 0);
INSERT INTO `t1` VALUES (78, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:53&apos;, 0);
INSERT INTO `t1` VALUES (79, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:54&apos;, 0);
INSERT INTO `t1` VALUES (80, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:55&apos;, 0);
INSERT INTO `t1` VALUES (81, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:56&apos;, 0);
INSERT INTO `t1` VALUES (82, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:57&apos;, 0);
INSERT INTO `t1` VALUES (83, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:58&apos;, 0);
INSERT INTO `t1` VALUES (84, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:03:59&apos;, 0);
INSERT INTO `t1` VALUES (85, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:00&apos;, 0);
INSERT INTO `t1` VALUES (86, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:01&apos;, 0);
INSERT INTO `t1` VALUES (87, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:02&apos;, 0);
INSERT INTO `t1` VALUES (88, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:03&apos;, 0);
INSERT INTO `t1` VALUES (89, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:04&apos;, 0);
INSERT INTO `t1` VALUES (90, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:05&apos;, 0);
INSERT INTO `t1` VALUES (91, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:06&apos;, 0);
INSERT INTO `t1` VALUES (92, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:07&apos;, 0);
INSERT INTO `t1` VALUES (93, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:08&apos;, 0);
INSERT INTO `t1` VALUES (94, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:09&apos;, 0);
INSERT INTO `t1` VALUES (95, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:10&apos;, 0);
INSERT INTO `t1` VALUES (96, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:11&apos;, 0);
INSERT INTO `t1` VALUES (97, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:12&apos;, 0);
INSERT INTO `t1` VALUES (98, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:13&apos;, 0);
INSERT INTO `t1` VALUES (99, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 14:04:14&apos;, 0);
INSERT INTO `t1` VALUES (100, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;,&apos;2021-07-15 14:04:15&apos;, 0);
SET FOREIGN_KEY_CHECKS = 1;

</stringProp>
            <stringProp name="queryArguments"></stringProp>
            <stringProp name="queryArgumentsTypes"></stringProp>
            <stringProp name="queryTimeout"></stringProp>
            <stringProp name="queryType">Callable Statement</stringProp>
            <stringProp name="resultSetHandler">Store as String</stringProp>
            <stringProp name="resultVariable"></stringProp>
            <stringProp name="variableNames">name</stringProp>
            <stringProp name="TestPlan.comments">${url}_mysql</stringProp>
          </JDBCSampler>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="连接达梦数据库" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="删除达梦数据库" enabled="true">
            <stringProp name="dataSource">dameng</stringProp>
            <stringProp name="query">DROP TABLE IF EXISTS t1;

</stringProp>
            <stringProp name="queryArguments"></stringProp>
            <stringProp name="queryArgumentsTypes"></stringProp>
            <stringProp name="queryTimeout"></stringProp>
            <stringProp name="queryType">Callable Statement</stringProp>
            <stringProp name="resultSetHandler">Store as String</stringProp>
            <stringProp name="resultVariable"></stringProp>
            <stringProp name="variableNames">name</stringProp>
          </JDBCSampler>
          <hashTree/>
          <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="重新创建表" enabled="true">
            <stringProp name="dataSource">dameng</stringProp>
            <stringProp name="query">CREATE TABLE  t1(
	T_ID          bigint not null identity, 
	T_NAME        VARCHAR(15),
	T_PRICE     DOUBLE null,
	T_DATE        DATE null,
        T_Time        TIMESTAMP null
);
</stringProp>
            <stringProp name="queryArguments"></stringProp>
            <stringProp name="queryArgumentsTypes"></stringProp>
            <stringProp name="queryTimeout"></stringProp>
            <stringProp name="queryType">Callable Statement</stringProp>
            <stringProp name="resultSetHandler">Store as String</stringProp>
            <stringProp name="resultVariable"></stringProp>
            <stringProp name="variableNames">name</stringProp>
          </JDBCSampler>
          <hashTree/>
          <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="创建达梦数据" enabled="true">
            <stringProp name="dataSource">dameng</stringProp>
            <stringProp name="query">BEGIN
FOR v_count IN 1..100 Loop
INSERT INTO t1(T_NAME,T_PRICE,T_DATE,T_Time) VALUES(
concat(&apos;wang&apos;,v_count)  ,CAST(v_count as decimal(9,2)),CAST(NOW()  as DATE),DATEADD(n,v_count,&apos;2021-07-15 14:02:35&apos;)
);
END Loop;
COMMIT;
END;
</stringProp>
            <stringProp name="queryArguments"></stringProp>
            <stringProp name="queryArgumentsTypes"></stringProp>
            <stringProp name="queryTimeout"></stringProp>
            <stringProp name="queryType">Callable Statement</stringProp>
            <stringProp name="resultSetHandler">Store as String</stringProp>
            <stringProp name="resultVariable"></stringProp>
            <stringProp name="variableNames">name</stringProp>
          </JDBCSampler>
          <hashTree/>
          <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="查询达梦" enabled="true">
            <stringProp name="dataSource">dameng</stringProp>
            <stringProp name="query">select * from t1;

</stringProp>
            <stringProp name="queryArguments"></stringProp>
            <stringProp name="queryArgumentsTypes"></stringProp>
            <stringProp name="queryTimeout"></stringProp>
            <stringProp name="queryType">Callable Statement</stringProp>
            <stringProp name="resultSetHandler">Store as String</stringProp>
            <stringProp name="resultVariable"></stringProp>
            <stringProp name="variableNames">name</stringProp>
          </JDBCSampler>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="连接oracle数据库" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
          <stringProp name="TestPlan.comments">12.17需要远程登录后，cmd执行lsnrctl start启动oracle</stringProp>
        </TransactionController>
        <hashTree>
          <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="重新初始化oracle表" enabled="true">
            <stringProp name="dataSource">oracle</stringProp>
            <stringProp name="query">declare 
w_count int;
w_name varchar(20);
i NUMBER := 1 ;
v_first_name VARCHAR2 (50) ;
begin
w_name:=&apos;T1&apos;;
select count(*) into w_count from user_tables where table_name = w_name;
if(w_count&gt;0) then
execute immediate &apos;drop table T1&apos;;
end if;
execute immediate &apos;CREATE TABLE T1 (
&quot;id&quot; NUMBER NOT NULL ,
&quot;name&quot; VARCHAR2(255 BYTE) NULL ,
&quot;age&quot; NUMBER NULL ,
&quot;sex&quot; VARCHAR2(255 BYTE) NULL ,
&quot;hobby&quot; VARCHAR2(255 BYTE) NULL ,
&quot;class&quot; VARCHAR2(255 BYTE) NULL ,
&quot;school&quot; VARCHAR2(255 BYTE) NULL ,
&quot;birthday&quot; TIMESTAMP(0)  NULL ,
&quot;costs&quot; NUMBER NULL 
)&apos;;

FOR i IN 1 .. 100 loop  
v_first_name := &apos;oracle&apos; || TO_CHAR (i) ; 
INSERT INTO &quot;SYSTEM&quot;.&quot;T1&quot;
VALUES
	(
		i,
		v_first_name,
		i,
		&apos;男&apos;,
		&apos;演戏&apos;,
		&apos;精英班&apos;,
		&apos;文军中学&apos;,
		to_date(&apos;2021-07-15 14:02:35&apos;,&apos;yyyy/mm/dd hh24:mi:ss&apos;)+numtodsinterval(i,&apos;second&apos;),
		1000 + i
	) ; COMMIT ;
END loop ;
end;</stringProp>
            <stringProp name="queryArguments"></stringProp>
            <stringProp name="queryArgumentsTypes"></stringProp>
            <stringProp name="queryTimeout"></stringProp>
            <stringProp name="queryType">Callable Statement</stringProp>
            <stringProp name="resultSetHandler">Store as String</stringProp>
            <stringProp name="resultVariable"></stringProp>
            <stringProp name="variableNames">name</stringProp>
            <stringProp name="TestPlan.comments">新环境需要先创建一下，再玩</stringProp>
          </JDBCSampler>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="连接mongdb数据库" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="MongoDB增加数据" enabled="true">
            <stringProp name="scriptLanguage">groovy</stringProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="cacheKey">false</stringProp>
            <stringProp name="script">import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import java.util.Arrays;
import java.math.BigInteger;
Document document=null;
//数据库连接实例
MongoClient mongoClient = MongoClients.create(&quot;mongodb://mongo:MongoDB_863*^#@${mongoIp}:27017&quot;);
//MongoDatabase db = mongoClient.getDatabase(&quot;indian&quot;);
MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
MongoCollection collection = database.getCollection(&quot;t1&quot;);
collection.deleteMany(new Document());
long numi=1626328955000l;
for(int i=1;i&lt;=100;i++){
document = new Document(&quot;id&quot;, i).append(&quot;name&quot;, &quot;赵&quot;+i).append(&quot;age&quot;, i).append(&quot;birthday&quot;,numi+i*1000);
collection.insertOne(document);
}</stringProp>
          </JSR223Sampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">3000</stringProp>
            </ConstantTimer>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="连接ES数据库" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="ES数据初始化" enabled="true">
            <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${__P(esIp)}:9200/zlj_datasync_test&amp;&amp;rm -rf  3.sh&amp;&amp;for i in $(seq 1 100) ;do let x=1626328955000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;zlj$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:9200/zlj_datasync_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="连接txtlog" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="txt.log数据初始化" enabled="true">
            <stringProp name="command">rm -rf new.log&amp;&amp;echo -e  &quot;10.1.240.15 - - [16/Sep/2019:19:54:00 +0800] \&quot;GET / HTTP/1.1\&quot; 200 613 \&quot;-\&quot; \&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36\&quot;\n10.1.240.15 - - [16/Sep/2019:19:54:00 +0800] \&quot;GET /favicon.ico HTTP/1.1\&quot; 404 570 \&quot;http://10.1.53.65/\&quot; \&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36\&quot;\n10.1.240.15 - - [16/Sep/2019:19:54:03 +0800] \&quot;GET / HTTP/1.1\&quot; 304 11 \&quot;-\&quot; \&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36\&quot;\n10.1.240.15 - - [16/Sep/2019:19:54:03 +0800] \&quot;GET / HTTP/1.1\&quot; 304 0 \&quot;-\&quot; \&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36\&quot;\n[16/Sep/2019:19:54:03 +0800] \&quot;GET / HTTP/1.1\&quot; 304 0 \&quot;-\&quot; \&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36\&quot;\n10.1.240.16 - - [17/Sep/2019:18:57:21 +0800] \&quot;GET /10.1.11.176:10090 HTTP/1.1\&quot; 404 570 \&quot;-\&quot; \&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36\&quot;\nzlj_text1.log\nzlj_text2.log\nzlj_text3.log\nzlj_text4.log\n&quot;&gt;new.log</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${flumeIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="连接syslog" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="sys.log数据初始化" enabled="true">
            <stringProp name="command">for i in $(seq 1 100);do (echo zlj$i,test$i,databank$i,monitor$i,auto_interface_test$i;sleep 1;) | telnet 10.1.62.136 2222 &amp;&gt;/dev/null;done</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings"/>
              <stringProp name="Assertion.custom_message"></stringProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">true</boolProp>
              <intProp name="Assertion.test_type">16</intProp>
            </ResponseAssertion>
            <hashTree/>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="连接jsonfile" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="jsonfile数据初始化" enabled="true">
            <stringProp name="command">rm -rf /home/bigtest &amp;&amp; mkdir /home/bigtest &amp;&amp; for i in $(seq 1 90) ;do let x=1626883200000+i*1000&amp;&amp; echo &quot;{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;/home/bigtest/1.json;done </stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${flumeIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);

int kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
int solution_value=new Integer(vars.get(&quot;solution_value&quot;));
int deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
int core_value=new Integer(vars.get(&quot;core_value&quot;));
int kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
int metric_value=new Integer(vars.get(&quot;metric_value&quot;));
int mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
//初始化值为-1
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source1 =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source1.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	//初始化后只赋值一次
	if (kafkastreams_value==-1){
	 kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (solution_value==-1){
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (deploy_value==-1){
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (core_value==-1){
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (kafka_value==-1){
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	if (metric_value==-1){
	 metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (mongodb_value==-1){
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}	
	}
 }

vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
	int result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
	log.error(result+&quot;&quot;);
	vars.put(&quot;result&quot;,result+&quot;&quot;);
//log.error(apps_str.getString());</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="连接kafka数据库" enabled="true">
          <boolProp name="TransactionController.includeTimers">false</boolProp>
          <boolProp name="TransactionController.parent">false</boolProp>
        </TransactionController>
        <hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__groovy(vars.get(&quot;topic_time&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="kafka设置topic_time" enabled="true">
              <stringProp name="BeanShellSampler.query">String topic_time = &quot;${__time()}&quot;;
vars.put(&quot;topic_time&quot;,topic_time);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
            <boolProp name="LoopController.continue_forever">true</boolProp>
            <stringProp name="LoopController.loops">10</stringProp>
          </LoopController>
          <hashTree>
            <JavaSampler guiclass="JavaTestSamplerGui" testclass="JavaSampler" testname="写入kafka" enabled="true">
              <stringProp name="TestPlan.comments">1、安装时间戳创建topic保证了独一无二
2、写入100条数据</stringProp>
              <elementProp name="arguments" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" enabled="true">
                <collectionProp name="Arguments.arguments">
                  <elementProp name="kafka_brokers" elementType="Argument">
                    <stringProp name="Argument.name">kafka_brokers</stringProp>
                    <stringProp name="Argument.value">${kafkaIp}:9192</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                  <elementProp name="kafka_topic" elementType="Argument">
                    <stringProp name="Argument.name">kafka_topic</stringProp>
                    <stringProp name="Argument.value">${topic}</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                  <elementProp name="kafka_message" elementType="Argument">
                    <stringProp name="Argument.name">kafka_message</stringProp>
                    <stringProp name="Argument.value">{ &quot;id&quot;: ${num}, &quot;name&quot;: &quot;李四3&quot;, &quot;age&quot;: 28, &quot;doing&quot;: &quot;偷袭人&quot;, &quot;why&quot;: &quot;执行刺激&quot;, &quot;logintime&quot;: ${logintime} }</stringProp>
                    <stringProp name="Argument.metadata">=</stringProp>
                  </elementProp>
                </collectionProp>
              </elementProp>
              <stringProp name="classname">co.signal.kafkameter.KafkaProducerSampler</stringProp>
            </JavaSampler>
            <hashTree>
              <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                <stringProp name="CounterConfig.start">1</stringProp>
                <stringProp name="CounterConfig.end">5786573360000</stringProp>
                <stringProp name="CounterConfig.incr">1</stringProp>
                <stringProp name="CounterConfig.name">num</stringProp>
                <stringProp name="CounterConfig.format"></stringProp>
                <boolProp name="CounterConfig.per_user">false</boolProp>
                <stringProp name="TestPlan.comments">${__time()}   ${__Random(0,99,n)}</stringProp>
              </CounterConfig>
              <hashTree/>
              <JSR223PreProcessor guiclass="TestBeanGUI" testclass="JSR223PreProcessor" testname="JSR223 预处理程序" enabled="true">
                <stringProp name="cacheKey">true</stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="script">long topic_time=Long.parseLong(vars.get(&quot;topic_time&quot;));
long time=1626883200000l;
int num=Integer.parseInt(vars.get(&quot;num&quot;));
String topic = &quot;zlj_datasync_test_&quot;+topic_time;
long logintime= time+1000*num;
vars.put(&quot;topic&quot;,topic);
vars.put(&quot;logintime&quot;,logintime+&quot;&quot;);
${__setProperty(kafka_topic,topic,)};</stringProp>
                <stringProp name="scriptLanguage">groovy</stringProp>
              </JSR223PreProcessor>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <SetupThreadGroup guiclass="SetupThreadGroupGui" testclass="SetupThreadGroup" testname="前置条件" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </SetupThreadGroup>
      <hashTree>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置全局变量" enabled="true">
          <stringProp name="BeanShellSampler.query">String url=&quot;${__P(request.url)}&quot;;
//vars.put(&quot;url&quot;,url);
vars.put(&quot;url&quot;,&quot;10.1.56.159&quot;);</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.56.159" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.56.159&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.56.159" enabled="true">
            <stringProp name="BeanShellSampler.query">

${__setProperty(tenant.url,10.1.56.159,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};

${__setProperty(MeterSphere.url,10.1.56.160,)};
${__setProperty(MeterSphere.protocol,http,)};
${__setProperty(MeterSphere.port,8930,)};


${__setProperty(mysqlIp,&quot;10.1.56.159&quot;,)};
${__setProperty(flumeIp,&quot;10.1.56.161&quot;,)};
${__setProperty(mongoIp,&quot;10.1.56.161&quot;,)};
${__setProperty(mysqlpasswd,&quot;Uyun_123&quot;,)};
${__setProperty(kafkaIp,10.1.56.161,)};
${__setProperty(kafkapasswd,Uyun_123,)};
${__setProperty(esIp,&quot;10.1.56.161&quot;,)};
${__setProperty(hots_num,3,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
          <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
            <boolProp name="autocommit">true</boolProp>
            <stringProp name="checkQuery"></stringProp>
            <stringProp name="connectionAge">5000</stringProp>
            <stringProp name="dataSource">10.1.56.159_mysql</stringProp>
            <stringProp name="dbUrl">jdbc:mysql://10.1.56.159:3306/uyun_udap?allowMultiQueries=true</stringProp>
            <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
            <stringProp name="initQuery"></stringProp>
            <boolProp name="keepAlive">true</boolProp>
            <stringProp name="password">Admin@123</stringProp>
            <stringProp name="poolMax">0</stringProp>
            <stringProp name="timeout">10000</stringProp>
            <stringProp name="transactionIsolation">DEFAULT</stringProp>
            <stringProp name="trimInterval">60000</stringProp>
            <stringProp name="username">zhang</stringProp>
          </JDBCDataSource>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.56.163" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.56.163&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.56.163" enabled="true">
            <stringProp name="BeanShellSampler.query">

${__setProperty(tenant.url,10.1.62.16,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,7508,)};
${__setProperty(esIp,&quot;10.1.56.163&quot;,)};
${__setProperty(hots_num,5,)};
//String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.56.233" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.56.233&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.56.233" enabled="true">
            <stringProp name="BeanShellSampler.query">${__setProperty(tenant.url,10.1.56.233,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.56.240&quot;,)};
${__setProperty(kafkaIp,10.1.56.224,)};
${__setProperty(kafkapasswd,qazwsx@123!,)};
${__setProperty(flumeIp,&quot;10.1.56.223&quot;,)};
${__setProperty(mongoIp,&quot;10.1.56.233&quot;,)};
String url=&quot;${__P(tenant.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.61.11" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.61.11&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.61.11" enabled="true">
            <stringProp name="BeanShellSampler.query">

${__setProperty(tenant.url,10.1.50.105,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.56.65&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.61.11&quot;,)};
${__setProperty(mysqlpasswd,&quot;4SKVCz2g12&quot;,)};
${__setProperty(flumeIp,&quot;10.1.60.109&quot;,)};
${__setProperty(mongoIp,&quot;10.1.53.20&quot;,)};
${__setProperty(kafkaIp,10.1.60.109,)};
${__setProperty(kafkapasswd,4SKVCz2g12,)};

String url=&quot;${__P(tenant.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
          <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="JDBC Connection Configuration" enabled="true">
            <boolProp name="autocommit">true</boolProp>
            <stringProp name="checkQuery"></stringProp>
            <stringProp name="connectionAge">5000</stringProp>
            <stringProp name="dataSource">10.1.61.11_mysql</stringProp>
            <stringProp name="dbUrl">jdbc:mysql://10.1.61.11:3306/uyun_udap?allowMultiQueries=true</stringProp>
            <stringProp name="driver">com.mysql.jdbc.Driver</stringProp>
            <stringProp name="initQuery"></stringProp>
            <boolProp name="keepAlive">true</boolProp>
            <stringProp name="password">Admin@123</stringProp>
            <stringProp name="poolMax">0</stringProp>
            <stringProp name="timeout">10000</stringProp>
            <stringProp name="transactionIsolation">DEFAULT</stringProp>
            <stringProp name="trimInterval">60000</stringProp>
            <stringProp name="username">zhang</stringProp>
          </JDBCDataSource>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.56.71" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.56.71&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.56.71" enabled="true">
            <stringProp name="BeanShellSampler.query">

${__setProperty(tenant.url,10.1.56.71,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.56.71&quot;,)};
${__setProperty(mysqlIp,&quot;${mysqlIp}&quot;,)};
${__setProperty(flumeIp,&quot;10.1.56.74&quot;,)};
${__setProperty(mongoIp,&quot;10.1.56.71&quot;,)};
${__setProperty(kafkaIp,&quot;10.1.56.71&quot;,)};
String url=&quot;${__P(tenant.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.60.234" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.60.234&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.60.234" enabled="true">
            <stringProp name="BeanShellSampler.query">${__setProperty(tenant.url,10.1.60.234,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.60.234&quot;,)};
${__setProperty(mysqlIp,&quot;${mysqlIp}&quot;,)};
${__setProperty(flumeIp,&quot;10.1.60.234&quot;,)};
${__setProperty(mongoIp,&quot;10.1.60.234&quot;,)};
${__setProperty(kafkaIp,&quot;10.1.60.234&quot;,)};
String url=&quot;${__P(tenant.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是testx" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;testx&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="testx" enabled="true">
            <stringProp name="BeanShellSampler.query">

${__setProperty(tenant.url,10.1.40.81,)};
${__setProperty(tenant.protocol,https,)};
${__setProperty(tenant.port,7508,)};
${__setProperty(esIp,&quot;10.1.40.89&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.40.81&quot;,)};
${__setProperty(flumeIp,&quot;10.1.40.86&quot;,)};
${__setProperty(mongoIp,&quot;10.1.40.81&quot;,)};
${__setProperty(kafkaIp,10.1.40.86,)};
${__setProperty(mysqlpasswd,&quot;qazwsx@123!&quot;,)};
${__setProperty(kafkapasswd,qazwsx@123!,)};


String url=&quot;${__P(tenant.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="设置默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(tenant.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(tenant.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(tenant.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="oracle" enabled="true">
          <boolProp name="autocommit">true</boolProp>
          <stringProp name="checkQuery"></stringProp>
          <stringProp name="connectionAge">5000</stringProp>
          <stringProp name="dataSource">oracle</stringProp>
          <stringProp name="dbUrl">jdbc:oracle:thin:@//10.1.12.17:1521/orcl</stringProp>
          <stringProp name="driver">oracle.jdbc.OracleDriver</stringProp>
          <stringProp name="initQuery"></stringProp>
          <boolProp name="keepAlive">true</boolProp>
          <stringProp name="password">system</stringProp>
          <stringProp name="poolMax">0</stringProp>
          <stringProp name="timeout">10000</stringProp>
          <stringProp name="transactionIsolation">DEFAULT</stringProp>
          <stringProp name="trimInterval">60000</stringProp>
          <stringProp name="username">system</stringProp>
        </JDBCDataSource>
        <hashTree/>
        <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="dameng" enabled="true">
          <boolProp name="autocommit">true</boolProp>
          <stringProp name="checkQuery"></stringProp>
          <stringProp name="connectionAge">5000</stringProp>
          <stringProp name="dataSource">dameng</stringProp>
          <stringProp name="dbUrl">jdbc:dm://10.1.12.111:5236/DAMENG?allowMultiQueries=true</stringProp>
          <stringProp name="driver">dm.jdbc.driver.DmDriver</stringProp>
          <stringProp name="initQuery"></stringProp>
          <boolProp name="keepAlive">true</boolProp>
          <stringProp name="password">Auto_1234</stringProp>
          <stringProp name="poolMax">0</stringProp>
          <stringProp name="timeout">10000</stringProp>
          <stringProp name="transactionIsolation">DEFAULT</stringProp>
          <stringProp name="trimInterval">60000</stringProp>
          <stringProp name="username">SYSDBA</stringProp>
        </JDBCDataSource>
        <hashTree/>
        <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="clickhouse" enabled="false">
          <boolProp name="autocommit">true</boolProp>
          <stringProp name="checkQuery"></stringProp>
          <stringProp name="connectionAge">5000</stringProp>
          <stringProp name="dataSource">clickhouse</stringProp>
          <stringProp name="dbUrl">jdbc:clickhouse://10.1.11.53:8123/nqtest</stringProp>
          <stringProp name="driver">ru.yandex.clickhouse.ClickHouseDriver</stringProp>
          <stringProp name="initQuery"></stringProp>
          <boolProp name="keepAlive">true</boolProp>
          <stringProp name="password"></stringProp>
          <stringProp name="poolMax">0</stringProp>
          <stringProp name="timeout">10000</stringProp>
          <stringProp name="transactionIsolation">DEFAULT</stringProp>
          <stringProp name="trimInterval">60000</stringProp>
          <stringProp name="username"></stringProp>
        </JDBCDataSource>
        <hashTree/>
        <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="JDBC Request" enabled="false">
          <stringProp name="dataSource">clickhouse</stringProp>
          <stringProp name="query">select * from scores;</stringProp>
          <stringProp name="queryArguments"></stringProp>
          <stringProp name="queryArgumentsTypes"></stringProp>
          <stringProp name="queryTimeout"></stringProp>
          <stringProp name="queryType">Prepared Select Statement</stringProp>
          <stringProp name="resultSetHandler">Store as String</stringProp>
          <stringProp name="resultVariable">result</stringProp>
          <stringProp name="variableNames">,,zlj</stringProp>
        </JDBCSampler>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${zlj_1}&quot;)</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录==在testx环境上不行" enabled="false">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;email&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Admin@123&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/tenant/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">token</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;token&quot;:&quot;(.*?)&quot;</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default"></stringProp>
            <stringProp name="RegexExtractor.match_number">0</stringProp>
          </RegexExtractor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">${__setProperty(token,${token},)};
//${__setProperty(timestamp,${timestamp},)}
//String t=&quot;${__time()}&quot;;
//vars.put(&quot;timestamp&quot;,t);
//log.error(${token}+&quot;&quot;);



</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录在testx环境上可以" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&#xd;
	&quot;email&quot;: &quot;admin&quot;,&#xd;
	&quot;passwd&quot;: &quot;Admin@123&quot;,&#xd;
	&quot;tenantId&quot;: &quot;e10adc3949ba59abbe56e057f20f88dd&quot;,&#xd;
	&quot;return_insite&quot;: &quot;https://10.1.40.81:7508//#/&quot;,&#xd;
	&quot;tenantStrategy&quot;: &quot;2&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/tenant/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">token</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;token&quot;:&quot;(.*?)&quot;</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default"></stringProp>
            <stringProp name="RegexExtractor.match_number">0</stringProp>
          </RegexExtractor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">${__setProperty(token,${token},)};
//${__setProperty(timestamp,${timestamp},)}
//String t=&quot;${__time()}&quot;;
//vars.put(&quot;timestamp&quot;,t);
//log.error(${token}+&quot;&quot;);



</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取apikey" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/tenant/serviceapi/api/v1/tenant/view?tenantId=e10adc3949ba59abbe56e057f20f88dd</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">false</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">apikey</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..apiKeys[0].key</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">e10adc3949ba59abbe56e057f20f88dd</stringProp>
            <stringProp name="Scope.variable"></stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">${__setProperty(apikey,&quot;${apikey}&quot;,)};</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="kafka主机java声明初始化" enabled="false">
          <stringProp name="command">javapath=`ps -ef |grep java|head -1|awk &apos;{print $8}&apos;`&amp;&amp;ln -fs $javapath /usr/local/bin/java</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${__P(kafkaIp,)}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${__P(kafkapasswd,)}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
          <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="数据同步" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-请求头" enabled="true">
          <collectionProp name="CookieManager.cookies">
            <elementProp name="token" elementType="Cookie" testname="token">
              <stringProp name="Cookie.value">${__P(token,)}</stringProp>
              <stringProp name="Cookie.domain">${__P(tenant.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
            <elementProp name="language" elementType="Cookie" testname="language">
              <stringProp name="Cookie.value">zh_CN</stringProp>
              <stringProp name="Cookie.domain">${__P(tenant.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
          </collectionProp>
          <boolProp name="CookieManager.clearEachIteration">false</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">vars.put(&quot;url&quot;,&quot;${__P(tenant.url,)}&quot;);
vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;flumeIp&quot;,${__P(flumeIp,)});
vars.put(&quot;mongoIp&quot;,${__P(mongoIp,)});
vars.put(&quot;kafkaIp&quot;,&quot;${__P(kafkaIp,)}&quot;);
vars.put(&quot;kafkapasswd&quot;,&quot;${__P(kafkapasswd,)}&quot;);
vars.put(&quot;mysqlpasswd&quot;,${__P(mysqlpasswd,)});
vars.put(&quot;mysqlIp&quot;,${__P(mysqlIp,)});
vars.put(&quot;data_names_1&quot;,&quot;mongodb&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(tenant.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(tenant.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(tenant.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据同步目录" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果不存在就创建目录" enabled="true">
          <stringProp name="IfController.condition">${catalogId}==&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建数据同步目录" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;pid&quot;:&quot;0&quot;,&quot;name&quot;:&quot;测试数据同步&quot;}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding">utf-8</stringProp>
            <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/create</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询数据同步目录" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/udap/api/v1/portal/catalog/query</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">catalogId</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.name==&quot;测试数据同步&quot;)].id</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">0</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询所有引擎" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/runtimeEnvironment/engine/manager/query</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">flumeId;kafkaId;esId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Flume&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;Kafka&quot;)].id;data[?(@.regionId==&quot;local&quot;)].engines[?(@.name==&quot;ElasticSearch&quot;)].id</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">0;0;0</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="开始数据同步" enabled="true">
          <stringProp name="ForeachController.inputVal">data_names</stringProp>
          <stringProp name="ForeachController.returnVal">name</stringProp>
          <boolProp name="ForeachController.useSeparator">true</boolProp>
          <stringProp name="ForeachController.startIndex">0</stringProp>
        </ForeachController>
        <hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（sql）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;) ||&quot;${name}&quot;.equals(&quot;dameng&quot;) ||&quot;${name}&quot;.equals(&quot;oracle&quot;) ||&quot;${name}&quot;.equals(&quot;mongodb&quot;)||&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}-ID切分-批每分钟-ES-指定范围" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">databank-场景3-BMO-查询ES模板</stringProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景1-初始化数据库" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="mongodb" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mongodb&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="1441725301">连接mongdb数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="es" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="-1986981952">连接ES数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="mysql" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="-322212102">连接mysql数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="dameng" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;dameng&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="-1631089274">连接达梦数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="oracle" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;oracle&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="595056">连接oracle数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景1-清理历史数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-ID切分-批每分钟-es-指定范围</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景1-创建数据同步" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-${name}场景3-创建数据同步" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mongodb&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-ID切分-批每分钟-ES-指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mongodb-ID切分-批每分钟-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-mongdb-ID切分-批每分钟-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MongoDB&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;path&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]}],&quot;accessInfo&quot;:{&quot;regionId&quot;:&quot;local&quot;,&quot;ip&quot;:&quot;${mongoIp}&quot;,&quot;port&quot;:&quot;27017&quot;,&quot;username&quot;:&quot;mongo&quot;,&quot;password&quot;:&quot;NLGwD1hSA2TH2Qoqxafu1A==&quot;,&quot;database&quot;:&quot;test&quot;,&quot;table&quot;:&quot;t1&quot;,&quot;increased&quot;:true,&quot;splitField&quot;:&quot;id&quot;,&quot;splitType&quot;:&quot;INTEGER&quot;,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mongodb_id_minutes_es_from10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:11},&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-${name}场景3-创建数据同步" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;dameng&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-dameng-ID切分-批每分钟-ES-指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-dameng-ID切分-批每分钟-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-dameng-ID切分-批每分钟-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;DM&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_ID&quot;,&quot;name&quot;:&quot;T_ID&quot;,&quot;dataType&quot;:&quot;LONG&quot;,&quot;path&quot;:&quot;T_ID&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_NAME&quot;,&quot;name&quot;:&quot;T_NAME&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;T_NAME&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_PRICE&quot;,&quot;name&quot;:&quot;T_PRICE&quot;,&quot;dataType&quot;:&quot;DOUBLE&quot;,&quot;path&quot;:&quot;T_PRICE&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_DATE&quot;,&quot;name&quot;:&quot;T_DATE&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;T_DATE&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_TIME&quot;,&quot;name&quot;:&quot;T_TIME&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;T_TIME&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:dm://10.1.12.111:5236/DAMENG&quot;,&quot;username&quot;:&quot;SYSDBA&quot;,&quot;password&quot;:&quot;GDKseCOmr8GN8nTESkg0bg==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;T1&quot;,&quot;splitField&quot;:&quot;T_ID&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_dameng_id_minutes_es_from10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:11},&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-场景3-创建数据同步" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-ID切分-批每分钟-ES-指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-es-ID切分-批每分钟-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-es-ID切分-批每分钟-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;ES&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;street&quot;,&quot;name&quot;:&quot;street&quot;,&quot;path&quot;:&quot;street&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;city&quot;,&quot;name&quot;:&quot;city&quot;,&quot;path&quot;:&quot;city&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;time&quot;,&quot;name&quot;:&quot;time&quot;,&quot;path&quot;:&quot;time&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]}],&quot;accessInfo&quot;:{&quot;ip&quot;:&quot;${esIp}&quot;,&quot;port&quot;:&quot;9200&quot;,&quot;index&quot;:&quot;zlj_datasync_test&quot;,&quot;type&quot;:&quot;&quot;,&quot;tcp_port&quot;:&quot;9300&quot;,&quot;cluster_name&quot;:&quot;elasticsearch&quot;,&quot;version&quot;:&quot;7.x&quot;,&quot;security&quot;:{&quot;typeNum&quot;:1,&quot;auth&quot;:{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;ssl&quot;:false}},&quot;regionId&quot;:&quot;local&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:11},&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_es_id_minutes_es_from10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-场景3-创建数据同步" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;oracle&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-oracle-ID切分-批每分钟-ES-指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-oracle-ID切分-批每分钟-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-oracle-ID切分-批每分钟-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;ORACLE&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;DOUBLE&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;class&quot;,&quot;name&quot;:&quot;class&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;class&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;DOUBLE&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:oracle:thin:@//10.1.12.17:1521/orcl&quot;,&quot;username&quot;:&quot;system&quot;,&quot;password&quot;:&quot;RHrhX8IHXiFvXy05ZUWQHw==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_oracle_id_minutes_es_from10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:11},&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-场景3-创建数据同步" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-mysql-ID切分-批每分钟-ES-指定范围10" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mysql-ID切分-批每分钟-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-mysql-ID切分-批每分钟-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MYSQL&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:mysql://${mysqlIp}:3306/uyun_udap?serverTimezone=Asia/Shanghai&quot;,&quot;username&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mysql_id_minutes_es_from10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:11},&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景1-验证ES中数据是否完整" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="databank-场景3-验证ES中数据是否完整" enabled="true">
                  <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=90 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                  <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
                </WhileController>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">100</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num1</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                  </CounterConfig>
                  <hashTree/>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                    <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10_debug/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                    <intProp name="connectionTimeout">5000</intProp>
                    <stringProp name="hostname">${mysqlIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${mysqlpasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">5000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                    <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                      <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                      <stringProp name="RegexExtractor.refname">total_data</stringProp>
                      <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                      <stringProp name="RegexExtractor.template">$1$</stringProp>
                      <stringProp name="RegexExtractor.default"></stringProp>
                      <stringProp name="RegexExtractor.match_number">1</stringProp>
                    </RegexExtractor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景1-数据库新增10条数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-场景3-数据库新增10条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mongodb&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="新增10条数据" enabled="true">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">false</stringProp>
                    <stringProp name="script">import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import java.util.Arrays;
import java.math.BigInteger;
Document document=null;
//数据库连接实例
MongoClient mongoClient = MongoClients.create(&quot;mongodb://mongo:MongoDB_863*^#@${mongoIp}:27017&quot;);
//MongoDatabase db = mongoClient.getDatabase(&quot;indian&quot;);
MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
MongoCollection collection = database.getCollection(&quot;t1&quot;);
long numi=1622908800000l;
for(int i=101;i&lt;=110;i++){
document = new Document(&quot;id&quot;, i).append(&quot;name&quot;, &quot;赵&quot;+i).append(&quot;age&quot;, i+10).append(&quot;birthday&quot;,numi+i*1000);
collection.insertOne(document);
}</stringProp>
                  </JSR223Sampler>
                  <hashTree>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-场景3-数据库新增10条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="新增10条数据" enabled="true">
                    <stringProp name="command">rm -rf  3.sh&amp;&amp;for i in $(seq 101 110) ;do let x=1626883200000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:9200/zlj_datasync_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
                    <intProp name="connectionTimeout">50000</intProp>
                    <stringProp name="hostname">${mysqlIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${mysqlpasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-场景3-数据库新增10条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;dameng&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="创建达梦数据" enabled="true">
                    <stringProp name="dataSource">dameng</stringProp>
                    <stringProp name="query">BEGIN
FOR v_count IN 101..110 Loop
INSERT INTO t1(T_NAME,T_PRICE,T_DATE,T_Time) VALUES(
concat(&apos;wang&apos;,v_count)  ,CAST(v_count as decimal(9,2)),CAST(NOW()  as DATE),DATEADD(n,v_count,sysdate-1)
);
END Loop;
COMMIT;
END;
</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames">name</stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-场景3-数据库新增10条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;oracle&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="4、新增10条数据" enabled="true">
                    <stringProp name="dataSource">oracle</stringProp>
                    <stringProp name="query">declare 
i NUMBER := 1 ;
v_first_name VARCHAR2(50) ;
begin
FOR i IN 101 .. 110 loop  
v_first_name := &apos;oracle&apos; || TO_CHAR (i) ; 
INSERT INTO &quot;SYSTEM&quot;.&quot;T1&quot;
VALUES
	(
		i,
		v_first_name,
		i,
		&apos;男&apos;,
		&apos;演戏&apos;,
		&apos;精英班&apos;,
		&apos;文军中学&apos;,
		to_date(&apos;2021-6-6 00:00:00&apos;,&apos;yyyy/mm/dd hh24:mi:ss&apos;)+numtodsinterval(i,&apos;minute&apos;),
		1000 + i
	) ; COMMIT ;
END loop ;
end;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="databank-场景3-数据库新增10条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="mysql中新增10条数据" enabled="true">
                    <stringProp name="dataSource">${url}_mysql</stringProp>
                    <stringProp name="query">INSERT INTO `t1` VALUES (101, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:46&apos;, 0);
INSERT INTO `t1` VALUES (102, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:47&apos;, 0);
INSERT INTO `t1` VALUES (103, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:48&apos;, 0);
INSERT INTO `t1` VALUES (104, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:49&apos;, 0);
INSERT INTO `t1` VALUES (105, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:50&apos;, 0);
INSERT INTO `t1` VALUES (106, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:51&apos;, 0);
INSERT INTO `t1` VALUES (107, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:52&apos;, 0);
INSERT INTO `t1` VALUES (108, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:53&apos;, 0);
INSERT INTO `t1` VALUES (109, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:02:54&apos;, 0);
INSERT INTO `t1` VALUES (110, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:04:15&apos;, 0);</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames">name</stringProp>
                    <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景1-验证ES中数据是否完整2" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="databank-场景1-验证ES中数据是否完整" enabled="true">
                  <stringProp name="WhileController.condition">${__javaScript(vars.get(&quot;total_data4&quot;)&lt;101 &amp;&amp; &quot;${num2}&quot;!=&quot;30&quot; ,)}</stringProp>
                  <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
                </WhileController>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">100</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num2</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">true</boolProp>
                    <boolProp name="CounterConfig.reset_on_tg_iteration">true</boolProp>
                  </CounterConfig>
                  <hashTree/>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                    <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10_debug/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                    <intProp name="connectionTimeout">5000</intProp>
                    <stringProp name="hostname">${mysqlIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${mysqlpasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">5000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                    <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                      <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                      <stringProp name="RegexExtractor.refname">total_data4</stringProp>
                      <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                      <stringProp name="RegexExtractor.template">$1$</stringProp>
                      <stringProp name="RegexExtractor.default"></stringProp>
                      <stringProp name="RegexExtractor.match_number">1</stringProp>
                    </RegexExtractor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景1-同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景1-验证ES中数据是否完整3" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="databank-场景3-验证ES中数据是否完整" enabled="true">
                  <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=100 &amp;&amp; &quot;${num3}&quot;!=&quot;30&quot; ,)}</stringProp>
                  <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
                </WhileController>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">100</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num3</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                  </CounterConfig>
                  <hashTree/>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                    <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                    <intProp name="connectionTimeout">5000</intProp>
                    <stringProp name="hostname">${mysqlIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${mysqlpasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                    <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                      <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                      <stringProp name="RegexExtractor.refname">total_data</stringProp>
                      <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                      <stringProp name="RegexExtractor.template">$1$</stringProp>
                      <stringProp name="RegexExtractor.default"></stringProp>
                      <stringProp name="RegexExtractor.match_number">1</stringProp>
                    </RegexExtractor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景1-检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1005340629">&quot;range&quot;:\[\[11,110]]</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景1-重新同步" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;${sourceId}&quot;,&quot;format&quot;:&quot;LONG&quot;,&quot;range&quot;:[[1,11]]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景1-验证ES中数据是否完整4" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="databank-场景3-验证ES中数据是否完整" enabled="true">
                  <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=111 &amp;&amp; &quot;${num4}&quot;!=&quot;30&quot; ,)}</stringProp>
                  <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
                </WhileController>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">100</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num4</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                  </CounterConfig>
                  <hashTree/>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                    <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                    <intProp name="connectionTimeout">5000</intProp>
                    <stringProp name="hostname">${mysqlIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${mysqlpasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                    <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                      <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                      <stringProp name="RegexExtractor.refname">total_data</stringProp>
                      <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                      <stringProp name="RegexExtractor.template">$1$</stringProp>
                      <stringProp name="RegexExtractor.default"></stringProp>
                      <stringProp name="RegexExtractor.match_number">1</stringProp>
                    </RegexExtractor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景1-检查已同步范围2" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="32449956">&quot;range&quot;:\[\[1,110]]</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景1-数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;50&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="2、自动化测试-${name}-日期切分-流-kafka-不指定范围" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-初始化数据库" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="dameng" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;dameng&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="-1631089274">连接达梦数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="mysql" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="-322212102">连接mysql数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="oracle" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;oracle&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="595056">连接oracle数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="mongodb" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mongodb&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="1441725301">连接mongdb数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="es" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="-1986981952">连接ES数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-清理历史数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-${name}-日期切分-流-kafka-不指定范围&amp;pageSize=10&amp;pageNum=1</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-创建数据同步" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="mongodb" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mongodb&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-${name}-日期切分-流-kafka-不指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-日期切分-流-kafka-不指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-日期切分-流-kafka-不指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MongoDB&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;path&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]}],&quot;accessInfo&quot;:{&quot;regionId&quot;:&quot;local&quot;,&quot;ip&quot;:&quot;${mongoIp}&quot;,&quot;port&quot;:&quot;27017&quot;,&quot;username&quot;:&quot;mongo&quot;,&quot;password&quot;:&quot;NLGwD1hSA2TH2Qoqxafu1A==&quot;,&quot;database&quot;:&quot;test&quot;,&quot;table&quot;:&quot;t1&quot;,&quot;increased&quot;:true,&quot;splitField&quot;:&quot;birthday&quot;,&quot;splitType&quot;:&quot;DATE&quot;,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_date_streaming_kafka_from0&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="es" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-${name}-日期切分-流-kafka-不指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-es-日期切分-流-kafka-不指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-es-日期切分-流-kafka-不指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;ES&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;street&quot;,&quot;name&quot;:&quot;street&quot;,&quot;path&quot;:&quot;street&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;city&quot;,&quot;name&quot;:&quot;city&quot;,&quot;path&quot;:&quot;city&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;time&quot;,&quot;name&quot;:&quot;time&quot;,&quot;path&quot;:&quot;time&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]}],&quot;accessInfo&quot;:{&quot;ip&quot;:&quot;${esIp}&quot;,&quot;port&quot;:&quot;9200&quot;,&quot;index&quot;:&quot;zlj_datasync_test&quot;,&quot;type&quot;:&quot;&quot;,&quot;tcp_port&quot;:&quot;9300&quot;,&quot;cluster_name&quot;:&quot;elasticsearch&quot;,&quot;version&quot;:&quot;7.x&quot;,&quot;security&quot;:{&quot;typeNum&quot;:1,&quot;auth&quot;:{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;ssl&quot;:false}},&quot;regionId&quot;:&quot;local&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;},&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;splitField&quot;:&quot;time&quot;,&quot;increased&quot;:true,&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_date_streaming_kafka_from0&quot;,&quot;runMode&quot;:&quot;Stream&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="dameng" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;dameng&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-dameng-日期切分-流-kafka-不指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-dameng-日期切分-流-kafka-不指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-dameng-日期切分-流-kafka-不指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;DM&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_ID&quot;,&quot;name&quot;:&quot;T_ID&quot;,&quot;dataType&quot;:&quot;LONG&quot;,&quot;path&quot;:&quot;T_ID&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_NAME&quot;,&quot;name&quot;:&quot;T_NAME&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;T_NAME&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_PRICE&quot;,&quot;name&quot;:&quot;T_PRICE&quot;,&quot;dataType&quot;:&quot;DOUBLE&quot;,&quot;path&quot;:&quot;T_PRICE&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_DATE&quot;,&quot;name&quot;:&quot;T_DATE&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;T_DATE&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_TIME&quot;,&quot;name&quot;:&quot;T_TIME&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;T_TIME&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:dm://10.1.12.111:5236/DAMENG&quot;,&quot;username&quot;:&quot;SYSDBA&quot;,&quot;password&quot;:&quot;GDKseCOmr8GN8nTESkg0bg==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;T_TIME&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_date_streaming_kafka_from0&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="oracle" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;oracle&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-oracle-日期切分-流-kafka-不指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-oracle-日期切分-流-kafka-不指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-oracle-ID-日期切分-流-kafka-不指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;ORACLE&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;class&quot;,&quot;name&quot;:&quot;class&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;class&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;DOUBLE&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:oracle:thin:@//10.1.12.17:1521/orcl&quot;,&quot;username&quot;:&quot;system&quot;,&quot;password&quot;:&quot;RHrhX8IHXiFvXy05ZUWQHw==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;birthday&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_date_streaming_kafka_from0&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="mysql" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-mysql-日期切分-流-kafka-不指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mysql-日期切分-流-kafka-不指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-mysql-日期切分-流-kafka-不指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MYSQL&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:mysql://${mysqlIp}:3306/uyun_udap?serverTimezone=Asia/Shanghai&quot;,&quot;username&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;birthday&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataQueue&quot;,&quot;engineId&quot;:&quot;${kafkaId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mysql_date_streaming_kafka_from0&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:&quot;&quot;}}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                    <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-查询kafka中历史数据量" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-${name}场景2-查询kafka中历史数据量" enabled="true">
                  <stringProp name="command">cnts=$(/opt/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic auto_${name}_date_streaming_kafka_from0 --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${kafkaIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${kafkapasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                  <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">kafka_count</stringProp>
                    <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default">000</stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">int count = Integer.parseInt(vars.get(&quot;kafka_count&quot;));
int expect_count=count+100;
vars.put(&quot;expect_count&quot;,expect_count+&quot;&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景2-同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-验证kafka中数据是否完整" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="databank-${name}场景2-验证kafka中数据是否完整" enabled="true">
                  <stringProp name="WhileController.condition">${__javaScript(&quot;${kafka_counts}&quot;!=&quot;${expect_count}&quot; &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                  <stringProp name="TestPlan.comments">预期kafka数据量加100</stringProp>
                </WhileController>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">100</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num1</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">true</boolProp>
                    <boolProp name="CounterConfig.reset_on_tg_iteration">true</boolProp>
                  </CounterConfig>
                  <hashTree/>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询kafka中历史数据量" enabled="true">
                    <stringProp name="command">cnts=$(/opt/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic auto_${name}_date_streaming_kafka_from0 --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
                    <intProp name="connectionTimeout">50000</intProp>
                    <stringProp name="hostname">${kafkaIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${kafkapasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                    <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree>
                    <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                      <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                      <stringProp name="RegexExtractor.refname">kafka_counts</stringProp>
                      <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                      <stringProp name="RegexExtractor.template">$1$</stringProp>
                      <stringProp name="RegexExtractor.default"></stringProp>
                      <stringProp name="RegexExtractor.match_number">1</stringProp>
                    </RegexExtractor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景2-检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">70000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-763214191">1626329055000</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">34</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景2-数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;50&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-取消任务" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="7、查询jobid" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${sourceId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">jobId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="7、查询任务id" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="8、取消任务" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks/${taskId}/cancel</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景2-判断任务状态" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="914922062">&quot;runningStatus&quot;:&quot;CANCELED&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-检查linux中任务是否进程停止了" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-${name}场景2-检查linux中任务是否进程停止了" enabled="true">
                  <stringProp name="command">ps -ef |grep 自动化测试-${name}-日期切分-流-kafka-不指定范|grep -v grep|wc -l</stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${flumeIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.custom_message"></stringProp>
                    <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">16</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景2-重新执行任务" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks/${taskId}/restart</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-查询kafka中历史数据量2" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-${name}场景2-查询kafka中历史数据量2" enabled="true">
                  <stringProp name="command">cnts=$(/opt/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic auto_${name}_date_streaming_kafka_from0 --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${kafkaIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${kafkapasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                  <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">kafka_counts2</stringProp>
                    <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">int count2 = Integer.parseInt(vars.get(&quot;kafka_counts2&quot;));
int expect_count2=count2+10;
vars.put(&quot;expect_count2&quot;,expect_count2+&quot;&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-数据库新增10条数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增十条数据dameng" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;dameng&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="创建达梦数据" enabled="true">
                    <stringProp name="dataSource">dameng</stringProp>
                    <stringProp name="query">BEGIN
FOR v_count IN 101..110 Loop
INSERT INTO t1(T_NAME,T_PRICE,T_DATE,T_Time) VALUES(
concat(&apos;wang&apos;,v_count)  ,CAST(v_count as decimal(9,2)),CAST(NOW()  as DATE),DATEADD(s,v_count,&apos;2021-07-15 14:00:00&apos;)
);
END Loop;
COMMIT;
END;
</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames">name</stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增十条数据mongodb" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mongodb&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="11、新增10条数据" enabled="true">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">false</stringProp>
                    <stringProp name="script">import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import java.util.Arrays;
import java.math.BigInteger;
Document document=null;
//数据库连接实例
MongoClient mongoClient = MongoClients.create(&quot;mongodb://mongo:MongoDB_863*^#@${mongoIp}:27017&quot;);
//MongoDatabase db = mongoClient.getDatabase(&quot;indian&quot;);
MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
MongoCollection collection = database.getCollection(&quot;t1&quot;);
long numi=1629428955000l;
for(int i=101;i&lt;=110;i++){
document = new Document(&quot;id&quot;, i).append(&quot;name&quot;, &quot;赵&quot;+i).append(&quot;age&quot;, i).append(&quot;birthday&quot;,numi+i*60000);
collection.insertOne(document);
}</stringProp>
                  </JSR223Sampler>
                  <hashTree>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增十条数据mysql" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="mysql中新增10条数据" enabled="true">
                    <stringProp name="dataSource">${url}_mysql</stringProp>
                    <stringProp name="query">INSERT INTO `t1` VALUES (101, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:41&apos;, 0);
INSERT INTO `t1` VALUES (102, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:42&apos;, 0);
INSERT INTO `t1` VALUES (103, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:43&apos;, 0);
INSERT INTO `t1` VALUES (104, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:44&apos;, 0);
INSERT INTO `t1` VALUES (105, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:45&apos;, 0);
INSERT INTO `t1` VALUES (106, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:46&apos;, 0);
INSERT INTO `t1` VALUES (107, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:47&apos;, 0);
INSERT INTO `t1` VALUES (108, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:48&apos;, 0);
INSERT INTO `t1` VALUES (109, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:49&apos;, 0);
INSERT INTO `t1` VALUES (110, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-22 00:01:50&apos;, 0);</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames">name</stringProp>
                    <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增十条数据es" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="新增10条数据" enabled="true">
                    <stringProp name="command">rm -rf  3.sh&amp;&amp;for i in $(seq 101 110) ;do let x=1626883200000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:9200/zlj_datasync_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
                    <intProp name="connectionTimeout">50000</intProp>
                    <stringProp name="hostname">${mysqlIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${mysqlpasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增十条数据oracle" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;oracle&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="4、新增10条数据" enabled="true">
                    <stringProp name="dataSource">oracle</stringProp>
                    <stringProp name="query">declare 
i NUMBER := 1 ;
v_first_name VARCHAR2(50) ;
begin
FOR i IN 101 .. 110 loop  
v_first_name := &apos;oracle&apos; || TO_CHAR (i) ; 
INSERT INTO &quot;SYSTEM&quot;.&quot;T1&quot;
VALUES
	(
		i,
		v_first_name,
		i,
		&apos;男&apos;,
		&apos;演戏&apos;,
		&apos;精英班&apos;,
		&apos;文军中学&apos;,
		to_date(&apos;2021-6-6 00:00:00&apos;,&apos;yyyy/mm/dd hh24:mi:ss&apos;)+numtodsinterval(i,&apos;minute&apos;),
		1000 + i
	) ; COMMIT ;
END loop ;
end;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-验证kafka中数据是否完整2" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="databank-${name}场景2-验证kafka中数据是否完整2" enabled="true">
                  <stringProp name="WhileController.condition">${__javaScript(&quot;${kafka_counts2}&quot;&lt;&quot;${expect_count2}&quot; &amp;&amp; &quot;${num2}&quot;!=&quot;30&quot; ,)}</stringProp>
                  <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
                </WhileController>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">100</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num2</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">true</boolProp>
                    <boolProp name="CounterConfig.reset_on_tg_iteration">true</boolProp>
                  </CounterConfig>
                  <hashTree/>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询kafka中历史数据量" enabled="true">
                    <stringProp name="command">cnts=$(/opt/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic auto_${name}_date_streaming_kafka_from0 --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
                    <intProp name="connectionTimeout">50000</intProp>
                    <stringProp name="hostname">${kafkaIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${kafkapasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                    <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree>
                    <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                      <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                      <stringProp name="RegexExtractor.refname">kafka_counts2</stringProp>
                      <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                      <stringProp name="RegexExtractor.template">$1$</stringProp>
                      <stringProp name="RegexExtractor.default"></stringProp>
                      <stringProp name="RegexExtractor.match_number">1</stringProp>
                    </RegexExtractor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景2-查询任务状态为running" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-957313506">&quot;runningStatus&quot;:&quot;RUNNING&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">48</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景2-检查已同步范围2" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="因为查看同步范围很慢更新出来" enabled="true">
                  <stringProp name="ConstantTimer.delay">30000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-291634872">1626883310000</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-查询kafka中历史数据量3" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-${name}场景2-查询kafka中历史数据量3" enabled="true">
                  <stringProp name="command">cnts=$(/opt/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic auto_${name}_date_streaming_kafka_from0 --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${kafkaIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${kafkapasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                  <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">kafka_counts3</stringProp>
                    <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">int count3 = Integer.parseInt(vars.get(&quot;expect_count2&quot;));
int expect_count3=count3+1;
vars.put(&quot;expect_count3&quot;,expect_count3+&quot;&quot;);</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-数据库新增1条数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增一条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;dameng&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="创建达梦数据" enabled="true">
                    <stringProp name="dataSource">dameng</stringProp>
                    <stringProp name="query">BEGIN
FOR v_count IN 111..111 Loop
INSERT INTO t1(T_NAME,T_PRICE,T_DATE,T_Time) VALUES(
concat(&apos;wang&apos;,v_count)  ,CAST(v_count as decimal(9,2)),CAST(NOW()  as DATE),DATEADD(n,v_count,&apos;2021-07-15 14:00:00&apos;)
);
END Loop;
COMMIT;
END;
</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames">name</stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增一条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mongodb&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JSR223Sampler guiclass="TestBeanGUI" testclass="JSR223Sampler" testname="11、新增1条数据" enabled="true">
                    <stringProp name="scriptLanguage">groovy</stringProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="cacheKey">false</stringProp>
                    <stringProp name="script">import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;
import java.util.Arrays;
import java.math.BigInteger;
Document document=null;
//数据库连接实例
MongoClient mongoClient = MongoClients.create(&quot;mongodb://mongo:MongoDB_863*^#@${mongoIp}:27017&quot;);
//MongoDatabase db = mongoClient.getDatabase(&quot;indian&quot;);
MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);
MongoCollection collection = database.getCollection(&quot;t1&quot;);
long numi=1622908800000l;
for(int i=111;i&lt;=111;i++){
document = new Document(&quot;id&quot;, i).append(&quot;name&quot;, &quot;赵&quot;+i).append(&quot;age&quot;, i).append(&quot;birthday&quot;,numi+i*60000);
collection.insertOne(document);
}</stringProp>
                  </JSR223Sampler>
                  <hashTree>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增一条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <IfController guiclass="IfControllerPanel" testclass="IfController" testname="11、mysql中新增1条数据" enabled="true">
                    <stringProp name="IfController.condition">${__P(mysqlIp)}.equals(&quot;${mysqlIp}&quot;)</stringProp>
                    <boolProp name="IfController.evaluateAll">false</boolProp>
                    <stringProp name="TestPlan.comments">清理表后，调用接口删除配置，再清理表</stringProp>
                  </IfController>
                  <hashTree>
                    <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="mysql中新增1条数据" enabled="true">
                      <stringProp name="dataSource">${url}_mysql</stringProp>
                      <stringProp name="query">INSERT INTO `t1` VALUES (111, &apos;wang0&apos;, 0, &apos;男&apos;, &apos;演戏&apos;, &apos;精英班&apos;, &apos;文军中学&apos;, &apos;2021-07-15 15:05:15&apos;, 0);</stringProp>
                      <stringProp name="queryArguments"></stringProp>
                      <stringProp name="queryArgumentsTypes"></stringProp>
                      <stringProp name="queryTimeout"></stringProp>
                      <stringProp name="queryType">Callable Statement</stringProp>
                      <stringProp name="resultSetHandler">Store as String</stringProp>
                      <stringProp name="resultVariable"></stringProp>
                      <stringProp name="variableNames">name</stringProp>
                      <stringProp name="TestPlan.comments">等待第一批次执行完成后</stringProp>
                    </JDBCSampler>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增一条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="新增1条数据" enabled="true">
                    <stringProp name="command">rm -rf  3.sh&amp;&amp;for i in $(seq 111 111) ;do let x=1626883200000+i*1000&amp;&amp; echo -e  &quot;{ \&quot;index\&quot;: {}}\n{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;3.sh;done&amp;&amp;curl -u admin:Admin@123 -X POST http://${__P(esIp)}:9200/zlj_datasync_test/_doc/_bulk?pretty  -H &apos;Content-Type: application/json&apos; --data-binary @3.sh </stringProp>
                    <intProp name="connectionTimeout">50000</intProp>
                    <stringProp name="hostname">${mysqlIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${mysqlpasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="再新增一条数据" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;oracle&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="4、新增1条数据" enabled="true">
                    <stringProp name="dataSource">oracle</stringProp>
                    <stringProp name="query">declare 
i NUMBER := 1 ;
v_first_name VARCHAR2(50) ;
begin
FOR i IN 111 .. 111 loop  
v_first_name := &apos;oracle&apos; || TO_CHAR (i) ; 
INSERT INTO &quot;SYSTEM&quot;.&quot;T1&quot;
VALUES
	(
		i,
		v_first_name,
		i,
		&apos;男&apos;,
		&apos;演戏&apos;,
		&apos;精英班&apos;,
		&apos;文军中学&apos;,
		to_date(&apos;2021-6-6 00:00:00&apos;,&apos;yyyy/mm/dd hh24:mi:ss&apos;)+numtodsinterval(i,&apos;minute&apos;),
		1000 + i
	) ; COMMIT ;
END loop ;
end;</stringProp>
                    <stringProp name="queryArguments"></stringProp>
                    <stringProp name="queryArgumentsTypes"></stringProp>
                    <stringProp name="queryTimeout"></stringProp>
                    <stringProp name="queryType">Callable Statement</stringProp>
                    <stringProp name="resultSetHandler">Store as String</stringProp>
                    <stringProp name="resultVariable"></stringProp>
                    <stringProp name="variableNames"></stringProp>
                  </JDBCSampler>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景2-验证kafka中数据是否完整3" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="databank-${name}场景2-验证kafka中数据是否完整3" enabled="true">
                  <stringProp name="WhileController.condition">${__javaScript(&quot;${kafka_counts3}&quot;&lt;&quot;${expect_count3}&quot; &amp;&amp; &quot;${num3}&quot;!=&quot;30&quot; ,)}</stringProp>
                  <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
                </WhileController>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">100</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num3</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">true</boolProp>
                    <boolProp name="CounterConfig.reset_on_tg_iteration">true</boolProp>
                  </CounterConfig>
                  <hashTree/>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询kafka中历史数据量" enabled="true">
                    <stringProp name="command">cnts=$(/opt/kafka/kafka/bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list localhost:9192 --topic auto_${name}_date_streaming_kafka_from0 --time -1|  awk -F &quot;:&quot; &apos;{sum+=$NF} END {print sum}&apos;) &amp;&amp; [ ! -n &quot;$cnts&quot; ] &amp;&amp; echo &quot;count:0&quot; || echo &quot;count:$cnts&quot;</stringProp>
                    <intProp name="connectionTimeout">50000</intProp>
                    <stringProp name="hostname">${kafkaIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${kafkapasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                    <stringProp name="TestPlan.comments">如果找不到java，就在 /usr/local/bin 目录下执行下ln -fs  /opt/jdk/bin/java java</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree>
                    <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                      <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                      <stringProp name="RegexExtractor.refname">kafka_counts3</stringProp>
                      <stringProp name="RegexExtractor.regex">count:(\d+)</stringProp>
                      <stringProp name="RegexExtractor.template">$1$</stringProp>
                      <stringProp name="RegexExtractor.default"></stringProp>
                      <stringProp name="RegexExtractor.match_number">1</stringProp>
                    </RegexExtractor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="3、自动化测试-${name}-ID切分-单次-ES-指定范围" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景3-初始化数据库" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;oracle&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="595056">连接oracle数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;dameng&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="-1631089274">连接达梦数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="-322212102">连接mysql数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mongodb&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="1441725301">连接mongdb数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                    <collectionProp name="ModuleController.node_path">
                      <stringProp name="869052411">测试计划</stringProp>
                      <stringProp name="764597751">Test Plan</stringProp>
                      <stringProp name="868857784">测试片段</stringProp>
                      <stringProp name="-1986981952">连接ES数据库</stringProp>
                    </collectionProp>
                  </ModuleController>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景3-清理历史数据" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
                <stringProp name="TestPlan.comments">1、设置好topic
2、设置好计数的变量名
3、设置好同步范围
4、设置好同步数据名</stringProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_once_es_from1to10*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell 预处理程序" enabled="true">
                    <stringProp name="filename"></stringProp>
                    <stringProp name="parameters"></stringProp>
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="script">vars.put(&quot;elem1&quot;,&quot;udap_dw_dm&quot;);
vars.put(&quot;elem2&quot;,&quot;uyun_alert&quot;);
vars.put(&quot;elem3&quot;,&quot;uyun_event&quot;);</stringProp>
                  </BeanShellPreProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-ID切分-单次-es-指定范围</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景3-创建数据同步" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mysql&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-mysql-ID切分-单次-ES-指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mysql-ID切分-单次-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-mysql-ID切分-单次-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MYSQL&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;classes&quot;,&quot;name&quot;:&quot;classes&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;classes&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:mysql://${mysqlIp}:3306/uyun_udap?zeroDateTimeBehavior=convertToNull&quot;,&quot;username&quot;:&quot;zhang&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mysql_id_once_es_from1to10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:1,&quot;endPoint&quot;:10},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;mongodb&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-${name}-ID切分-单次-ES-指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-mongodb-ID切分-单次-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-mongodb-ID切分-单次-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;MongoDB&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;path&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]}],&quot;accessInfo&quot;:{&quot;regionId&quot;:&quot;local&quot;,&quot;ip&quot;:&quot;${mongoIp}&quot;,&quot;port&quot;:&quot;27017&quot;,&quot;username&quot;:&quot;mongo&quot;,&quot;password&quot;:&quot;NLGwD1hSA2TH2Qoqxafu1A==&quot;,&quot;database&quot;:&quot;test&quot;,&quot;table&quot;:&quot;t1&quot;,&quot;increased&quot;:true,&quot;splitField&quot;:&quot;id&quot;,&quot;splitType&quot;:&quot;INTEGER&quot;,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_mongodb_id_once_es_from1to10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:1,&quot;endPoint&quot;:10},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;dameng&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-dameng-ID切分-单次-ES-指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-dameng-ID切分-单次-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-dameng-ID切分-单次-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;DM&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_ID&quot;,&quot;name&quot;:&quot;T_ID&quot;,&quot;dataType&quot;:&quot;LONG&quot;,&quot;path&quot;:&quot;T_ID&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_NAME&quot;,&quot;name&quot;:&quot;T_NAME&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;T_NAME&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_PRICE&quot;,&quot;name&quot;:&quot;T_PRICE&quot;,&quot;dataType&quot;:&quot;DOUBLE&quot;,&quot;path&quot;:&quot;T_PRICE&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_DATE&quot;,&quot;name&quot;:&quot;T_DATE&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;T_DATE&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;T_TIME&quot;,&quot;name&quot;:&quot;T_TIME&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;T_TIME&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:dm://10.1.12.111:5236/DAMENG&quot;,&quot;username&quot;:&quot;SYSDBA&quot;,&quot;password&quot;:&quot;GDKseCOmr8GN8nTESkg0bg==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;T_ID&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_dameng_id_once_es_from1to10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:1,&quot;endPoint&quot;:10},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;oracle&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-oracle-ID-ID切分-单次-ES-指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-oracle-ID切分-单次-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-oracle-ID-ID切分-单次-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;ORACLE&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;path&quot;:&quot;age&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;sex&quot;,&quot;name&quot;:&quot;sex&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;sex&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;hobby&quot;,&quot;name&quot;:&quot;hobby&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;hobby&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;class&quot;,&quot;name&quot;:&quot;class&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;class&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;school&quot;,&quot;name&quot;:&quot;school&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;path&quot;:&quot;school&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;birthday&quot;,&quot;name&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null},{&quot;serialNumber&quot;:null,&quot;code&quot;:&quot;costs&quot;,&quot;name&quot;:&quot;costs&quot;,&quot;dataType&quot;:&quot;DOUBLE&quot;,&quot;path&quot;:&quot;costs&quot;,&quot;type&quot;:null,&quot;recordTime&quot;:false,&quot;formats&quot;:null}],&quot;accessInfo&quot;:{&quot;url&quot;:&quot;jdbc:oracle:thin:@//10.1.12.17:1521/orcl&quot;,&quot;username&quot;:&quot;system&quot;,&quot;password&quot;:&quot;RHrhX8IHXiFvXy05ZUWQHw==&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;tablename&quot;:&quot;t1&quot;,&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_oracle_id_once_es_from1to10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:1,&quot;endPoint&quot;:10},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
                <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                  <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;es&quot;)</stringProp>
                  <boolProp name="IfController.evaluateAll">false</boolProp>
                </IfController>
                <hashTree>
                  <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、自动化测试-${name}-ID切分-单次-ES-指定范围" enabled="true">
                    <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                    <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                      <collectionProp name="Arguments.arguments">
                        <elementProp name="" elementType="HTTPArgument">
                          <boolProp name="HTTPArgument.always_encode">false</boolProp>
                          <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-es-ID切分-单次-es-指定范围&quot;,&quot;describe&quot;:&quot;自动化测试-es-ID切分-单次-es-指定范围&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;ES&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;street&quot;,&quot;name&quot;:&quot;street&quot;,&quot;path&quot;:&quot;street&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;city&quot;,&quot;name&quot;:&quot;city&quot;,&quot;path&quot;:&quot;city&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;code&quot;:&quot;time&quot;,&quot;name&quot;:&quot;time&quot;,&quot;path&quot;:&quot;time&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]}],&quot;accessInfo&quot;:{&quot;ip&quot;:&quot;${esIp}&quot;,&quot;port&quot;:&quot;9200&quot;,&quot;index&quot;:&quot;zlj_datasync_test&quot;,&quot;type&quot;:&quot;&quot;,&quot;tcp_port&quot;:&quot;9300&quot;,&quot;cluster_name&quot;:&quot;elasticsearch&quot;,&quot;version&quot;:&quot;7.x&quot;,&quot;security&quot;:{&quot;typeNum&quot;:1,&quot;auth&quot;:{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;CUYXABGVHL1TCjQCbUeGZQ==&quot;,&quot;ssl&quot;:false}},&quot;regionId&quot;:&quot;local&quot;,&quot;syncRange&quot;:{&quot;startPoint&quot;:1,&quot;endPoint&quot;:10},&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;splitField&quot;:&quot;id&quot;,&quot;increased&quot;:true,&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_es_id_once_es_from1to10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                          <stringProp name="Argument.metadata">=</stringProp>
                        </elementProp>
                      </collectionProp>
                    </elementProp>
                    <stringProp name="HTTPSampler.domain"></stringProp>
                    <stringProp name="HTTPSampler.port"></stringProp>
                    <stringProp name="HTTPSampler.protocol"></stringProp>
                    <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                    <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                    <stringProp name="HTTPSampler.method">POST</stringProp>
                    <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                    <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                    <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                    <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                    <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                    <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                    <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  </HTTPSamplerProxy>
                  <hashTree>
                    <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                      <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                      <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                      <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                      <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                    </JSONPostProcessor>
                    <hashTree/>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">3000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景3-同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景3-验证ES中数据是否完整" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="databank-${name}场景3-验证ES中数据是否完整" enabled="true">
                  <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=9 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                  <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
                </WhileController>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">100</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num1</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                  </CounterConfig>
                  <hashTree/>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                    <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_once_es_from1to10/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                    <intProp name="connectionTimeout">5000</intProp>
                    <stringProp name="hostname">${mysqlIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${mysqlpasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">5000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                    <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                      <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                      <stringProp name="RegexExtractor.refname">total_data</stringProp>
                      <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                      <stringProp name="RegexExtractor.template">$1$</stringProp>
                      <stringProp name="RegexExtractor.default"></stringProp>
                      <stringProp name="RegexExtractor.match_number">1</stringProp>
                    </RegexExtractor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景3-检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-830236789">&quot;range&quot;:\[\[1,10]]</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景3-重新同步" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;${sourceId}&quot;,&quot;format&quot;:&quot;LONG&quot;,&quot;range&quot;:[[1,2]]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景3-验证ES中数据是否完整2" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="databank-${name}场景3-验证ES中数据是否完整2" enabled="true">
                  <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num2}&quot;!=&quot;30&quot; ,)}</stringProp>
                  <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
                </WhileController>
                <hashTree>
                  <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                    <stringProp name="CounterConfig.start">1</stringProp>
                    <stringProp name="CounterConfig.end">100</stringProp>
                    <stringProp name="CounterConfig.incr">1</stringProp>
                    <stringProp name="CounterConfig.name">num2</stringProp>
                    <stringProp name="CounterConfig.format"></stringProp>
                    <boolProp name="CounterConfig.per_user">false</boolProp>
                  </CounterConfig>
                  <hashTree/>
                  <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                    <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_once_es_from1to10/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                    <intProp name="connectionTimeout">5000</intProp>
                    <stringProp name="hostname">${mysqlIp}</stringProp>
                    <stringProp name="passphrase"></stringProp>
                    <stringProp name="password">${mysqlpasswd}</stringProp>
                    <intProp name="port">22</intProp>
                    <boolProp name="printStdErr">true</boolProp>
                    <stringProp name="sshkeyfile"></stringProp>
                    <boolProp name="useReturnCode">true</boolProp>
                    <stringProp name="username">root</stringProp>
                  </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                  <hashTree>
                    <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                      <stringProp name="ConstantTimer.delay">5000</stringProp>
                    </ConstantTimer>
                    <hashTree/>
                    <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                      <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                      <stringProp name="RegexExtractor.refname">total_data</stringProp>
                      <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                      <stringProp name="RegexExtractor.template">$1$</stringProp>
                      <stringProp name="RegexExtractor.default"></stringProp>
                      <stringProp name="RegexExtractor.match_number">1</stringProp>
                    </RegexExtractor>
                    <hashTree/>
                  </hashTree>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="databank-${name}场景3-数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;10&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="databank-${name}场景3-检查linux中任务是否进程停止了" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="databank-${name}场景3-检查linux中任务是否进程停止了" enabled="true">
                  <stringProp name="command">ps -ef |grep 自动化测试-${name}-ID切分-单次-ES-指定范|grep -v grep|wc -l</stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${flumeIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">60000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                    <collectionProp name="Asserion.test_strings">
                      <stringProp name="48">0</stringProp>
                    </collectionProp>
                    <stringProp name="Assertion.custom_message"></stringProp>
                    <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                    <boolProp name="Assertion.assume_success">false</boolProp>
                    <intProp name="Assertion.test_type">16</intProp>
                  </ResponseAssertion>
                  <hashTree/>
                </hashTree>
              </hashTree>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（kafka）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;kafka&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="kafka数据准备" enabled="true">
                <collectionProp name="ModuleController.node_path">
                  <stringProp name="869052411">测试计划</stringProp>
                  <stringProp name="764597751">Test Plan</stringProp>
                  <stringProp name="868857784">测试片段</stringProp>
                  <stringProp name="283834870">连接kafka数据库</stringProp>
                </collectionProp>
              </ModuleController>
              <hashTree/>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="清理历史数据源" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query?searchKey=自动化测试-${name}&amp;pageSize=10&amp;pageNum=1</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-kafka" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-kafka&quot;,&quot;describe&quot;:&quot;自动化测试-kafka&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;KAFKA&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;doing&quot;,&quot;name&quot;:&quot;doing&quot;,&quot;path&quot;:&quot;doing&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;logintime&quot;,&quot;name&quot;:&quot;logintime&quot;,&quot;path&quot;:&quot;logintime&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}],&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;name&quot;,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;why&quot;,&quot;name&quot;:&quot;why&quot;,&quot;path&quot;:&quot;why&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;code&quot;:&quot;id&quot;,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;},{&quot;code&quot;:&quot;age&quot;,&quot;name&quot;:&quot;age&quot;,&quot;path&quot;:&quot;age&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;type&quot;:&quot;MEASURE&quot;}],&quot;accessInfo&quot;:{&quot;hosts&quot;:&quot;${kafkaIp}:9192&quot;,&quot;topic&quot;:&quot;${topic}&quot;,&quot;version&quot;:&quot;1.1.x&quot;,&quot;format&quot;:&quot;JSON&quot;,&quot;delimiter&quot;:&quot;&quot;,&quot;className&quot;:&quot;&quot;,&quot;jsonParseToolJavaCodes&quot;:&quot;&quot;,&quot;security&quot;:{&quot;typeNum&quot;:0},&quot;groupId&quot;:&quot;&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;increased&quot;:false}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">20000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/getPreview?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-1730312333">&quot;total&quot;:10,</stringProp>
                    <stringProp name="20900452">偷袭人</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（jsonfile）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;jsonfile&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
            </TransactionController>
            <hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;jsonfile&quot;)</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                  <collectionProp name="ModuleController.node_path">
                    <stringProp name="869052411">测试计划</stringProp>
                    <stringProp name="764597751">Test Plan</stringProp>
                    <stringProp name="868857784">测试片段</stringProp>
                    <stringProp name="1866106603">连接jsonfile</stringProp>
                  </collectionProp>
                </ModuleController>
                <hashTree/>
              </hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-ID切分-批每分钟-es-指定范围</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;jsonfile&quot;)</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-ID切分-批每分钟-ES" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-jsonfile-批每分钟-es&quot;,&quot;describe&quot;:&quot;自动化测试-jsonfile-批每分钟-es&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;JsonFile&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;path&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;path&quot;,&quot;path&quot;:&quot;path&quot;},{&quot;code&quot;:&quot;offset&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;offset&quot;,&quot;path&quot;:&quot;offset&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;},{&quot;serialNumber&quot;:4,&quot;code&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;},{&quot;serialNumber&quot;:5,&quot;code&quot;:&quot;street&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;street&quot;,&quot;path&quot;:&quot;street&quot;},{&quot;serialNumber&quot;:6,&quot;code&quot;:&quot;city&quot;,&quot;name&quot;:&quot;city&quot;,&quot;path&quot;:&quot;city&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null},{&quot;serialNumber&quot;:7,&quot;code&quot;:&quot;time&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}],&quot;name&quot;:&quot;time&quot;,&quot;path&quot;:&quot;time&quot;}],&quot;accessInfo&quot;:{&quot;regionId&quot;:&quot;local&quot;,&quot;fileDir&quot;:&quot;/home/bigtest&quot;,&quot;pathMatcher&quot;:&quot;**/*&quot;,&quot;parallelism&quot;:1234,&quot;maxPerSize&quot;:12345,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_id_minutes_es_from10&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=90 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10_debug/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
                <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;jsonfile&quot;)</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="jsonfile数据初始化" enabled="true">
                  <stringProp name="command"> for i in $(seq 91 100) ;do let x=1626883200000+i*1000&amp;&amp; echo &quot;{ \&quot;id\&quot;:$i,\&quot;name\&quot;:\&quot;Central School$i\&quot;, \&quot;street\&quot;:\&quot;Nagan\&quot;,\&quot;city\&quot;:\&quot;paprola\&quot;, \&quot;time\&quot;:$x}&quot;&gt;&gt;/home/bigtest/1.json;done </stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${flumeIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">10000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                    <boolProp name="resetInterpreter">false</boolProp>
                    <stringProp name="parameters"></stringProp>
                    <stringProp name="filename"></stringProp>
                    <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);

int kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
int solution_value=new Integer(vars.get(&quot;solution_value&quot;));
int deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
int core_value=new Integer(vars.get(&quot;core_value&quot;));
int kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
int metric_value=new Integer(vars.get(&quot;metric_value&quot;));
int mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
//初始化值为-1
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source1 =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source1.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	//初始化后只赋值一次
	if (kafkastreams_value==-1){
	 kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (solution_value==-1){
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (deploy_value==-1){
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (core_value==-1){
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (kafka_value==-1){
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	if (metric_value==-1){
	 metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (mongodb_value==-1){
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}	
	}
 }

vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
	int result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
	log.error(result+&quot;&quot;);
	vars.put(&quot;result&quot;,result+&quot;&quot;);
//log.error(apps_str.getString());</stringProp>
                  </BeanShellPostProcessor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data4}&quot;!=100 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot;,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num2</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">true</boolProp>
                  <boolProp name="CounterConfig.reset_on_tg_iteration">true</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10_debug/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data4</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=100 &amp;&amp; &quot;${num3}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num3</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1312531894">success\\&quot;:100</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重新同步" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;${sourceId}&quot;,&quot;format&quot;:&quot;STRING&quot;,&quot;range&quot;:[&quot; [{\&quot;path\&quot;:\&quot;/home/bigtest/1.json\&quot;,\&quot;lastModified\&quot;:${__time()},\&quot;fileProgressList\&quot;:[{\&quot;from\&quot;:0,\&quot;to\&quot;:0,\&quot;success\&quot;:100,\&quot;failed\&quot;:0}]}]&quot;]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=200 &amp;&amp; &quot;${num4}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num4</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_id_minutes_es_from10/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1312532855">success\\&quot;:200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;50&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（custom-java）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;custom-java&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}-批每分钟-es" enabled="false">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                <collectionProp name="ModuleController.node_path">
                  <stringProp name="869052411">测试计划</stringProp>
                  <stringProp name="764597751">Test Plan</stringProp>
                  <stringProp name="868857784">测试片段</stringProp>
                  <stringProp name="595056">连接oracle数据库</stringProp>
                </collectionProp>
              </ModuleController>
              <hashTree/>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-批每分钟-es</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                  <collectionProp name="HTTPFileArgs.files">
                    <elementProp name="C:\Users\genius-jie\Downloads\custom-master\custom-jar\target\custom-jar-0.0.1-bin.tar.gz" elementType="HTTPFileArg">
                      <stringProp name="File.path">C:\Users\genius-jie\Downloads\custom-master\custom-jar\target\custom-jar-0.0.1-bin.tar.gz</stringProp>
                      <stringProp name="File.paramname">file</stringProp>
                      <stringProp name="File.mimetype">application/x-gzip</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/file/flume/a30fc5e1-f6e6-1325-2a14-4f3df26ce15a/upload</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.implementation">Java</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Connection</stringProp>
                      <stringProp name="Header.value">keep-alive</stringProp>
                    </elementProp>
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">multipart/form-data;</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..hdfsPath</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-批每分钟-es" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-custom-批每分钟-es&quot;,&quot;describe&quot;:&quot;自动化测试-custom-批每分钟-es&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;Custom&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:1,&quot;code&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;STRING1&quot;,&quot;format&quot;:&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;}],&quot;name&quot;:&quot;birthday&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:&quot;DIMENSION&quot;}],&quot;accessInfo&quot;:{&quot;customId&quot;:&quot;7c8003f7-c3df-443f-878d-d3bd7bd${__Random(1000,9000,)}&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;filePath&quot;:&quot;${filePath}&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_minutes_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=100 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es_debug/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="4、新增10条数据" enabled="true">
                <stringProp name="dataSource">oracle</stringProp>
                <stringProp name="query">declare 
i NUMBER := 1 ;
v_first_name VARCHAR2(50) ;
begin
FOR i IN 101 .. 110 loop  
v_first_name := &apos;oracle&apos; || TO_CHAR (i) ; 
INSERT INTO &quot;SYSTEM&quot;.&quot;T1&quot;
VALUES
	(
		i,
		v_first_name,
		i,
		&apos;男&apos;,
		&apos;演戏&apos;,
		&apos;精英班&apos;,
		&apos;文军中学&apos;,
		to_date(&apos;2021-6-6 00:00:00&apos;,&apos;yyyy/mm/dd hh24:mi:ss&apos;)+numtodsinterval(i,&apos;minute&apos;),
		1000 + i
	) ; COMMIT ;
END loop ;
end;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames"></stringProp>
              </JDBCSampler>
              <hashTree/>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=110 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es_debug/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=110 &amp;&amp; &quot;${num3}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num3</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-969107076">RN\\&quot;:110</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重新同步" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;${sourceId}&quot;,&quot;format&quot;:&quot;STRING&quot;,&quot;range&quot;:[&quot;{\&quot;birthday\&quot;:\&quot;2021-06-06 01:50:00.0\&quot;,\&quot;costs\&quot;:1110,\&quot;school\&quot;:\&quot;文军中学\&quot;,\&quot;sex\&quot;:\&quot;男\&quot;,\&quot;name\&quot;:\&quot;oracle110\&quot;,\&quot;id\&quot;:110,\&quot;RN\&quot;:100,\&quot;class\&quot;:\&quot;精英班\&quot;,\&quot;age\&quot;:110,\&quot;hobby\&quot;:\&quot;演戏\&quot;}&quot;]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="4、新增10条数据" enabled="true">
                <stringProp name="dataSource">oracle</stringProp>
                <stringProp name="query">declare 
i NUMBER := 1 ;
v_first_name VARCHAR2(50) ;
begin
FOR i IN 111 .. 120 loop  
v_first_name := &apos;oracle&apos; || TO_CHAR (i) ; 
INSERT INTO &quot;SYSTEM&quot;.&quot;T1&quot;
VALUES
	(
		i,
		v_first_name,
		i,
		&apos;男&apos;,
		&apos;演戏&apos;,
		&apos;精英班&apos;,
		&apos;文军中学&apos;,
		to_date(&apos;2021-6-6 00:00:00&apos;,&apos;yyyy/mm/dd hh24:mi:ss&apos;)+numtodsinterval(i,&apos;minute&apos;),
		1000 + i
	) ; COMMIT ;
END loop ;
end;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Callable Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames"></stringProp>
              </JDBCSampler>
              <hashTree/>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=130 &amp;&amp; &quot;${num4}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num4</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-969107045">RN\\&quot;:120</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;50&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="2、自动化测试-${name}-单次" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                <collectionProp name="ModuleController.node_path">
                  <stringProp name="869052411">测试计划</stringProp>
                  <stringProp name="764597751">Test Plan</stringProp>
                  <stringProp name="868857784">测试片段</stringProp>
                  <stringProp name="595056">连接oracle数据库</stringProp>
                </collectionProp>
              </ModuleController>
              <hashTree/>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-单次</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                  <collectionProp name="HTTPFileArgs.files">
                    <elementProp name="C:\Users\genius-jie\Downloads\custom-master\custom-jar\target\custom-jar-0.0.1-bin.tar.gz" elementType="HTTPFileArg">
                      <stringProp name="File.path">C:\Users\genius-jie\Downloads\custom-master\custom-jar\target\custom-jar-0.0.1-bin.tar.gz</stringProp>
                      <stringProp name="File.paramname">file</stringProp>
                      <stringProp name="File.mimetype">application/x-gzip</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/file/flume/a30fc5e1-f6e6-1325-2a14-4f3df26ce15a/upload</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.implementation">Java</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Connection</stringProp>
                      <stringProp name="Header.value">keep-alive</stringProp>
                    </elementProp>
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">multipart/form-data;</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..hdfsPath</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-单次" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;Custom&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:1,&quot;code&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;STRING1&quot;,&quot;format&quot;:&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;}],&quot;name&quot;:&quot;birthday&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:&quot;DIMENSION&quot;}],&quot;accessInfo&quot;:{&quot;customId&quot;:&quot;7c8003f7-c3df-443f-878d-d3bd7bd${__Random(1000,9000,)}&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;filePath&quot;:&quot;${filePath}&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_once_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=100 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-969107107">RN\\&quot;:100</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重新同步" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;${sourceId}&quot;,&quot;format&quot;:&quot;STRING&quot;,&quot;range&quot;:[&quot;{\&quot;birthday\&quot;:\&quot;2021-06-06 01:50:00.0\&quot;,\&quot;costs\&quot;:1110,\&quot;school\&quot;:\&quot;文军中学\&quot;,\&quot;sex\&quot;:\&quot;男\&quot;,\&quot;name\&quot;:\&quot;oracle110\&quot;,\&quot;id\&quot;:110,\&quot;RN\&quot;:90,\&quot;class\&quot;:\&quot;精英班\&quot;,\&quot;age\&quot;:110,\&quot;hobby\&quot;:\&quot;演戏\&quot;}&quot;]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=110 &amp;&amp; &quot;${num2}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num2</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;50&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="检查linux中任务是否进程停止了" enabled="true">
                <stringProp name="command">ps -ef |grep 自动化测试-${name}-单次|grep -v grep|wc -l</stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="48">0</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（custom-python）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;custom-python&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}-批每分钟-es" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-批每分钟-es</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                  <collectionProp name="HTTPFileArgs.files">
                    <elementProp name="C:\Users\genius-jie\Downloads\custom-master\custom-python\target\custom-python-0.0.1-bin.tar.gz" elementType="HTTPFileArg">
                      <stringProp name="File.path">C:\Users\genius-jie\Downloads\custom-master\custom-python\target\custom-python-0.0.1-bin.tar.gz</stringProp>
                      <stringProp name="File.paramname">file</stringProp>
                      <stringProp name="File.mimetype">application/x-gzip</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/file/flume/a30fc5e1-f6e6-1325-2a14-4f3df26ce15a/upload</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.implementation">Java</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Connection</stringProp>
                      <stringProp name="Header.value">keep-alive</stringProp>
                    </elementProp>
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">multipart/form-data;</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..hdfsPath</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-批每分钟-es" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-批每分钟-es&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-批每分钟-es&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;Custom&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:1,&quot;code&quot;:&quot;TIME&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;STRING7&quot;,&quot;format&quot;:&quot;yyyy-MM-dd HH:mm:ss&quot;}],&quot;name&quot;:&quot;TIME&quot;,&quot;path&quot;:&quot;TIME&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:2,&quot;code&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;RN&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;RN&quot;,&quot;path&quot;:&quot;RN&quot;,&quot;type&quot;:&quot;MEASURE&quot;}],&quot;accessInfo&quot;:{&quot;customId&quot;:&quot;14422887-61fd-16dd-97a8-aba03d060847&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;filePath&quot;:&quot;${filePath}&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_minutes_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num3}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num3</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="1657800187">\\&quot;RN\\&quot;: 10, \\&quot;name\\&quot;: \\&quot;a10\\&quot;, \\&quot;TIME\\&quot;: \\&quot;2021-06-06 00:10:00</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重新同步" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;${sourceId}&quot;,&quot;format&quot;:&quot;STRING&quot;,&quot;range&quot;:[&quot;{\&quot;RN\&quot;: 5, \&quot;name\&quot;: \&quot;a10\&quot;, \&quot;TIME\&quot;: \&quot;2021-06-06 00:10:00\&quot;}&quot;]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num4}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num4</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;15&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="2、自动化测试-${name}-单次" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-单次</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                  <collectionProp name="HTTPFileArgs.files">
                    <elementProp name="C:\Users\genius-jie\Downloads\custom-master\custom-python\target\custom-python-0.0.1-bin.tar.gz" elementType="HTTPFileArg">
                      <stringProp name="File.path">C:\Users\genius-jie\Downloads\custom-master\custom-python\target\custom-python-0.0.1-bin.tar.gz</stringProp>
                      <stringProp name="File.paramname">file</stringProp>
                      <stringProp name="File.mimetype">application/x-gzip</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/file/flume/a30fc5e1-f6e6-1325-2a14-4f3df26ce15a/upload</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.implementation">Java</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Connection</stringProp>
                      <stringProp name="Header.value">keep-alive</stringProp>
                    </elementProp>
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">multipart/form-data;</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..hdfsPath</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-单次" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;Custom&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:1,&quot;code&quot;:&quot;TIME&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;STRING7&quot;,&quot;format&quot;:&quot;yyyy-MM-dd HH:mm:ss&quot;}],&quot;name&quot;:&quot;TIME&quot;,&quot;path&quot;:&quot;TIME&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:2,&quot;code&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;RN&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;RN&quot;,&quot;path&quot;:&quot;RN&quot;,&quot;type&quot;:&quot;MEASURE&quot;}],&quot;accessInfo&quot;:{&quot;customId&quot;:&quot;14422887-61fd-16dd-97a8-aba03d060847&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;filePath&quot;:&quot;${filePath}&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_once_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="2114259785">\\&quot;RN\\&quot;: 10</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;10&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="检查linux中任务是否进程停止了" enabled="true">
                <stringProp name="command">ps -ef |grep 自动化测试-${name}-单次|grep -v grep|wc -l</stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="48">0</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（custom-groovy）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;custom-groovy&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}-批每分钟-es" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-批每分钟-es</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                  <collectionProp name="HTTPFileArgs.files">
                    <elementProp name="C:\Users\genius-jie\Downloads\custom-master\custom-groovy\target\custom-groovy-0.0.1-bin.tar.gz" elementType="HTTPFileArg">
                      <stringProp name="File.path">C:\Users\genius-jie\Downloads\custom-master\custom-groovy\target\custom-groovy-0.0.1-bin.tar.gz</stringProp>
                      <stringProp name="File.paramname">file</stringProp>
                      <stringProp name="File.mimetype">application/x-gzip</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/file/flume/a30fc5e1-f6e6-1325-2a14-4f3df26ce15a/upload</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.implementation">Java</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Connection</stringProp>
                      <stringProp name="Header.value">keep-alive</stringProp>
                    </elementProp>
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">multipart/form-data;</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..hdfsPath</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-批每分钟-es" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-批每分钟-es&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-批每分钟-es&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;Custom&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:1,&quot;code&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:&quot;MEASURE&quot;},{&quot;serialNumber&quot;:2,&quot;code&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;STRING1&quot;,&quot;format&quot;:&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;}],&quot;name&quot;:&quot;birthday&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:&quot;DIMENSION&quot;}],&quot;accessInfo&quot;:{&quot;customId&quot;:&quot;14422887-61fd-16dd-97a8-aba03d060847&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;filePath&quot;:&quot;${filePath}&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_minutes_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=100 &amp;&amp; &quot;${num3}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num3</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-969107107">RN\\&quot;:100</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重新同步" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;${sourceId}&quot;,&quot;format&quot;:&quot;STRING&quot;,&quot;range&quot;:[&quot;{\&quot;birthday\&quot;:\&quot;2021-06-06 01:40:00.0\&quot;,\&quot;costs\&quot;:1100,\&quot;school\&quot;:\&quot;文军中学\&quot;,\&quot;sex\&quot;:\&quot;男\&quot;,\&quot;name\&quot;:\&quot;oracle100\&quot;,\&quot;id\&quot;:100,\&quot;RN\&quot;:90,\&quot;class\&quot;:\&quot;精英班\&quot;,\&quot;age\&quot;:100,\&quot;hobby\&quot;:\&quot;演戏\&quot;}&quot;]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=110 &amp;&amp; &quot;${num4}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num4</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;50&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="2、自动化测试-${name}-单次" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-单次</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                  <collectionProp name="HTTPFileArgs.files">
                    <elementProp name="C:\Users\genius-jie\Downloads\custom-master\custom-groovy\target\custom-groovy-0.0.1-bin.tar.gz" elementType="HTTPFileArg">
                      <stringProp name="File.path">C:\Users\genius-jie\Downloads\custom-master\custom-groovy\target\custom-groovy-0.0.1-bin.tar.gz</stringProp>
                      <stringProp name="File.paramname">file</stringProp>
                      <stringProp name="File.mimetype">application/x-gzip</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/file/flume/a30fc5e1-f6e6-1325-2a14-4f3df26ce15a/upload</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.implementation">Java</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Connection</stringProp>
                      <stringProp name="Header.value">keep-alive</stringProp>
                    </elementProp>
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">multipart/form-data;</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..hdfsPath</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-单次" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;Custom&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:1,&quot;code&quot;:&quot;id&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;id&quot;,&quot;path&quot;:&quot;id&quot;,&quot;type&quot;:&quot;MEASURE&quot;},{&quot;serialNumber&quot;:2,&quot;code&quot;:&quot;name&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;name&quot;,&quot;path&quot;:&quot;name&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;birthday&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;STRING1&quot;,&quot;format&quot;:&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;}],&quot;name&quot;:&quot;birthday&quot;,&quot;path&quot;:&quot;birthday&quot;,&quot;type&quot;:&quot;DIMENSION&quot;}],&quot;accessInfo&quot;:{&quot;customId&quot;:&quot;1d004975-287f-f78f-2fe8-9bb11e429df6&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;filePath&quot;:&quot;${filePath}&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_once_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=100 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-969107107">RN\\&quot;:100</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;10&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="检查linux中任务是否进程停止了" enabled="true">
                <stringProp name="command">ps -ef |grep 自动化测试-${name}-单次|grep -v grep|wc -l</stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="48">0</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（custom-shell）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;custom-shell&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}-批每分钟-es" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-批每分钟-es</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                  <collectionProp name="HTTPFileArgs.files">
                    <elementProp name="C:\Users\genius-jie\Downloads\custom-master\custom-shell\target\custom-shell-0.0.1-bin.tar.gz" elementType="HTTPFileArg">
                      <stringProp name="File.path">C:\Users\genius-jie\Downloads\custom-master\custom-shell\target\custom-shell-0.0.1-bin.tar.gz</stringProp>
                      <stringProp name="File.paramname">file</stringProp>
                      <stringProp name="File.mimetype">application/x-gzip</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/file/flume/a30fc5e1-f6e6-1325-2a14-4f3df26ce15a/upload</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.implementation">Java</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Connection</stringProp>
                      <stringProp name="Header.value">keep-alive</stringProp>
                    </elementProp>
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">multipart/form-data;</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..hdfsPath</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-批每分钟-es" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-批每分钟-es&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-批每分钟-es&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;Custom&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:1,&quot;code&quot;:&quot;ID&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;ID&quot;,&quot;path&quot;:&quot;ID&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:2,&quot;code&quot;:&quot;TIME&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;STRING7&quot;,&quot;format&quot;:&quot;yyyy-MM-dd HH:mm:ss&quot;}],&quot;name&quot;:&quot;TIME&quot;,&quot;path&quot;:&quot;TIME&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;RN&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;RN&quot;,&quot;path&quot;:&quot;RN&quot;,&quot;type&quot;:&quot;MEASURE&quot;}],&quot;accessInfo&quot;:{&quot;customId&quot;:&quot;14422887-61fd-16dd-97a8-aba03d060847&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;filePath&quot;:&quot;${filePath}&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_minutes_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Cycle&quot;,&quot;cron&quot;:&quot;0 0/1 * * * ? *&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=6 &amp;&amp; &quot;${num3}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num3</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="2081670818">RN\\&quot;:6</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="重新同步" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;id&quot;:&quot;${sourceId}&quot;,&quot;format&quot;:&quot;STRING&quot;,&quot;range&quot;:[&quot;{\&quot;TIME\&quot;:\&quot;2020-03-06 08:30:25\&quot;,\&quot;ID\&quot;:\&quot;e\&quot;,\&quot;RN\&quot;:5}&quot;]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=7 &amp;&amp; &quot;${num4}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num4</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_minutes_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;7&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="2、自动化测试-${name}-单次" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-单次</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                  <collectionProp name="HTTPFileArgs.files">
                    <elementProp name="C:\Users\genius-jie\Downloads\custom-master\custom-shell\target\custom-shell-0.0.1-bin.tar.gz" elementType="HTTPFileArg">
                      <stringProp name="File.path">C:\Users\genius-jie\Downloads\custom-master\custom-shell\target\custom-shell-0.0.1-bin.tar.gz</stringProp>
                      <stringProp name="File.paramname">file</stringProp>
                      <stringProp name="File.mimetype">application/x-gzip</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol">http</stringProp>
                <stringProp name="HTTPSampler.contentEncoding"></stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/file/flume/a30fc5e1-f6e6-1325-2a14-4f3df26ce15a/upload</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.implementation">Java</stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                  <collectionProp name="HeaderManager.headers">
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Connection</stringProp>
                      <stringProp name="Header.value">keep-alive</stringProp>
                    </elementProp>
                    <elementProp name="" elementType="Header">
                      <stringProp name="Header.name">Content-Type</stringProp>
                      <stringProp name="Header.value">multipart/form-data;</stringProp>
                    </elementProp>
                  </collectionProp>
                </HeaderManager>
                <hashTree/>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..hdfsPath</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-单次" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;Custom&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:1,&quot;code&quot;:&quot;ID&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;ID&quot;,&quot;path&quot;:&quot;ID&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:2,&quot;code&quot;:&quot;TIME&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;STRING7&quot;,&quot;format&quot;:&quot;yyyy-MM-dd HH:mm:ss&quot;}],&quot;name&quot;:&quot;TIME&quot;,&quot;path&quot;:&quot;TIME&quot;,&quot;type&quot;:&quot;DIMENSION&quot;},{&quot;serialNumber&quot;:3,&quot;code&quot;:&quot;RN&quot;,&quot;dataType&quot;:&quot;INTEGER&quot;,&quot;formats&quot;:null,&quot;name&quot;:&quot;RN&quot;,&quot;path&quot;:&quot;RN&quot;,&quot;type&quot;:&quot;MEASURE&quot;}],&quot;accessInfo&quot;:{&quot;customId&quot;:&quot;1d004975-287f-f78f-2fe8-9bb11e429df6&quot;,&quot;regionId&quot;:&quot;local&quot;,&quot;filePath&quot;:&quot;${filePath}&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_once_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=6 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="检查已同步范围" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/dataAccess/source/resync/get?id=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="2081670818">RN\\&quot;:6</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;6&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="检查linux中任务是否进程停止了" enabled="true">
                <stringProp name="command">ps -ef |grep 自动化测试-${name}-单次|grep -v grep|wc -l</stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="48">0</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（本地文件）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;local-excel&quot;)||&quot;${name}&quot;.equals(&quot;local-csv&quot;)||&quot;${name}&quot;.equals(&quot;local-txt&quot;)||&quot;${name}&quot;.equals(&quot;local-ftp&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}-单次" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-单次</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（csv）控制器" enabled="true">
                <stringProp name="IfController.condition">&quot;${name}&quot;==&quot;local-csv&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                  <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                    <collectionProp name="HTTPFileArgs.files">
                      <elementProp name="C:\Users\genius-jie\Desktop\test.csv" elementType="HTTPFileArg">
                        <stringProp name="File.path">C:\Users\genius-jie\Desktop\test.csv</stringProp>
                        <stringProp name="File.paramname">fileName</stringProp>
                        <stringProp name="File.mimetype">application/vnd.ms-excel</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol">http</stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/collector/api/v1/udap/file/upload/csv?separator=,&amp;encode=UTF-8</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.implementation">Java</stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                    <collectionProp name="HeaderManager.headers">
                      <elementProp name="" elementType="Header">
                        <stringProp name="Header.name">Connection</stringProp>
                        <stringProp name="Header.value">keep-alive</stringProp>
                      </elementProp>
                      <elementProp name="" elementType="Header">
                        <stringProp name="Header.name">Content-Type</stringProp>
                        <stringProp name="Header.value">multipart/form-data</stringProp>
                      </elementProp>
                    </collectionProp>
                  </HeaderManager>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..filenames[0]</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-单次" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;csv&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:0,&quot;name&quot;:&quot;序号&quot;,&quot;code&quot;:&quot;序号&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:1,&quot;name&quot;:&quot;字段名称&quot;,&quot;code&quot;:&quot;字段名称&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:2,&quot;name&quot;:&quot;字段类型&quot;,&quot;code&quot;:&quot;字段类型&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:3,&quot;name&quot;:&quot;字段描述&quot;,&quot;code&quot;:&quot;字段描述&quot;,&quot;dataType&quot;:&quot;STRING&quot;}],&quot;accessInfo&quot;:{&quot;filenames&quot;:[&quot;${filePath}&quot;],&quot;regionId&quot;:&quot;local&quot;,&quot;separator&quot;:&quot;,&quot;,&quot;encode&quot;:&quot;UTF-8&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_once_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（excel）控制器" enabled="true">
                <stringProp name="IfController.condition">&quot;${name}&quot;==&quot;local-excel&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                  <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                    <collectionProp name="HTTPFileArgs.files">
                      <elementProp name="C:\Users\genius-jie\Desktop\test.xlsx" elementType="HTTPFileArg">
                        <stringProp name="File.path">C:\Users\genius-jie\Desktop\test.xlsx</stringProp>
                        <stringProp name="File.paramname">fileName</stringProp>
                        <stringProp name="File.mimetype">application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain">${mysqlIp}</stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol">http</stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/collector/api/v1/udap/file/upload/excel</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.implementation">Java</stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                    <collectionProp name="HeaderManager.headers">
                      <elementProp name="" elementType="Header">
                        <stringProp name="Header.name">Connection</stringProp>
                        <stringProp name="Header.value">keep-alive</stringProp>
                      </elementProp>
                      <elementProp name="" elementType="Header">
                        <stringProp name="Header.name">Content-Type</stringProp>
                        <stringProp name="Header.value">multipart/form-data</stringProp>
                      </elementProp>
                    </collectionProp>
                  </HeaderManager>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..filenames[0]</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-单次" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;excel&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:0,&quot;name&quot;:&quot;序号&quot;,&quot;code&quot;:&quot;序号&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:1,&quot;name&quot;:&quot;字段名称&quot;,&quot;code&quot;:&quot;字段名称&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:2,&quot;name&quot;:&quot;字段类型&quot;,&quot;code&quot;:&quot;字段类型&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:3,&quot;name&quot;:&quot;字段描述&quot;,&quot;code&quot;:&quot;字段描述&quot;,&quot;dataType&quot;:&quot;STRING&quot;}],&quot;accessInfo&quot;:{&quot;filenames&quot;:[&quot;${filePath}&quot;],&quot;regionId&quot;:&quot;local&quot;,&quot;sheet&quot;:&quot;Sheet1&quot;,&quot;sheets&quot;:[{&quot;sheetName&quot;:&quot;Sheet1&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:0,&quot;name&quot;:&quot;序号&quot;,&quot;code&quot;:&quot;序号&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:1,&quot;name&quot;:&quot;字段名称&quot;,&quot;code&quot;:&quot;字段名称&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:2,&quot;name&quot;:&quot;字段类型&quot;,&quot;code&quot;:&quot;字段类型&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:3,&quot;name&quot;:&quot;字段描述&quot;,&quot;code&quot;:&quot;字段描述&quot;,&quot;dataType&quot;:&quot;STRING&quot;}],&quot;filenames&quot;:null,&quot;filename&quot;:&quot;${filePath}&quot;}],&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_once_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（txt）控制器" enabled="true">
                <stringProp name="IfController.condition">&quot;${name}&quot;==&quot;local-txt&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="上传" enabled="true">
                  <elementProp name="HTTPsampler.Files" elementType="HTTPFileArgs">
                    <collectionProp name="HTTPFileArgs.files">
                      <elementProp name="C:\Users\genius-jie\Desktop\test.txt" elementType="HTTPFileArg">
                        <stringProp name="File.path">C:\Users\genius-jie\Desktop\test.txt</stringProp>
                        <stringProp name="File.paramname">fileName</stringProp>
                        <stringProp name="File.mimetype">text/plain</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/collector/api/v1/udap/file/upload/txt?separator=,&amp;encode=UTF-8</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">true</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.implementation">Java</stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
                    <collectionProp name="HeaderManager.headers">
                      <elementProp name="" elementType="Header">
                        <stringProp name="Header.name">Connection</stringProp>
                        <stringProp name="Header.value">keep-alive</stringProp>
                      </elementProp>
                      <elementProp name="" elementType="Header">
                        <stringProp name="Header.name">Content-Type</stringProp>
                        <stringProp name="Header.value">multipart/form-data</stringProp>
                      </elementProp>
                    </collectionProp>
                  </HeaderManager>
                  <hashTree/>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">filePath</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..filenames[0]</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-单次" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-txt-单次&quot;,&quot;describe&quot;:&quot;自动化测试-txt-单次&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;txt&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:0,&quot;name&quot;:&quot;序号&quot;,&quot;code&quot;:&quot;序号&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:1,&quot;name&quot;:&quot;字段名称&quot;,&quot;code&quot;:&quot;字段名称&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:2,&quot;name&quot;:&quot;字段类型&quot;,&quot;code&quot;:&quot;字段类型&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:3,&quot;name&quot;:&quot;字段描述&quot;,&quot;code&quot;:&quot;字段描述&quot;,&quot;dataType&quot;:&quot;STRING&quot;}],&quot;accessInfo&quot;:{&quot;filenames&quot;:[&quot;${filePath}&quot;],&quot;regionId&quot;:&quot;local&quot;,&quot;separator&quot;:&quot;,&quot;,&quot;encode&quot;:&quot;UTF-8&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_once_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（ftp）控制器" enabled="true">
                <stringProp name="IfController.condition">&quot;${name}&quot;==&quot;local-ftp&quot;</stringProp>
                <boolProp name="IfController.evaluateAll">false</boolProp>
              </IfController>
              <hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-单次" enabled="true">
                  <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-单次&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;ftp&quot;,&quot;fields&quot;:[{&quot;serialNumber&quot;:0,&quot;name&quot;:&quot;序号&quot;,&quot;code&quot;:&quot;序号&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:1,&quot;name&quot;:&quot;字段名称&quot;,&quot;code&quot;:&quot;字段名称&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:2,&quot;name&quot;:&quot;字段类型&quot;,&quot;code&quot;:&quot;字段类型&quot;,&quot;dataType&quot;:&quot;STRING&quot;},{&quot;serialNumber&quot;:3,&quot;name&quot;:&quot;字段描述&quot;,&quot;code&quot;:&quot;字段描述&quot;,&quot;dataType&quot;:&quot;STRING&quot;}],&quot;accessInfo&quot;:{&quot;type&quot;:&quot;ftp&quot;,&quot;ftpHost&quot;:&quot;10.1.2.252&quot;,&quot;ftpUserName&quot;:&quot;zhanglj1&quot;,&quot;ftpPassword&quot;:&quot;zhanglj190708&quot;,&quot;ftpPort&quot;:&quot;21&quot;,&quot;ftpPath&quot;:&quot;/I.公共资料/33333/&quot;,&quot;fileNamelists&quot;:[&quot;元数据 (1).xlsx&quot;],&quot;files&quot;:[&quot;test.log&quot;,&quot;zhongyuanzhengjuan.txt&quot;,&quot;元数据 (1).xlsx&quot;,&quot;元数据.txt&quot;,&quot;元数据2.txt&quot;,&quot;中原地址.txt&quot;],&quot;regionId&quot;:&quot;local&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;accessTopic&quot;:&quot;auto_${name}_once_es&quot;,&quot;runMode&quot;:&quot;Batch&quot;,&quot;syncRange&quot;:{},&quot;runMethod&quot;:&quot;Once&quot;,&quot;runType&quot;:&quot;RunDirectly&quot;}}</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                  <stringProp name="HTTPSampler.method">POST</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">3000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=2 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_once_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;2&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="检查linux中任务是否进程停止了" enabled="true">
                <stringProp name="command">ps -ef |grep 自动化测试-${name}-单次|grep -v grep|wc -l</stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="48">0</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（txt.log）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;txt.log&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}-流" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="模块控制器" enabled="true">
                <collectionProp name="ModuleController.node_path">
                  <stringProp name="869052411">测试计划</stringProp>
                  <stringProp name="764597751">Test Plan</stringProp>
                  <stringProp name="868857784">测试片段</stringProp>
                  <stringProp name="-882419429">连接txtlog</stringProp>
                </collectionProp>
              </ModuleController>
              <hashTree/>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_streaming_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-流</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="自动化测试-${name}-流" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-流&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-流&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;TXTLOG&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;message&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;message&quot;,&quot;desc&quot;:&quot;原始日志内容&quot;},{&quot;code&quot;:&quot;sourceName&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;sourceName&quot;,&quot;desc&quot;:&quot;数据目录 - 数据源名称&quot;},{&quot;code&quot;:&quot;sourceTags&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;sourceTags&quot;,&quot;desc&quot;:&quot;数据目录 - 数据源标签&quot;},{&quot;code&quot;:&quot;agentIp&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;agentIp&quot;,&quot;desc&quot;:&quot;采集代理的IP&quot;},{&quot;code&quot;:&quot;agCollectType&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;agCollectType&quot;,&quot;desc&quot;:&quot;采集代理的类型&quot;},{&quot;code&quot;:&quot;agCollectTime&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;name&quot;:&quot;agCollectTime&quot;,&quot;desc&quot;:&quot;采集时间&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]},{&quot;code&quot;:&quot;agSourceOs&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;agSourceOs&quot;,&quot;desc&quot;:&quot;被采集操作系统名称&quot;}],&quot;accessInfo&quot;:{&quot;files&quot;:[{&quot;path&quot;:&quot;/root/new.log&quot;,&quot;encode&quot;:&quot;UTF-8&quot;,&quot;filterRegular&quot;:&quot;&quot;,&quot;multiLineRegular&quot;:&quot;&quot;,&quot;removeRegular&quot;:&quot;&quot;}],&quot;expectedExecutorIp&quot;:[],&quot;regionId&quot;:&quot;local&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;accessTopic&quot;:&quot;auto_${name}_streaming_es&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=10 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_streaming_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;10&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="新增10条数据" enabled="true">
                <stringProp name="command">for i in $(seq 11 20) ;do echo -e &quot;zlj_text$i.log\n&quot;&gt;&gt;new.log ;done</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=20 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_streaming_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="检查linux中任务是否进程停止了" enabled="false">
                <stringProp name="command">ps -ef |grep 自动化测试-${name}-单次|grep -v grep|wc -l</stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="48">0</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="7、查询jobid" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">jobId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="7、查询任务id" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="8、取消任务" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks/${taskId}/cancel</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="9、查询任务状态为canceled" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="914922062">&quot;runningStatus&quot;:&quot;CANCELED&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="10、检查linux中任务是否进程停止了" enabled="true">
                <stringProp name="command">ps -ef |grep 自动化测试-${name}-流|grep -v grep|wc -l</stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">20000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="48">0</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="12、重新执行任务" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks/${taskId}/restart</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="新增10条数据" enabled="true">
                <stringProp name="command">for i in $(seq 21 30) ;do echo -e &quot;zlj_text$i.log\n&quot;&gt;&gt;new.log ;done</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree/>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=30 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_streaming_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="13、查询任务状态为running" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-957313506">&quot;runningStatus&quot;:&quot;RUNNING&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">48</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;30&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（sys.log）控制器" enabled="true">
            <stringProp name="IfController.condition">&quot;${name}&quot;.equals(&quot;sys.log&quot;)</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、自动化测试-${name}-流" enabled="true">
              <boolProp name="TransactionController.includeTimers">false</boolProp>
              <boolProp name="TransactionController.parent">false</boolProp>
              <stringProp name="TestPlan.comments">创建出来
自动会拉取到数据
等一分钟后创建新的数据在oracle中
预期两个批次能将数据完整同步过来




</stringProp>
            </TransactionController>
            <hashTree>
              <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="1、前置清理" enabled="true">
                <boolProp name="TransactionController.includeTimers">false</boolProp>
                <boolProp name="TransactionController.parent">false</boolProp>
              </TransactionController>
              <hashTree>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="1、清理掉ES中历史数据" enabled="true">
                  <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_streaming_es*</stringProp>
                  <intProp name="connectionTimeout">50000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree/>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、查询历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments">
                      <elementProp name="searchKey" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">true</boolProp>
                        <stringProp name="Argument.name">searchKey</stringProp>
                        <stringProp name="Argument.value">自动化测试-${name}-流</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageSize" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageSize</stringProp>
                        <stringProp name="Argument.value">10</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                      <elementProp name="pageNum" elementType="HTTPArgument">
                        <boolProp name="HTTPArgument.always_encode">false</boolProp>
                        <stringProp name="Argument.name">pageNum</stringProp>
                        <stringProp name="Argument.value">1</stringProp>
                        <stringProp name="Argument.metadata">=</stringProp>
                        <boolProp name="HTTPArgument.use_equals">true</boolProp>
                      </elementProp>
                    </collectionProp>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/query</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree>
                  <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                    <stringProp name="JSONPostProcessor.referenceNames">metaId</stringProp>
                    <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                    <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                    <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                  </JSONPostProcessor>
                  <hashTree/>
                </hashTree>
                <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="1、删除掉历史数据源" enabled="true">
                  <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                    <collectionProp name="Arguments.arguments"/>
                  </elementProp>
                  <stringProp name="HTTPSampler.domain"></stringProp>
                  <stringProp name="HTTPSampler.port"></stringProp>
                  <stringProp name="HTTPSampler.protocol"></stringProp>
                  <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                  <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/delete?id=${metaId}</stringProp>
                  <stringProp name="HTTPSampler.method">GET</stringProp>
                  <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                  <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                  <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                  <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                  <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                  <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                  <stringProp name="HTTPSampler.response_timeout"></stringProp>
                  <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
                </HTTPSamplerProxy>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="2、创建数据源：自动化测试-${name}-流" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;自动化测试-${name}-流&quot;,&quot;describe&quot;:&quot;自动化测试-${name}-流&quot;,&quot;catalogId&quot;:&quot;${catalogId}&quot;,&quot;tags&quot;:[&quot;数据源&quot;],&quot;type&quot;:&quot;SYSLOG&quot;,&quot;fields&quot;:[{&quot;code&quot;:&quot;message&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;message&quot;,&quot;desc&quot;:&quot;原始日志内容&quot;},{&quot;code&quot;:&quot;sourceName&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;sourceName&quot;,&quot;desc&quot;:&quot;数据目录 - 数据源名称&quot;},{&quot;code&quot;:&quot;sourceTags&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;sourceTags&quot;,&quot;desc&quot;:&quot;数据目录 - 数据源标签&quot;},{&quot;code&quot;:&quot;agentIp&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;agentIp&quot;,&quot;desc&quot;:&quot;采集代理的IP&quot;},{&quot;code&quot;:&quot;agCollectType&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;agCollectType&quot;,&quot;desc&quot;:&quot;采集代理的类型&quot;},{&quot;code&quot;:&quot;agCollectTime&quot;,&quot;dataType&quot;:&quot;DATE&quot;,&quot;name&quot;:&quot;agCollectTime&quot;,&quot;desc&quot;:&quot;采集时间&quot;,&quot;formats&quot;:[{&quot;type&quot;:&quot;LONG_MS&quot;,&quot;format&quot;:&quot;毫秒时间戳&quot;}]},{&quot;code&quot;:&quot;agSourceOs&quot;,&quot;dataType&quot;:&quot;STRING&quot;,&quot;name&quot;:&quot;agSourceOs&quot;,&quot;desc&quot;:&quot;被采集操作系统名称&quot;}],&quot;accessInfo&quot;:{&quot;protocol&quot;:&quot;TCP&quot;,&quot;port&quot;:&quot;2222&quot;,&quot;readMaxRows&quot;:2222,&quot;expectedExecutorIp&quot;:[],&quot;regionId&quot;:&quot;local&quot;,&quot;increased&quot;:true,&quot;syncEngine&quot;:[{&quot;feature&quot;:&quot;DataWarehouse&quot;,&quot;engineId&quot;:&quot;${esId}&quot;}],&quot;accessTopic&quot;:&quot;auto_${name}_streaming_es&quot;,&quot;runMode&quot;:&quot;Stream&quot;,&quot;syncRange&quot;:{}}}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/meta/create</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">sourceId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..data</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">000</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="3、同步任务发布" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;metaDataIds&quot;:[&quot;${sourceId}&quot;],&quot;deployConfig&quot;:[]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/deploy/save</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">3000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="4、测试数据准备" enabled="true">
                <collectionProp name="ModuleController.node_path">
                  <stringProp name="869052411">测试计划</stringProp>
                  <stringProp name="764597751">Test Plan</stringProp>
                  <stringProp name="868857784">测试片段</stringProp>
                  <stringProp name="-910154850">连接syslog</stringProp>
                </collectionProp>
              </ModuleController>
              <hashTree/>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="5、等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=100 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_streaming_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="6、databank中数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;50&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="7、数据库中新增10条数据" enabled="true">
                <stringProp name="command">for i in $(seq 101 110);do (echo zlj$i,test$i,databank$i,monitor$i,auto_interface_test$i;sleep 1;) | telnet ${flumeIp} 2222 &amp;&gt;/dev/null;done</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings"/>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="8、等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=110 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_streaming_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="9、查询jobid" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs?analysisId=${sourceId}</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">jobId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="10、查询任务id" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">taskId</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..id</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="11、取消任务" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks/${taskId}/cancel</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree/>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="12、查询任务状态为canceled" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="914922062">&quot;runningStatus&quot;:&quot;CANCELED&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="13、检查linux中任务是否进程停止了" enabled="true">
                <stringProp name="command">ps -ef |grep 自动化测试-${name}-流|grep -v grep|wc -l</stringProp>
                <intProp name="connectionTimeout">5000</intProp>
                <stringProp name="hostname">${flumeIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">20000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="48">0</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="14、重新执行任务" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks/${taskId}/restart</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="49586">200</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">2</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="15、数据库中新增10条数据" enabled="true">
                <stringProp name="command">for i in $(seq 111 120);do (echo zlj$i,test$i,databank$i,monitor$i,auto_interface_test$i;sleep 1;) | telnet ${flumeIp} 2222 &amp;&gt;/dev/null;done</stringProp>
                <intProp name="connectionTimeout">50000</intProp>
                <stringProp name="hostname">${mysqlIp}</stringProp>
                <stringProp name="passphrase"></stringProp>
                <stringProp name="password">${mysqlpasswd}</stringProp>
                <intProp name="port">22</intProp>
                <boolProp name="printStdErr">true</boolProp>
                <stringProp name="sshkeyfile"></stringProp>
                <boolProp name="useReturnCode">true</boolProp>
                <stringProp name="username">root</stringProp>
              </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
              <hashTree>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">10000</stringProp>
                </ConstantTimer>
                <hashTree/>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings"/>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">true</boolProp>
                  <intProp name="Assertion.test_type">16</intProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="16、等待同步完成后，验证ES中数据是否完整" enabled="true">
                <stringProp name="WhileController.condition">${__javaScript(&quot;${total_data}&quot;!=120 &amp;&amp; &quot;${num1}&quot;!=&quot;30&quot; ,)}</stringProp>
                <stringProp name="TestPlan.comments">同步得到90条就算完整了</stringProp>
              </WhileController>
              <hashTree>
                <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
                  <stringProp name="CounterConfig.start">1</stringProp>
                  <stringProp name="CounterConfig.end">100</stringProp>
                  <stringProp name="CounterConfig.incr">1</stringProp>
                  <stringProp name="CounterConfig.name">num1</stringProp>
                  <stringProp name="CounterConfig.format"></stringProp>
                  <boolProp name="CounterConfig.per_user">false</boolProp>
                </CounterConfig>
                <hashTree/>
                <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="直接查询ES" enabled="true">
                  <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/auto_${name}_streaming_es/_search -d &apos;{&quot;query&quot;:{&quot;match_all&quot;:{}}}&apos; </stringProp>
                  <intProp name="connectionTimeout">5000</intProp>
                  <stringProp name="hostname">${mysqlIp}</stringProp>
                  <stringProp name="passphrase"></stringProp>
                  <stringProp name="password">${mysqlpasswd}</stringProp>
                  <intProp name="port">22</intProp>
                  <boolProp name="printStdErr">true</boolProp>
                  <stringProp name="sshkeyfile"></stringProp>
                  <boolProp name="useReturnCode">true</boolProp>
                  <stringProp name="username">root</stringProp>
                </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
                <hashTree>
                  <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                    <stringProp name="ConstantTimer.delay">5000</stringProp>
                  </ConstantTimer>
                  <hashTree/>
                  <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
                    <stringProp name="RegexExtractor.useHeaders">false</stringProp>
                    <stringProp name="RegexExtractor.refname">total_data</stringProp>
                    <stringProp name="RegexExtractor.regex">&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:(\d+)</stringProp>
                    <stringProp name="RegexExtractor.template">$1$</stringProp>
                    <stringProp name="RegexExtractor.default"></stringProp>
                    <stringProp name="RegexExtractor.match_number">1</stringProp>
                  </RegexExtractor>
                  <hashTree/>
                </hashTree>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="17、查询任务状态为running" enabled="true">
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
                  <collectionProp name="Arguments.arguments"/>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/jobs/${jobId}/tasks?pageIndex=1&amp;pageSize=10</stringProp>
                <stringProp name="HTTPSampler.method">GET</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-957313506">&quot;runningStatus&quot;:&quot;RUNNING&quot;</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">48</intProp>
                </ResponseAssertion>
                <hashTree/>
                <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                  <stringProp name="ConstantTimer.delay">60000</stringProp>
                </ConstantTimer>
                <hashTree/>
              </hashTree>
              <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="18、databank中数据预览" enabled="true">
                <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
                <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
                  <collectionProp name="Arguments.arguments">
                    <elementProp name="" elementType="HTTPArgument">
                      <boolProp name="HTTPArgument.always_encode">false</boolProp>
                      <stringProp name="Argument.value">{&quot;name&quot;:&quot;&quot;,&quot;type&quot;:&quot;&quot;,&quot;nodes&quot;:[{&quot;id&quot;:1,&quot;key&quot;:&quot;InputNode&quot;,&quot;type&quot;:&quot;InputNode&quot;,&quot;name&quot;:&quot;数据输入&quot;,&quot;prevNodeIds&quot;:[-1],&quot;config&quot;:{&quot;sourceId&quot;:&quot;${sourceId}&quot;}}]}</stringProp>
                      <stringProp name="Argument.metadata">=</stringProp>
                    </elementProp>
                  </collectionProp>
                </elementProp>
                <stringProp name="HTTPSampler.domain"></stringProp>
                <stringProp name="HTTPSampler.port"></stringProp>
                <stringProp name="HTTPSampler.protocol"></stringProp>
                <stringProp name="HTTPSampler.contentEncoding">UTF-8</stringProp>
                <stringProp name="HTTPSampler.path">/udap/api/v1/portal/pipeline/smaple/query</stringProp>
                <stringProp name="HTTPSampler.method">POST</stringProp>
                <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
                <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
                <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
                <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
                <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
                <stringProp name="HTTPSampler.connect_timeout"></stringProp>
                <stringProp name="HTTPSampler.response_timeout"></stringProp>
                <stringProp name="TestPlan.comments">执行步骤：
1、uyun_udap数据库中创建t1数据库和100条数据
2、创建数据同步任务，指定从10开始同步
3、等待同步完成后，验证ES中数据是否完整
4、mysql中新增10条数据，（查询任务列表中新增了一个任务后等待1分钟）
5、批任务也会将这条数据同步进来，验证数据库中的数据准确性和完整性</stringProp>
              </HTTPSamplerProxy>
              <hashTree>
                <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
                  <stringProp name="JSONPostProcessor.referenceNames">Values</stringProp>
                  <stringProp name="JSONPostProcessor.jsonPathExprs">$..timestamp</stringProp>
                  <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
                  <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
                </JSONPostProcessor>
                <hashTree/>
                <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                  <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;Values_matchNr&quot;);
if(value.equals(&quot;50&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	log.error(value);
	FailureMessage  = &quot;采集到了错误指标&quot;;
	return;
}</stringProp>
                  <stringProp name="BeanShellAssertion.filename"></stringProp>
                  <stringProp name="BeanShellAssertion.parameters"></stringProp>
                  <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
                </BeanShellAssertion>
                <hashTree/>
              </hashTree>
            </hashTree>
          </hashTree>
        </hashTree>
      </hashTree>
      <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
        <boolProp name="ResultCollector.error_logging">false</boolProp>
        <objProp>
          <name>saveConfig</name>
          <value class="SampleSaveConfiguration">
            <time>true</time>
            <latency>true</latency>
            <timestamp>true</timestamp>
            <success>true</success>
            <label>true</label>
            <code>true</code>
            <message>true</message>
            <threadName>true</threadName>
            <dataType>true</dataType>
            <encoding>false</encoding>
            <assertions>true</assertions>
            <subresults>true</subresults>
            <responseData>false</responseData>
            <samplerData>false</samplerData>
            <xml>false</xml>
            <fieldNames>true</fieldNames>
            <responseHeaders>false</responseHeaders>
            <requestHeaders>false</requestHeaders>
            <responseDataOnError>false</responseDataOnError>
            <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
            <assertionsResultsToSave>0</assertionsResultsToSave>
            <bytes>true</bytes>
            <sentBytes>true</sentBytes>
            <url>true</url>
            <threadCounts>true</threadCounts>
            <idleTime>true</idleTime>
            <connectTime>true</connectTime>
          </value>
        </objProp>
        <stringProp name="filename"></stringProp>
      </ResultCollector>
      <hashTree/>
    </hashTree>
  </hashTree>
</jmeterTestPlan>
