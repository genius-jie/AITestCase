<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="5.0" jmeter="5.1.1 r1855137">
  <hashTree>
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="Test Plan" enabled="true">
      <stringProp name="TestPlan.comments"></stringProp>
      <boolProp name="TestPlan.functional_mode">false</boolProp>
      <boolProp name="TestPlan.tearDown_on_shutdown">true</boolProp>
      <boolProp name="TestPlan.serialize_threadgroups">true</boolProp>
      <elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
        <collectionProp name="Arguments.arguments"/>
      </elementProp>
      <stringProp name="TestPlan.user_define_classpath"></stringProp>
    </TestPlan>
    <hashTree>
      <HeaderManager guiclass="HeaderPanel" testclass="HeaderManager" testname="HTTP信息头管理器" enabled="true">
        <collectionProp name="HeaderManager.headers">
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">content-type</stringProp>
            <stringProp name="Header.value">application/json</stringProp>
          </elementProp>
          <elementProp name="" elementType="Header">
            <stringProp name="Header.name">Cache-Control</stringProp>
            <stringProp name="Header.value">no-cache</stringProp>
          </elementProp>
        </collectionProp>
      </HeaderManager>
      <hashTree/>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="自监控配置不自愈16.460kafkastream" enabled="true"/>
      <hashTree>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(MeterSphere.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(MeterSphere.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询所有的自运维配置" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">core_triggerId;deploy_triggerId;kafkastreams_triggerId;solution_triggerId;kafka_triggerId;mongodb_triggerId;store-metric_triggerId;redis_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;databank-core进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-deploy进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-kafkastreams&quot;)].triggerId;$..list[?(@.name ==&quot;databank-solution进程&quot;)].triggerId;$..list[?(@.name ==&quot;kafka进程&quot;)].triggerId;$..list[?(@.name ==&quot;mongodb进程&quot;)].triggerId;$..list[?(@.name ==&quot;platform-store-metric进程&quot;)].triggerId;$..list[?(@.name ==&quot;redis进程&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafka自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.kafka&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭mongodb自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.mongodb&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭redis自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.redis&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭solution自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.solution&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭deploy自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.deploy&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭core自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.core&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭metric自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.platform.store.metric&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafkastreams自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.kafkastreams&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="自监控配置不自愈16.460hadoop" enabled="true"/>
      <hashTree>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(MeterSphere.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(MeterSphere.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询所有的自运维配置" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">core_triggerId;deploy_triggerId;kafkastreams_triggerId;solution_triggerId;kafka_triggerId;mongodb_triggerId;store-metric_triggerId;redis_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;databank-core进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-deploy进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-kafkastreams&quot;)].triggerId;$..list[?(@.name ==&quot;databank-solution进程&quot;)].triggerId;$..list[?(@.name ==&quot;kafka进程&quot;)].triggerId;$..list[?(@.name ==&quot;mongodb进程&quot;)].triggerId;$..list[?(@.name ==&quot;platform-store-metric进程&quot;)].triggerId;$..list[?(@.name ==&quot;redis进程&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafka自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.kafka&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭mongodb自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.mongodb&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭redis自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.redis&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭solution自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.solution&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭deploy自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.deploy&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭core自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.core&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭metric自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.platform.store.metric&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭spark自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.spark.worker&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="自监控配置不自愈17.30kafkastream" enabled="true"/>
      <hashTree>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(MeterSphere.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(MeterSphere.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询所有的自运维配置" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">core_triggerId;deploy_triggerId;kafkastreams_triggerId;solution_triggerId;kafka_triggerId;mongodb_triggerId;store-metric_triggerId;redis_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;databank-core进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-deploy进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-kafkastreams&quot;)].triggerId;$..list[?(@.name ==&quot;databank-solution进程&quot;)].triggerId;$..list[?(@.name ==&quot;kafka进程&quot;)].triggerId;$..list[?(@.name ==&quot;mongodb进程&quot;)].triggerId;$..list[?(@.name ==&quot;platform-store-metric进程&quot;)].triggerId;$..list[?(@.name ==&quot;redis进程&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafka自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.kafka&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭mongodb自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.mongodb&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭redis自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.redis&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭solution自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.solution&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭deploy自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.deploy&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭core自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.core&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭metric自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.platform.store.metric&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafkastreams自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.kafkastreams&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="自监控配置不自愈17.30hadoop" enabled="true"/>
      <hashTree>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(MeterSphere.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(MeterSphere.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询所有的自运维配置" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">core_triggerId;deploy_triggerId;kafkastreams_triggerId;solution_triggerId;kafka_triggerId;mongodb_triggerId;store-metric_triggerId;redis_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;databank-core进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-deploy进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-kafkastreams&quot;)].triggerId;$..list[?(@.name ==&quot;databank-solution进程&quot;)].triggerId;$..list[?(@.name ==&quot;kafka进程&quot;)].triggerId;$..list[?(@.name ==&quot;mongodb进程&quot;)].triggerId;$..list[?(@.name ==&quot;platform-store-metric进程&quot;)].triggerId;$..list[?(@.name ==&quot;redis进程&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafka自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.kafka&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭mongodb自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.mongodb&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭redis自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.redis&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭solution自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.solution&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭deploy自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.deploy&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭core自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.core&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭metric自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.platform.store.metric&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭spark自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.spark.worker&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="自监控配置打开自愈17.30" enabled="true"/>
      <hashTree>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(MeterSphere.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(MeterSphere.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询所有的自运维配置" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">core_triggerId;deploy_triggerId;kafkastreams_triggerId;solution_triggerId;kafka_triggerId;mongodb_triggerId;store-metric_triggerId;redis_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;databank-core进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-deploy进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-kafkastreams&quot;)].triggerId;$..list[?(@.name ==&quot;databank-solution进程&quot;)].triggerId;$..list[?(@.name ==&quot;kafka进程&quot;)].triggerId;$..list[?(@.name ==&quot;mongodb进程&quot;)].triggerId;$..list[?(@.name ==&quot;platform-store-metric进程&quot;)].triggerId;$..list[?(@.name ==&quot;redis进程&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启kafka自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.kafka&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启mongodb自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.mongodb&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启redis自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.redis&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启solution自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.solution&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启deploy自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.deploy&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启core自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.core&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启metric自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.platform.store.metric&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启kafkastreams自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.kafkastreams&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="自监控配置打开自愈16.460" enabled="true"/>
      <hashTree>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(MeterSphere.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(MeterSphere.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询所有的自运维配置" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">core_triggerId;deploy_triggerId;kafkastreams_triggerId;solution_triggerId;kafka_triggerId;mongodb_triggerId;store-metric_triggerId;redis_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;databank-core进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-deploy进程&quot;)].triggerId ; $..list[?(@.name ==&quot;databank-kafkastreams&quot;)].triggerId;$..list[?(@.name ==&quot;databank-solution进程&quot;)].triggerId;$..list[?(@.name ==&quot;kafka进程&quot;)].triggerId;$..list[?(@.name ==&quot;mongodb进程&quot;)].triggerId;$..list[?(@.name ==&quot;platform-store-metric进程&quot;)].triggerId;$..list[?(@.name ==&quot;redis进程&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;000;000;000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启kafka自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.kafka&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启mongodb自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.mongodb&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启redis自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.redis&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启solution自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.solution&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启deploy自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.deploy&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启core自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.core&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启metric自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.platform.store.metric&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启kafkastreams自愈" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Process&quot;,&quot;metricCode&quot;:&quot;process.available.databank.kafkastreams&quot;,&quot;operator&quot;:&quot;&lt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:null,&quot;recoverPolicyId&quot;:&quot;RESTART_SERVICE&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="关闭全部进程" enabled="true"/>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;${password}&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--模块包查询--返回的结果，用于关闭服务的传参" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=200</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_pkgid;metric_pkgid;msphere_pkgid;kafkastreams_pkgid;deploy_pkgid;databank-core_pkgid;kafka_pkgid;mongodb_pkgid;redis_pkgid;alert_pkgid;spark_pkgid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-msphere&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-kafkastreams&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-redis&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-datacenter&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-spark&quot;)].pkgId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${pkgid}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>true</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询solution安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=solution</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询metric安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=store-metric</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">metric_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询msphere安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-msphere</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">msphere_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询kafkastreams安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=kafkastreams</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">kafkastreams_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询deploy安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=deploy</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">deploy_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询databank-core安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">databank-core_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-kafka安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">kafka_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询mongodb安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=mongodb</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">mongodb_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-redis安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-redis</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">redis_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询alert安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=alert-datacenter</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">alert_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询spark安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=spark</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">spark_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有solution" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${solution_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭solution" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${solution_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(solution_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有metric" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${metric_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭metric" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${metric_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(metric_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有msphere" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${msphere_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭msphere" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${msphere_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(msphere_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有kafkastreams" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${kafkastreams_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafkastreams" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${kafkastreams_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(kafkastreams_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有deploy" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${deploy_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭deploy" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${deploy_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(deploy_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有databank-core" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${databank-core_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭databank-core" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${databank-core_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(databank-core_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有kafka" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${kafka_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafka" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${kafka_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(kafka_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有mongodb" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${mongodb_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭mongodb" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${mongodb_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(mongodb_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有redis" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${redis_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭redis" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${redis_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(redis_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有alert" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${alert_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭alert" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${alert_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(alert_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有spark" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${spark_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭spark" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${spark_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(spark_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="关闭redis，msphere" enabled="true"/>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;${password}&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--模块包查询--返回的结果，用于关闭服务的传参" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=100</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_pkgid;metric_pkgid;msphere_pkgid;kafkastreams_pkgid;deploy_pkgid;databank-core_pkgid;kafka_pkgid;mongodb_pkgid;redis_pkgid;alert_pkgid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-msphere&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-kafkastreams&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-redis&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-datacenter&quot;)].pkgId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${pkgid}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>true</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询msphere安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-msphere</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">msphere_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-redis安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-redis</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">redis_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有msphere" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${msphere_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭msphere" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${msphere_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(msphere_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有redis" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${redis_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭redis" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${redis_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(redis_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="关闭部分自监控进程kafkastream" enabled="true"/>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;${password}&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--模块包查询--返回的结果，用于关闭服务的传参" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=100</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_pkgid;metric_pkgid;msphere_pkgid;kafkastreams_pkgid;deploy_pkgid;databank-core_pkgid;kafka_pkgid;mongodb_pkgid;redis_pkgid;alert_pkgid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-msphere&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-kafkastreams&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-redis&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-datacenter&quot;)].pkgId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${pkgid}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>true</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询solution安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=solution</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询metric安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=store-metric</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">metric_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询kafkastreams安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=kafkastreams</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">kafkastreams_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询deploy安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=deploy</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">deploy_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询databank-core安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">databank-core_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-kafka安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">kafka_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询mongodb安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=mongodb</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">mongodb_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询deploy安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=deploy</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">deploy_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询alert安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=alert-datacenter</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">alert_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有solution" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${solution_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭solution" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${solution_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(solution_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有metric" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${metric_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭metric" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${metric_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(metric_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有kafkastreams" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${kafkastreams_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafkastreams" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${kafkastreams_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(kafkastreams_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有deploy" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${deploy_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭deploy" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${deploy_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(deploy_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有databank-core" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${databank-core_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭databank-core" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${databank-core_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(databank-core_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有kafka" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${kafka_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafka" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${kafka_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(kafka_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有mongodb" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${mongodb_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭mongodb" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${mongodb_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(mongodb_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有alert" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${alert_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭alert" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${alert_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(alert_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有deploy" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${deploy_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭deploy" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${deploy_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(deploy_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="关闭部分自监控进程hadoop" enabled="true"/>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;${password}&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--模块包查询--返回的结果，用于关闭服务的传参" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=200</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_pkgid;metric_pkgid;msphere_pkgid;spark_pkgid;deploy_pkgid;databank-core_pkgid;kafka_pkgid;mongodb_pkgid;redis_pkgid;alert_pkgid;web_pkgid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-msphere&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-spark&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-redis&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-datacenter&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-web&quot;)].pkgId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${pkgid}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>true</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询solution安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=solution</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询metric安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=store-metric</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">metric_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询spark安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=spark</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">spark_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询deploy安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=deploy</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">deploy_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询databank-core安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">databank-core_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-kafka安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">kafka_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询mongodb安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=mongodb</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">mongodb_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询alert安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=alert-datacenter</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">alert_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询web安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-web</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">web_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有solution" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${solution_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭solution" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${solution_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(solution_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有metric" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${metric_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭metric" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${metric_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(metric_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有spark" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${spark_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭spark" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${spark_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(spark_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有deploy" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${deploy_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭deploy" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${deploy_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(deploy_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有databank-core" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${databank-core_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭databank-core" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${databank-core_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(databank-core_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有kafka" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${kafka_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafka" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${kafka_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(kafka_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有mongodb" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${mongodb_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭mongodb" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${mongodb_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(mongodb_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有alert" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${alert_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭alert" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${alert_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(alert_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有web" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${web_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭web" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${web_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(web_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="关闭部分进程hadoop给场景2用" enabled="true">
        <stringProp name="TestPlan.comments">主要是不关闭spark，不然deploy无法启动了</stringProp>
      </TestFragmentController>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;${password}&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--模块包查询--返回的结果，用于关闭服务的传参" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=200</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_pkgid;metric_pkgid;msphere_pkgid;spark_pkgid;deploy_pkgid;databank-core_pkgid;kafka_pkgid;mongodb_pkgid;redis_pkgid;alert_pkgid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-msphere&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-spark&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-redis&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-datacenter&quot;)].pkgId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${pkgid}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>true</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询solution安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=solution</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询metric安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=store-metric</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">metric_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询spark安装主机" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=spark</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">spark_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询deploy安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=deploy</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">deploy_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询databank-core安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">databank-core_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-kafka安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">kafka_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询mongodb安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=mongodb</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">mongodb_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询alert安装主机" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=alert-datacenter</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">alert_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有solution" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${solution_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭solution" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${solution_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(solution_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有metric" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${metric_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭metric" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${metric_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(metric_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有spark" enabled="false">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${spark_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭spark" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${spark_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(spark_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有deploy" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${deploy_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭deploy" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${deploy_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(deploy_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有databank-core" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${databank-core_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭databank-core" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${databank-core_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(databank-core_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有kafka" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${kafka_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭kafka" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${kafka_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(kafka_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有mongodb" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${mongodb_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭mongodb" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${mongodb_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(mongodb_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="关闭所有alert" enabled="false">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${alert_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭alert" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${alert_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(alert_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="开启全部进程" enabled="true"/>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;${password}&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--模块包查询--返回的结果，用于关闭服务的传参" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=100</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_pkgid;metric_pkgid;msphere_pkgid;kafkastreams_pkgid;deploy_pkgid;databank-core_pkgid;kafka_pkgid;mongodb_pkgid;redis_pkgid;alert_pkgid;spark_pkgid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-msphere&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-kafkastreams&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-redis&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-datacenter&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-spark&quot;)].pkgId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${pkgid}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>true</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询solution安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=solution</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询databank-core安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">databank-core_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询metric安装的主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=store-metric</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">metric_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询msphere安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="pageIndex" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.name">pageIndex</stringProp>
                <stringProp name="Argument.value">1</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
              </elementProp>
              <elementProp name="pageSize" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.name">pageSize</stringProp>
                <stringProp name="Argument.value">10</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
              </elementProp>
              <elementProp name="keyWord" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.name">keyWord</stringProp>
                <stringProp name="Argument.value">databank-msphere</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
                <boolProp name="HTTPArgument.use_equals">true</boolProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">msphere_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询kafkastreams安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=kafkastreams</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">kafkastreams_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询deploy安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=deploy</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">deploy_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-kafka安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">kafka_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询mongodb安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=mongodb</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">mongodb_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-redis安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-redis</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">redis_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询alert安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=alert-datacenter</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">alert_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询spark安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-spark</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">spark_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有redis" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${redis_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有redis-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${redis_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(redis_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有kafka" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${kafka_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有kafka-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${kafka_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(kafka_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有mongodb" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${mongodb_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有mongodb-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${mongodb_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(mongodb_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
              <stringProp name="ConstantTimer.delay">20000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有databank-core" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${databank-core_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有databank-core-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${databank-core_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(databank-core_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有kafkastreams" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${kafkastreams_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有kafkastreams-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${kafkastreams_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(kafkastreams_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有msphere" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${msphere_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有msphere-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${msphere_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(msphere_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有solution" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${solution_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有solution-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${solution_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(solution_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有deploy" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${deploy_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启deploy" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${deploy_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(deploy_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有metric" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${metric_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有metric-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${metric_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(metric_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有alert" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${alert_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有alert-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${alert_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(alert_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有spark" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${spark_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有spark" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${spark_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(spark_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="开启msphere上的自监控进程" enabled="true"/>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Omp123!&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--模块包查询--返回的结果，用于关闭服务的传参" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=100</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_pkgid;metric_pkgid;msphere_pkgid;kafkastreams_pkgid;deploy_pkgid;databank-core_pkgid;kafka_pkgid;mongodb_pkgid;redis_pkgid;alert_pkgid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-msphere&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-kafkastreams&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-redis&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-datacenter&quot;)].pkgId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${pkgid}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>true</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询msphere安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments">
              <elementProp name="pageIndex" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.name">pageIndex</stringProp>
                <stringProp name="Argument.value">1</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="pageSize" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.name">pageSize</stringProp>
                <stringProp name="Argument.value">10</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
              <elementProp name="keyWord" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.name">keyWord</stringProp>
                <stringProp name="Argument.value">databank-msphere</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">msphere_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有msphere" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${msphere_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="开启所有msphere-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${msphere_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(msphere_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="开启redis上的自监控进程" enabled="true"/>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Omp123!&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--模块包查询--返回的结果，用于关闭服务的传参" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=100</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_pkgid;metric_pkgid;msphere_pkgid;kafkastreams_pkgid;deploy_pkgid;databank-core_pkgid;kafka_pkgid;mongodb_pkgid;redis_pkgid;alert_pkgid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-msphere&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-kafkastreams&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-redis&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-datacenter&quot;)].pkgId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${pkgid}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>true</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-redis安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-redis</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">redis_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有redis" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${redis_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭所有redis-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${redis_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(redis_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/start</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="开启其他的自监控进程" enabled="true"/>
      <hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Omp123!&quot;&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--模块包查询--返回的结果，用于关闭服务的传参" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/query?pageSize=100</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">solution_pkgid;metric_pkgid;msphere_pkgid;kafkastreams_pkgid;deploy_pkgid;databank-core_pkgid;kafka_pkgid;mongodb_pkgid;redis_pkgid;alert_pkgid</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..pkgs[?(@.pkgName==&quot;databank-solution&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-store-metric&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-msphere&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-kafkastreams&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-deploy&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;databank-core&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-kafka&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-mongodb&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;platform-redis&quot;)].pkgId;$..pkgs[?(@.pkgName==&quot;alert-datacenter&quot;)].pkgId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;1;1;1;1;1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">-1;-1;-1;-1;-1;-1;-1;-1;-1;-1;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${pkgid}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>true</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="0--查询platform-redis安装主机" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-redis</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
            <intProp name="groupSize">200</intProp>
            <longProp name="timeoutInMs">0</longProp>
          </SyncTimer>
          <hashTree/>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">redis_hostId</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..hostId</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">-1</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">log.error(&quot;${hostId_1}&quot;);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
            <boolProp name="ResultCollector.error_logging">false</boolProp>
            <objProp>
              <name>saveConfig</name>
              <value class="SampleSaveConfiguration">
                <time>true</time>
                <latency>true</latency>
                <timestamp>true</timestamp>
                <success>true</success>
                <label>true</label>
                <code>true</code>
                <message>true</message>
                <threadName>true</threadName>
                <dataType>true</dataType>
                <encoding>false</encoding>
                <assertions>true</assertions>
                <subresults>true</subresults>
                <responseData>false</responseData>
                <samplerData>false</samplerData>
                <xml>false</xml>
                <fieldNames>true</fieldNames>
                <responseHeaders>false</responseHeaders>
                <requestHeaders>false</requestHeaders>
                <responseDataOnError>false</responseDataOnError>
                <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                <assertionsResultsToSave>0</assertionsResultsToSave>
                <bytes>true</bytes>
                <sentBytes>true</sentBytes>
                <url>true</url>
                <threadCounts>true</threadCounts>
                <idleTime>true</idleTime>
                <connectTime>true</connectTime>
              </value>
            </objProp>
            <stringProp name="filename"></stringProp>
          </ResultCollector>
          <hashTree/>
        </hashTree>
        <LoopController guiclass="LoopControlPanel" testclass="LoopController" testname="开启所有redis" enabled="true">
          <boolProp name="LoopController.continue_forever">true</boolProp>
          <stringProp name="LoopController.loops">${redis_hostId_matchNr}</stringProp>
        </LoopController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="关闭所有redis-0" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments">
                <elementProp name="pkgId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${redis_pkgid}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">pkgId</stringProp>
                </elementProp>
                <elementProp name="hostId" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">${__V(redis_hostId_${__counter(,)})}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                  <boolProp name="HTTPArgument.use_equals">true</boolProp>
                  <stringProp name="Argument.name">hostId</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol">http</stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/pkgs/stop</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <SetupThreadGroup guiclass="SetupThreadGroupGui" testclass="SetupThreadGroup" testname="前置条件" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </SetupThreadGroup>
      <hashTree>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置全局变量" enabled="true">
          <stringProp name="BeanShellSampler.query">String url=&quot;${__P(request.url)}&quot;;
//vars.put(&quot;url&quot;,url);
vars.put(&quot;url&quot;,&quot;10.1.61.117&quot;);</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.61.101" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.61.101&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.61.101" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.61.101,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.61.101,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};

${__setProperty(MeterSphere.url,10.1.61.109,)};
${__setProperty(MeterSphere.protocol,http,)};
${__setProperty(MeterSphere.port,8930,)};

${__setProperty(esIp,&quot;10.1.62.136&quot;,)};
${__setProperty(hots_num,5,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.60.234" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.60.234&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.60.234" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.60.234,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.60.234,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};

${__setProperty(MeterSphere.url,10.1.60.234,)};
${__setProperty(MeterSphere.protocol,http,)};
${__setProperty(MeterSphere.port,8930,)};

${__setProperty(esIp,&quot;10.1.60.234&quot;,)};
${__setProperty(hots_num,5,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.56.159" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.56.159&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.56.159" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.56.159,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.56.159,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};

${__setProperty(MeterSphere.url,10.1.56.159,)};
${__setProperty(MeterSphere.protocol,http,)};
${__setProperty(MeterSphere.port,8930,)};

${__setProperty(esIp,&quot;10.1.56.161&quot;,)};
${__setProperty(hots_num,5,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.56.163" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.56.163&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.56.163" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.56.163,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.62.16,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,7508,)};
${__setProperty(esIp,&quot;10.1.56.163&quot;,)};
${__setProperty(hots_num,5,)};
//String url=&quot;${__P(request.url)}&quot;;
//System.out.println(url);

${__setProperty(MeterSphere.url,10.1.61.152,)};
${__setProperty(MeterSphere.protocol,http,)};
${__setProperty(MeterSphere.port,8930,)};

${__setProperty(hots_num,5,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果环境是10.1.61.117" enabled="true">
          <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;url&quot;) == &quot;10.1.61.117&quot; )}</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <boolProp name="IfController.useExpression">true</boolProp>
        </IfController>
        <hashTree>
          <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="10.1.61.117" enabled="true">
            <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

////调试用
${__setProperty(omp.url,10.1.61.117,)};
${__setProperty(omp.protocol,http,)};
${__setProperty(omp.port,7500,)};

${__setProperty(tenant.url,10.1.50.105,)};
${__setProperty(tenant.protocol,http,)};
${__setProperty(tenant.port,80,)};
${__setProperty(esIp,&quot;10.1.56.65&quot;,)};
${__setProperty(mysqlIp,&quot;10.1.61.11&quot;,)};
${__setProperty(mysqlpasswd,&quot;4SKVCz2g12&quot;,)};
${__setProperty(hostname,&quot;v10-1-61-111&quot;,)};

${__setProperty(hots_num,5,)};
//String url=&quot;${__P(request.url)}&quot;;
//System.out.println(url);

${__setProperty(MeterSphere.url,10.1.61.111,)};
${__setProperty(MeterSphere.protocol,http,)};
${__setProperty(MeterSphere.port,8930,)};
${__setProperty(password,&quot;Admin@123&quot;,)};
${__setProperty(hots_num,5,)};
String url=&quot;${__P(request.url)}&quot;;
System.out.println(url);</stringProp>
            <stringProp name="BeanShellSampler.filename"></stringProp>
            <stringProp name="BeanShellSampler.parameters"></stringProp>
            <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
          </BeanShellSampler>
          <hashTree/>
        </hashTree>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="设置默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(tenant.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(tenant.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(tenant.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{	&quot;email&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:${__P(password,)}&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/tenant/api/v1/user/login</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <RegexExtractor guiclass="RegexExtractorGui" testclass="RegexExtractor" testname="正则表达式提取器" enabled="true">
            <stringProp name="RegexExtractor.useHeaders">false</stringProp>
            <stringProp name="RegexExtractor.refname">token</stringProp>
            <stringProp name="RegexExtractor.regex">&quot;token&quot;:&quot;(.*?)&quot;</stringProp>
            <stringProp name="RegexExtractor.template">$1$</stringProp>
            <stringProp name="RegexExtractor.default"></stringProp>
            <stringProp name="RegexExtractor.match_number">0</stringProp>
          </RegexExtractor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">${__setProperty(token,${token},)};
//${__setProperty(timestamp,${timestamp},)}
//String t=&quot;${__time()}&quot;;
//vars.put(&quot;timestamp&quot;,t);
//log.error(${token}+&quot;&quot;);



</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="获取apikey" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/tenant/serviceapi/api/v1/tenant/view?tenantId=e10adc3949ba59abbe56e057f20f88dd</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">false</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">false</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">apikey</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..apiKeys[0].key</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">e10adc3949ba59abbe56e057f20f88dd</stringProp>
            <stringProp name="Scope.variable"></stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">${__setProperty(apikey,&quot;${apikey}&quot;,)};</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="1、databank自监控采集功能测试17.30kafkastream" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-请求头" enabled="false">
          <collectionProp name="CookieManager.cookies">
            <elementProp name="token" elementType="Cookie" testname="token">
              <stringProp name="Cookie.value">${__P(token,)}</stringProp>
              <stringProp name="Cookie.domain">${__P(request.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
          </collectionProp>
          <boolProp name="CookieManager.clearEachIteration">false</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="自监控配置不自愈" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-599722165">自监控配置不自愈17.30kafkastream</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-正常进程采集" enabled="true">
          <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${mysqlIp}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${mysqlpasswd}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int kafkastreams_value=-1;
int msphere_value=-1;
int solution_value=-1;
int deploy_value=-1;
int core_value=-1;
int kafka_value=-1;
int store_metric_value=-1;
int mongodb_value=-1;
int redis_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	
		if(np.contains(&quot;kafkastreams&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;msphere&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 msphere_value=job.getInt(&quot;msphere&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 store_metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;redis&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}
	vars.put(&quot;msphere&quot;,msphere_value+&quot;&quot;);
	vars.put(&quot;solution&quot;,solution_value+&quot;&quot;);
	vars.put(&quot;deploy&quot;,deploy_value+&quot;&quot;);
	vars.put(&quot;core&quot;,core_value+&quot;&quot;);
	vars.put(&quot;kafka&quot;,kafka_value+&quot;&quot;);
	vars.put(&quot;metric&quot;,store_metric_value+&quot;&quot;);
	vars.put(&quot;mongodb&quot;,mongodb_value+&quot;&quot;);
	vars.put(&quot;kafkastreams&quot;,kafkastreams_value+&quot;&quot;);
	vars.put(&quot;redis&quot;,redis_value+&quot;&quot;);
	}
 }
//log.error(apps_str.getString());</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">String deploy_value= vars.get(&quot;deploy&quot;);
String kafkastreams_value= vars.get(&quot;kafkastreams&quot;);
String msphere_value= vars.get(&quot;msphere&quot;);
String solution_value= vars.get(&quot;solution&quot;);
String kafka_value= vars.get(&quot;kafka&quot;);
String core_value= vars.get(&quot;core&quot;);
String metric_value= vars.get(&quot;metric&quot;);
String mongodb_value= vars.get(&quot;mongodb&quot;);
String redis_value= vars.get(&quot;redis&quot;);
String result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+redis_value+msphere_value;

if(result.equals(&quot;111111111&quot;)){
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-正常链路采集" enabled="true">
          <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 4,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${mysqlIp}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${mysqlpasswd}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
          <stringProp name="TestPlan.comments">查询4条数据：告警规则分析，指标阀值分析，指标处理查询，告警存储查询</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int alert_value=-1;
int kafka_value=-1;
int mongodb_value=-1;
int store_metric_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
		if(np.contains(&quot;alert-web&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 alert_value=job.getInt(&quot;alert-web&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;kafka&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;store-metric&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 store_metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}
	vars.put(&quot;alert&quot;,alert_value+&quot;&quot;);
	vars.put(&quot;kafka&quot;,kafka_value+&quot;&quot;);
	vars.put(&quot;mongodb&quot;,mongodb_value+&quot;&quot;);
	vars.put(&quot;metric&quot;,store_metric_value+&quot;&quot;);
	}
 }
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;result2&quot;,&quot;99&quot;);
//log.error(apps_str.getString());</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">String alert_value= vars.get(&quot;alert&quot;);
String kafka_value= vars.get(&quot;kafka&quot;);
String metric_value= vars.get(&quot;metric&quot;);
String mongodb_value= vars.get(&quot;mongodb&quot;);
String result=kafka_value+metric_value+mongodb_value+alert_value;

if(!result.contains(&quot;3&quot;)){
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程（全部关闭链路就采集不到了）" enabled="false">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-124499282">关闭部分自监控进程kafkastream</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="取消自愈后关闭后检查采集情况" enabled="false">
          <stringProp name="WhileController.condition">${__javaScript(( &quot;${result}&quot;==&quot;99&quot; || &quot;${result2}&quot;==&quot;99&quot; ) &amp;&amp; &quot;${num}&quot;!=&quot;50&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);
//设置初始化值为1，当出现数据后累加到5，保证数据返回的完整性
vars.put(&quot;num2&quot;,&quot;1&quot;);
//vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
//vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
//vars.put(&quot;core_value&quot;,&quot;-1&quot;);
//vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
//vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
//vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num2 = new Integer(vars.get(&quot;num2&quot;));
num2++;
vars.put(&quot;num2&quot;,num2+&quot;&quot;);
if(num2&lt;=5){
	return;
}
log.error(&quot;=====真的来了========&quot;);

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value=-1;
int solution_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;
int deploy_value=-1;

for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;deploy&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
		log.error(deploy_value+&quot;deploy&quot;);
	}
	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
result=kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+deploy_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
 
      


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);
log.error(value);
if(value.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(value.equals(&quot;0&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+value;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result2&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常链路采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [      {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;:  &quot;${timestamp}&quot;            }           }         },      {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;:6,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">20000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result2&quot;,&quot;99&quot;);
if(!(text2.contains(&quot;告警存储查询&quot;)&amp;&amp;text2.contains(&quot;指标处理查询&quot;)&amp;&amp;text2.contains(&quot;告警规则分析&quot;)&amp;&amp;text2.contains(&quot;指标�?值分�?&quot;))){
	log.error(&quot;没返回完整数据&quot;);
	return;
}
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int alert_value=-1;
int kafka_value=-1;
int store_metric_value=-1;
int mongodb_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	if(np.contains(&quot;alert-web&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		alert_value=job.getInt(&quot;alert-web&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;store-metric&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		store_metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}
	}
}
//vars.put(&quot;alert_value&quot;,alert_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;store_metric_value&quot;,store_metric_value+&quot;&quot;);
result2=alert_value+kafka_value+mongodb_value+store_metric_value;
vars.put(&quot;result2&quot;,result2+&quot;&quot;);


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">预期链路挂掉后都为3，result=12</stringProp>
                <stringProp name="BeanShellAssertion.query">int result2= new Integer(vars.get(&quot;result2&quot;));
String result=vars.get(&quot;result&quot;);
log.error(result2+&quot;result2&quot;);
if(result2==99){
	return;
}else if(result2&lt;12){
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result2;
	return;
}else{
	Failure = false;
	FailureMessage = &quot;采集到了正常的挂掉的指标&quot;;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭全部进程" enabled="false">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1689561066">关闭全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="临时修改变量" enabled="false">
          <stringProp name="BeanShellSampler.query">//重新赋值result，供下面关闭全部进程用
vars.put(&quot;result&quot;,&quot;99&quot;);</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="全部异常进程采集" enabled="false">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;51&quot;   ,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp2&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp2&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);
vars.put(&quot;num22&quot;,&quot;1&quot;);
//vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
//vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
//vars.put(&quot;core_value&quot;,&quot;-1&quot;);
//vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
//vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
//vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num22 = new Integer(vars.get(&quot;num22&quot;));
num22++;
vars.put(&quot;num22&quot;,num22+&quot;&quot;);
if(num22&lt;=5){
	return;
}
log.error(&quot;=====真的来了========&quot;+num22);

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value=-1;
int solution_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;
int deploy_value=-1;
int msphere_value=-1;
int redis_value=-1;


for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;deploy&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
		log.error(deploy_value+&quot;deploy&quot;);
	}
	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;msphere&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		msphere_value=job.getInt(&quot;msphere&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;redis&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
result=kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+deploy_value+redis_value+msphere_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
 
      

log.error(kafkastreams_value+&quot;&quot;);
log.error(solution_value+&quot;&quot;);
log.error(kafka_value+&quot;&quot;);
log.error(core_value+&quot;&quot;);
log.error(metric_value+&quot;&quot;);
log.error(mongodb_value+&quot;&quot;);
log.error(deploy_value+&quot;&quot;);
log.error(redis_value+&quot;&quot;);
log.error(msphere_value+&quot;&quot;);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);
log.error(value);
if(value.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(value.equals(&quot;0&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+value;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：开启全部进程" enabled="false">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-438118465">开启全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="1、databank自监控采集功能测试17.30hadoop" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-请求头" enabled="false">
          <collectionProp name="CookieManager.cookies">
            <elementProp name="token" elementType="Cookie" testname="token">
              <stringProp name="Cookie.value">${__P(token,)}</stringProp>
              <stringProp name="Cookie.domain">${__P(request.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
          </collectionProp>
          <boolProp name="CookieManager.clearEachIteration">false</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="自监控配置不自愈" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1717044192">自监控配置不自愈17.30hadoop</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-正常进程采集" enabled="true">
          <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${mysqlIp}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${mysqlpasswd}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int spark_value=-1;
int msphere_value=-1;
int solution_value=-1;
int deploy_value=-1;
int core_value=-1;
int kafka_value=-1;
int store_metric_value=-1;
int mongodb_value=-1;
int redis_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	
		if(np.contains(&quot;spark\&quot;:{\&quot;master\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
	 spark_value=job.getInt(&quot;master&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;msphere&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 msphere_value=job.getInt(&quot;msphere&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 store_metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;redis&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}
	vars.put(&quot;msphere&quot;,msphere_value+&quot;&quot;);
	vars.put(&quot;solution&quot;,solution_value+&quot;&quot;);
	vars.put(&quot;deploy&quot;,deploy_value+&quot;&quot;);
	vars.put(&quot;core&quot;,core_value+&quot;&quot;);
	vars.put(&quot;kafka&quot;,kafka_value+&quot;&quot;);
	vars.put(&quot;metric&quot;,store_metric_value+&quot;&quot;);
	vars.put(&quot;mongodb&quot;,mongodb_value+&quot;&quot;);
	vars.put(&quot;spark&quot;,spark_value+&quot;&quot;);
	vars.put(&quot;redis&quot;,redis_value+&quot;&quot;);
	}
 }
//log.error(apps_str.getString());</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">String deploy_value= vars.get(&quot;deploy&quot;);
String spark_value= vars.get(&quot;spark&quot;);
String msphere_value= vars.get(&quot;msphere&quot;);
String solution_value= vars.get(&quot;solution&quot;);
String kafka_value= vars.get(&quot;kafka&quot;);
String core_value= vars.get(&quot;core&quot;);
String metric_value= vars.get(&quot;metric&quot;);
String mongodb_value= vars.get(&quot;mongodb&quot;);
String redis_value= vars.get(&quot;redis&quot;);
String result=deploy_value+spark_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+redis_value+msphere_value;

if(!deploy_value.equals(&quot;1&quot;)){
	log.error(&quot;deploy采集错误&quot;+deploy_value);
}
if(!spark_value.equals(&quot;1&quot;)){
	log.error(&quot;spark采集错误&quot;+spark_value);
	log.error(&quot;检查是否spark没有任务导致的&quot;);
}
if(!solution_value.equals(&quot;1&quot;)){
	log.error(&quot;solution采集错误&quot;+solution_value);
}
if(!kafka_value.equals(&quot;1&quot;)){
	log.error(&quot;kafka采集错误&quot;+kafka_value);
}
if(!core_value.equals(&quot;1&quot;)){
	log.error(&quot;core采集错误&quot;+core_value);
}
if(!metric_value.equals(&quot;1&quot;)){
	log.error(&quot;metric采集错误&quot;+metric_value);
}
if(!mongodb_value.equals(&quot;1&quot;)){
	log.error(&quot;mongdob采集错误&quot;+mongodb_value);
}
if(!redis_value.equals(&quot;1&quot;)){
	log.error(&quot;redis采集错误&quot;+redis_value);
}
if(!msphere_value.equals(&quot;1&quot;)){
	log.error(&quot;msphere采集错误&quot;+msphere_value);
}

if(result.equals(&quot;111111111&quot;)){
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-正常链路采集" enabled="true">
          <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 4,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${mysqlIp}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${mysqlpasswd}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
          <stringProp name="TestPlan.comments">查询4条数据：告警规则分析，指标阀值分析，指标处理查询，告警存储查询</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int alert_value=-1;
int kafka_value=-1;
int mongodb_value=-1;
int store_metric_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
		if(np.contains(&quot;alert-web&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 alert_value=job.getInt(&quot;alert-web&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;kafka&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;store-metric&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 store_metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}
	vars.put(&quot;alert&quot;,alert_value+&quot;&quot;);
	vars.put(&quot;kafka&quot;,kafka_value+&quot;&quot;);
	vars.put(&quot;mongodb&quot;,mongodb_value+&quot;&quot;);
	vars.put(&quot;metric&quot;,store_metric_value+&quot;&quot;);
	}
 }
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;result2&quot;,&quot;99&quot;);
//log.error(apps_str.getString());</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">String alert_value= vars.get(&quot;alert&quot;);
String kafka_value= vars.get(&quot;kafka&quot;);
String metric_value= vars.get(&quot;metric&quot;);
String mongodb_value= vars.get(&quot;mongodb&quot;);
String result=kafka_value+metric_value+mongodb_value+alert_value;

if(kafka_value.equals(&quot;3&quot;)){
	log.error(&quot;kafka链路采集错误&quot;+kafka_value);
}
if(metric_value.equals(&quot;3&quot;)){
	log.error(&quot;metric链路采集错误&quot;+metric_value);
}
if(mongodb_value.equals(&quot;3&quot;)){
	log.error(&quot;mongodb链路采集错误&quot;+mongodb_value);
}
if(alert_value.equals(&quot;3&quot;)){
	log.error(&quot;alert链路采集错误&quot;+alert_value);
}
if(!result.contains(&quot;3&quot;)){
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程（全部关闭链路就采集不到了）" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="369155741">关闭部分自监控进程hadoop</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="进程停止后检查采集情况" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(( &quot;${result}&quot;==&quot;99&quot; || &quot;${result2}&quot;==&quot;99&quot; ) &amp;&amp; &quot;${num}&quot;!=&quot;50&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);
//设置初始化值为1，当出现数据后累加到5，保证数据返回的完整性
vars.put(&quot;num2&quot;,&quot;1&quot;);
//vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
//vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
//vars.put(&quot;core_value&quot;,&quot;-1&quot;);
//vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
//vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
//vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num2 = new Integer(vars.get(&quot;num2&quot;));
num2++;
vars.put(&quot;num2&quot;,num2+&quot;&quot;);
if(num2&lt;=5){
	return;
}
log.error(&quot;=====真的来了========&quot;);

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int spark_value=-1;
int solution_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;
int deploy_value=-1;

for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;spark\&quot;:{\&quot;master\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
		spark_value=job.getInt(&quot;master&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;deploy&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
		log.error(deploy_value+&quot;deploy&quot;);
	}
	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;spark_value&quot;,spark_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
result=spark_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+deploy_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
if(spark_value!=0){
	log.error(&quot;spark采集错误&quot;+spark_value);
}
if(solution_value!=0){
	log.error(&quot;solution采集错误&quot;+solution_value);
}
if(kafka_value!=0){
	log.error(&quot;kafka采集错误&quot;+kafka_value);
}
if(core_value!=0){
	log.error(&quot;core采集错误&quot;+core_value);
}
if(metric_value!=0){
	log.error(&quot;store-metirc采集错误&quot;+metric_value);
}
if(mongodb_value!=0){
	log.error(&quot;mongodb采集错误&quot;+mongodb_value);
}
if(deploy_value!=0){
	log.error(&quot;deploy采集错误&quot;+deploy_value);
}
      


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);
log.error(value);
if(value.equals(&quot;99&quot;)){
	Failure = false;
	log.error(&quot;没采集到，直接返回&quot;);
	return;
}else if(value.equals(&quot;0&quot;)){
	Failure = false;
	log.error(&quot;测试通过&quot;);
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+value;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result2&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常链路采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [      {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;:  &quot;${timestamp}&quot;            }           }         },      {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;:6,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">20000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result2&quot;,&quot;99&quot;);
if(!(text2.contains(&quot;告警存储查询&quot;)&amp;&amp;text2.contains(&quot;指标处理查询&quot;)&amp;&amp;text2.contains(&quot;告警规则分析&quot;)&amp;&amp;text2.contains(&quot;指标�?值分�?&quot;))){
	log.error(&quot;没返回完整数据&quot;);
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num2 = new Integer(vars.get(&quot;num2&quot;));
num2++;
vars.put(&quot;num2&quot;,num2+&quot;&quot;);
if(num2&lt;=8){
	return;
}
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int alert_value=-1;
int kafka_value=-1;
int store_metric_value=-1;
int mongodb_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	if(np.contains(&quot;alert-web&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		alert_value=job.getInt(&quot;alert-web&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;store-metric&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		store_metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}
	}
}
//vars.put(&quot;alert_value&quot;,alert_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;store_metric_value&quot;,store_metric_value+&quot;&quot;);
result2=alert_value+kafka_value+mongodb_value+store_metric_value;
vars.put(&quot;result2&quot;,result2+&quot;&quot;);


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">预期链路挂掉后都为3，result=12</stringProp>
                <stringProp name="BeanShellAssertion.query">int result2= new Integer(vars.get(&quot;result2&quot;));
String result=vars.get(&quot;result&quot;);
log.error(result2+&quot;result2&quot;);
if(result2==99){
	log.error(&quot;没有数据，直接返回&quot;);
	return;
}else if(result2&lt;12){
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result2;
	return;
}else{
	Failure = false;
	FailureMessage = &quot;采集到了正常的挂掉的指标&quot;;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭全部进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1689561066">关闭全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="临时修改变量" enabled="true">
          <stringProp name="BeanShellSampler.query">//重新赋值result，供下面关闭全部进程用
vars.put(&quot;result&quot;,&quot;99&quot;);</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="全部异常进程采集" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;51&quot;   ,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp2&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp2&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);
vars.put(&quot;num22&quot;,&quot;1&quot;);
//vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
//vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
//vars.put(&quot;core_value&quot;,&quot;-1&quot;);
//vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
//vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
//vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp2}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num22 = new Integer(vars.get(&quot;num22&quot;));
num22++;
vars.put(&quot;num22&quot;,num22+&quot;&quot;);
if(num22&lt;=8){
	return;
}
log.error(&quot;=====真的来了========&quot;+num22);

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int spark_value=-1;
int solution_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;
int deploy_value=-1;
int msphere_value=-1;
int redis_value=-1;


for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;spark\&quot;:{\&quot;master\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
		spark_value=job.getInt(&quot;master&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;deploy&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;msphere&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		msphere_value=job.getInt(&quot;msphere&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;redis&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;spark_value&quot;,spark_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
result=spark_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+deploy_value+redis_value+msphere_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
 
      

log.error(spark_value+&quot;&quot;);
log.error(solution_value+&quot;&quot;);
log.error(kafka_value+&quot;&quot;);
log.error(core_value+&quot;&quot;);
log.error(metric_value+&quot;&quot;);
log.error(mongodb_value+&quot;&quot;);
log.error(deploy_value+&quot;&quot;);
log.error(redis_value+&quot;&quot;);
log.error(msphere_value+&quot;&quot;);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);

if(value.equals(&quot;99&quot;)){
	log.error(&quot;没有数据，直接返回&quot;);
	Failure = false;
	return;
}else if(value.equals(&quot;0&quot;)){
	Failure = false;
	log.error(&quot;测试通过&quot;);
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+value;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：开启全部进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-438118465">开启全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="1、databank自监控采集功能测试18.10.0hadoop√" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
        <stringProp name="TestPlan.comments">每条数据采集一个指标了，不支持多区域</stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-请求头" enabled="false">
          <collectionProp name="CookieManager.cookies">
            <elementProp name="token" elementType="Cookie" testname="token">
              <stringProp name="Cookie.value">${__P(token,)}</stringProp>
              <stringProp name="Cookie.domain">${__P(request.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
          </collectionProp>
          <boolProp name="CookieManager.clearEachIteration">false</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;result2&quot;,&quot;99&quot;);
vars.put(&quot;result3&quot;,&quot;99&quot;);
vars.put(&quot;result4&quot;,&quot;99&quot;);

vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
vars.put(&quot;password&quot;,&quot;Tm9zNTc1Jg==&quot;);
vars.put(&quot;mysqlIp&quot;,${__P(mysqlIp,)});
vars.put(&quot;mysqlpasswd&quot;,${__P(mysqlpasswd,)});
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="自监控配置不自愈" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1717044192">自监控配置不自愈17.30hadoop</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="1.采集功能测试-正常进程采集" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;10&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <stringProp name="TestPlan.comments">第一次初始化，都设置为-1</stringProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="初始化采集的值为-1" enabled="true">
              <stringProp name="TestPlan.comments">不采集msphere</stringProp>
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);

vars.put(&quot;spark_value&quot;,&quot;-1&quot;);
vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
vars.put(&quot;deploy_value&quot;,&quot;-1&quot;);
vars.put(&quot;core_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;redis_value&quot;,&quot;-1&quot;);
vars.put(&quot;web_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="各指标取最新值，只取一次，防止状态变动" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-正常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/*metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 100,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//采集可能前几次不完整有些主机的指标没有采集到的，但是，也可能快的值已经自愈了，导致采集到的值已经更新为了1，所以我们只能采集一次
//如果不先声明，后面会报错
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int spark_value,solution_value,core_value,deploy_value,kafka_value,metric_value,mongodb_value,redis_value,web_value;
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if(vars.get(&quot;kafkastreams_value&quot;)==&quot;-1&quot;){
//	 kafkastreams_value=-1;
//}else{
//	 kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
//}
if(vars.get(&quot;spark_value&quot;)==&quot;-1&quot;){
	 spark_value=-1;
}else{
	 spark_value=new Integer(vars.get(&quot;spark_value&quot;));
}
if(vars.get(&quot;deploy_value&quot;)==&quot;-1&quot;){
	 deploy_value=-1;
}else{
	 deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
}
if(vars.get(&quot;solution_value&quot;)==&quot;-1&quot;){
	 solution_value=-1;
}else{
	 solution_value=new Integer(vars.get(&quot;solution_value&quot;));
}
if(vars.get(&quot;core_value&quot;)==&quot;-1&quot;){
	 core_value=-1;
}else{
	 core_value=new Integer(vars.get(&quot;core_value&quot;));
}
if(vars.get(&quot;kafka_value&quot;)==&quot;-1&quot;){
	 kafka_value=-1;
}else{
	 kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
}
if(vars.get(&quot;metric_value&quot;)==&quot;-1&quot;){
	 metric_value=-1;
}else{
	 metric_value=new Integer(vars.get(&quot;metric_value&quot;));
}
if(vars.get(&quot;mongodb_value&quot;)==&quot;-1&quot;){
	 mongodb_value=-1;
}else{
	 mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
}
if(vars.get(&quot;redis_value&quot;)==&quot;-1&quot;){
	 redis_value=-1;
}else{
	 redis_value=new Integer(vars.get(&quot;redis_value&quot;));
}
if(vars.get(&quot;web_value&quot;)==&quot;-1&quot;){
	 web_value=-1;
}else{
	 web_value=new Integer(vars.get(&quot;web_value&quot;));
}
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
//	log.error(np);
//	if(np.contains(&quot;kafkastreams&quot;)){
//		if(kafkastreams_value==-1){
//		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
//		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
//	}}
	if(np.contains(&quot;{\&quot;spark\&quot;:{\&quot;&quot;)){
		if(spark_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
		if(job.getInt(&quot;worker&quot;)==1&amp;&amp;job.getInt(&quot;shuffle&quot;)==1&amp;&amp;job.getInt(&quot;master&quot;)==1){
		 	spark_value=1; //得到每个对象中的id值
		}else{
			//随便给一个不同的值
			spark_value=-1;
		}
	}}
	if(np.contains(&quot;deploy&quot;)){
		if(deploy_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;solution&quot;)){
		if(solution_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;core&quot;)){
		if(core_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		if(kafka_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;metric\&quot;&quot;)){
		if(metric_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;mongodb&quot;)){
		if(mongodb_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;redis&quot;)){
		if(redis_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;web&quot;)){
		if(web_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		web_value=job.getInt(&quot;web&quot;); //得到每个对象中的id值
	}}
 }
vars.put(&quot;spark_value&quot;,spark_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;redis_value&quot;,redis_value+&quot;&quot;);
vars.put(&quot;web_value&quot;,web_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
//log.error(&quot;0000000&quot;+solution_value+kafka_value+core_value+metric_value+mongodb_value);
String result=&quot;&quot;+spark_value+deploy_value+redis_value+web_value+solution_value+core_value+metric_value+mongodb_value+kafka_value;
if(result.contains(&quot;-1&quot;)){
	vars.put(&quot;result&quot;,&quot;99&quot;);
	log.error(&quot;执行到此了&quot;+result);
}else{
	vars.put(&quot;result&quot;,result);
}
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String result= vars.get(&quot;result&quot;);
log.error(result);
if(result.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(result.equals(&quot;111111111&quot;)){
	Failure = false;
	log.error(&quot;测试通过&quot;);
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="2.采集功能测试-正常链路采集" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result2}&quot;==&quot;99&quot; &amp;&amp; &quot;${num2}&quot;!=&quot;10&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="设置循环次数" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">10</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num2</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="变量初始化，查询范围设置" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp2&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <stringProp name="TestPlan.comments">第一次初始化，都设置为-1</stringProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="初始化采集的值为-1" enabled="true">
              <stringProp name="TestPlan.comments">不采集msphere</stringProp>
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp2&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);

vars.put(&quot;alert_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="各指标取最新值，只取一次，防止状态变动" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result2&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="2.采集功能测试-正常链路采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/*metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
              <stringProp name="TestPlan.comments">查询4条数据：告警规则分析，指标阀值分析，指标处理查询，告警存储查询</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//采集可能前几次不完整有些主机的指标没有采集到的，但是，也可能快的值已经自愈了，导致采集到的值已经更新为了1，所以我们只能采集一次
//如果不先声明，后面会报错
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int alert_value,kafka_value,mongodb_value,metric_value;
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
if(vars.get(&quot;alert_value&quot;)==&quot;-1&quot;){
	 alert_value=-1;
}else{
	 alert_value=new Integer(vars.get(&quot;alert_value&quot;));
}
if(vars.get(&quot;kafka_value&quot;)==&quot;-1&quot;){
	 kafka_value=-1;
}else{
	 kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
}
if(vars.get(&quot;mongodb_value&quot;)==&quot;-1&quot;){
	 mongodb_value=-1;
}else{
	 mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
}
if(vars.get(&quot;metric_value&quot;)==&quot;-1&quot;){
	 metric_value=-1;
}else{
	 metric_value=new Integer(vars.get(&quot;metric_value&quot;));
}

for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;alert-web&quot;)){
		if(alert_value==-1){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		alert_value=job.getInt(&quot;alert-web&quot;);
	}}
	if(np.contains(&quot;kafka&quot;)){
		if(kafka_value==-1){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;store-metric&quot;)){
		if(metric_value==-1){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);
	 	metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;mongodb&quot;)){
		if(mongodb_value==-1){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
}
vars.put(&quot;alert_value&quot;,alert_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//log.error(&quot;0000000&quot;+solution_value+kafka_value+core_value+metric_value+mongodb_value);
String result=&quot;&quot;+alert_value+kafka_value+metric_value+mongodb_value;
if(result.contains(&quot;-1&quot;)){
	vars.put(&quot;result2&quot;,&quot;99&quot;);
}else{
	vars.put(&quot;result2&quot;,result);
}
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="BeanShellAssertion.query">String alert_value= vars.get(&quot;alert_value&quot;);
String kafka_value= vars.get(&quot;kafka_value&quot;);
String metric_value= vars.get(&quot;metric_value&quot;);
String mongodb_value= vars.get(&quot;mongodb_value&quot;);
String result=kafka_value+metric_value+mongodb_value+alert_value;

if(kafka_value.equals(&quot;3&quot;)){
	log.error(&quot;kafka链路采集错误&quot;+kafka_value);
}
if(metric_value.equals(&quot;3&quot;)){
	log.error(&quot;metric链路采集错误&quot;+metric_value);
}
if(mongodb_value.equals(&quot;3&quot;)){
	log.error(&quot;mongodb链路采集错误&quot;+mongodb_value);
}
if(alert_value.equals(&quot;3&quot;)){
	log.error(&quot;alert链路采集错误&quot;+alert_value);
}
if(!result.contains(&quot;3&quot;)){
	FailureMessage = &quot;采集到了正常指标&quot;;
	vars.put(&quot;result2&quot;,result);
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程（全部关闭链路就采集不到了）" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="369155741">关闭部分自监控进程hadoop</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="进程停止后检查采集情况" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(( &quot;${result3}&quot;==&quot;99&quot; || &quot;${result4}&quot;==&quot;99&quot; ) &amp;&amp; &quot;${num3}&quot;!=&quot;20&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数，执行多少次停止循环" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num3</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化变量，设置查询开始时间，过滤掉旧的采集数据" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp3&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp3&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);

vars.put(&quot;spark_value&quot;,&quot;-1&quot;);
vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
vars.put(&quot;deploy_value&quot;,&quot;-1&quot;);
vars.put(&quot;core_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;redis_value&quot;,&quot;-1&quot;);
vars.put(&quot;web_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="开始对异常进程采集进行检查" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result3&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/*metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp3}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 100,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">20000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//采集可能前几次不完整有些主机的指标没有采集到的，但是，也可能快的值已经自愈了，导致采集到的值已经更新为了1，所以我们只能采集一次
//如果不先声明，后面会报错
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int spark_value,solution_value,core_value,deploy_value,kafka_value,metric_value,mongodb_value,redis_value,web_value;
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if(vars.get(&quot;kafkastreams_value&quot;)==&quot;-1&quot;){
//	 kafkastreams_value=-1;
//}else{
//	 kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
//}
if(vars.get(&quot;spark_value&quot;)==&quot;-1&quot;){
	 spark_value=-1;
}else{
	 spark_value=new Integer(vars.get(&quot;spark_value&quot;));
}
if(vars.get(&quot;deploy_value&quot;)==&quot;-1&quot;){
	 deploy_value=-1;
}else{
	 deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
}
if(vars.get(&quot;solution_value&quot;)==&quot;-1&quot;){
	 solution_value=-1;
}else{
	 solution_value=new Integer(vars.get(&quot;solution_value&quot;));
}
if(vars.get(&quot;core_value&quot;)==&quot;-1&quot;){
	 core_value=-1;
}else{
	 core_value=new Integer(vars.get(&quot;core_value&quot;));
}
if(vars.get(&quot;kafka_value&quot;)==&quot;-1&quot;){
	 kafka_value=-1;
}else{
	 kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
}
if(vars.get(&quot;metric_value&quot;)==&quot;-1&quot;){
	 metric_value=-1;
}else{
	 metric_value=new Integer(vars.get(&quot;metric_value&quot;));
}
if(vars.get(&quot;mongodb_value&quot;)==&quot;-1&quot;){
	 mongodb_value=-1;
}else{
	 mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
}
if(vars.get(&quot;redis_value&quot;)==&quot;-1&quot;){
	 redis_value=-1;
}else{
	 redis_value=new Integer(vars.get(&quot;redis_value&quot;));
}
if(vars.get(&quot;web_value&quot;)==&quot;-1&quot;){
	 web_value=-1;
}else{
	 web_value=new Integer(vars.get(&quot;web_value&quot;));
}
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
//	log.error(np);
//	if(np.contains(&quot;kafkastreams&quot;)){
//		if(kafkastreams_value==-1){
//		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
//		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
//	}}
	if(np.contains(&quot;{\&quot;spark\&quot;:{\&quot;&quot;)){
		if(spark_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
		if(job.getInt(&quot;worker&quot;)==0&amp;&amp;job.getInt(&quot;shuffle&quot;)==0&amp;&amp;job.getInt(&quot;master&quot;)==0){
		 	spark_value=0; //得到每个对象中的id值
		}else{
			//随便给一个不同的值
			spark_value=4;
		}
	}}
	if(np.contains(&quot;deploy&quot;)){
		if(deploy_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;solution&quot;)){
		if(solution_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;core&quot;)){
		if(core_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		if(kafka_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;metric\&quot;&quot;)){
		if(metric_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;mongodb&quot;)){
		if(mongodb_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
//	if(np.contains(&quot;redis&quot;)){
//		if(redis_value==-1){
//		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
//		redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
//	}}
	if(np.contains(&quot;web&quot;)){
		if(web_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		web_value=job.getInt(&quot;web&quot;); //得到每个对象中的id值
	}}
 }
vars.put(&quot;spark_value&quot;,spark_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;redis_value&quot;,redis_value+&quot;&quot;);
vars.put(&quot;web_value&quot;,web_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
//log.error(&quot;0000000&quot;+solution_value+kafka_value+core_value+metric_value+mongodb_value);
String result=&quot;&quot;+spark_value+deploy_value+web_value+solution_value+core_value+metric_value+mongodb_value+kafka_value;
if(result.contains(&quot;-1&quot;)){
	vars.put(&quot;result3&quot;,&quot;99&quot;);
}else{
vars.put(&quot;result3&quot;,result);
}
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String result= vars.get(&quot;result3&quot;);
log.error(result);
if(result.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(result.equals(&quot;00000000&quot;)){
	Failure = false;
	log.error(&quot;测试通过&quot;);
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="开始对异常链路进行检查" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result4&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常链路采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/*metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [      {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;:  &quot;${timestamp}&quot;            }           }         },      {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;:100,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">30000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result2&quot;,&quot;99&quot;);
if(!(text2.contains(&quot;告警存储查询&quot;)&amp;&amp;text2.contains(&quot;指标处理查询&quot;)&amp;&amp;text2.contains(&quot;告警规则分析&quot;)&amp;&amp;text2.contains(&quot;指标�?值分�?&quot;))){
	log.error(&quot;没返回完整数据&quot;);
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
//int num2 = new Integer(vars.get(&quot;num2&quot;));
//num2++;
//vars.put(&quot;num2&quot;,num2+&quot;&quot;);
//if(num2&lt;=5){
//	return;
//}
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int alert_value=-1;
int kafka_value=-1;
int store_metric_value=-1;
int mongodb_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	log.error(np);
	if(np.contains(&quot;alert-web&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		alert_value=job.getInt(&quot;alert-web&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;store-metric&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		store_metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}
	}
}
String result4=alert_value+kafka_value+mongodb_value+store_metric_value+&quot;&quot;;
vars.put(&quot;result4&quot;,result4+&quot;&quot;);

log.error(result4);
</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">预期链路挂掉后都为3，result=12</stringProp>
                <stringProp name="BeanShellAssertion.query">int result4= new Integer(vars.get(&quot;result4&quot;));
log.error(result4+&quot;result4&quot;);
if(result4==99){
	log.error(&quot;没有数据，直接返回&quot;);
	return;
}else if(result4&lt;12){
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result4;
	return;
}else{
	Failure = false;
	FailureMessage = &quot;采集到了正常的挂掉的指标&quot;;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭全部进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1689561066">关闭全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="临时修改变量" enabled="true">
          <stringProp name="BeanShellSampler.query">//重新赋值result，供下面关闭全部进程用
vars.put(&quot;result&quot;,&quot;99&quot;);</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="全部异常进程采集" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;51&quot;   ,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <stringProp name="TestPlan.comments">第一次初始化，都设置为-1</stringProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="初始化采集的值为-1" enabled="true">
              <stringProp name="TestPlan.comments">不采集msphere</stringProp>
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);

vars.put(&quot;spark_value&quot;,&quot;-1&quot;);
vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
vars.put(&quot;deploy_value&quot;,&quot;-1&quot;);
vars.put(&quot;core_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;redis_value&quot;,&quot;-1&quot;);
vars.put(&quot;web_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="各指标取最新值，只取一次，防止状态变动" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-全部异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/*metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [      {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },      {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 100,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//采集可能前几次不完整有些主机的指标没有采集到的，但是，也可能快的值已经自愈了，导致采集到的值已经更新为了1，所以我们只能采集一次
//如果不先声明，后面会报错
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int spark_value,solution_value,core_value,deploy_value,kafka_value,metric_value,mongodb_value,redis_value,web_value;
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if(vars.get(&quot;kafkastreams_value&quot;)==&quot;-1&quot;){
//	 kafkastreams_value=-1;
//}else{
//	 kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
//}
if(vars.get(&quot;spark_value&quot;)==&quot;-1&quot;){
	 spark_value=-1;
}else{
	 spark_value=new Integer(vars.get(&quot;spark_value&quot;));
}
if(vars.get(&quot;deploy_value&quot;)==&quot;-1&quot;){
	 deploy_value=-1;
}else{
	 deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
}
if(vars.get(&quot;solution_value&quot;)==&quot;-1&quot;){
	 solution_value=-1;
}else{
	 solution_value=new Integer(vars.get(&quot;solution_value&quot;));
}
if(vars.get(&quot;core_value&quot;)==&quot;-1&quot;){
	 core_value=-1;
}else{
	 core_value=new Integer(vars.get(&quot;core_value&quot;));
}
if(vars.get(&quot;kafka_value&quot;)==&quot;-1&quot;){
	 kafka_value=-1;
}else{
	 kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
}
if(vars.get(&quot;metric_value&quot;)==&quot;-1&quot;){
	 metric_value=-1;
}else{
	 metric_value=new Integer(vars.get(&quot;metric_value&quot;));
}
if(vars.get(&quot;mongodb_value&quot;)==&quot;-1&quot;){
	 mongodb_value=-1;
}else{
	 mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
}
if(vars.get(&quot;redis_value&quot;)==&quot;-1&quot;){
	 redis_value=-1;
}else{
	 redis_value=new Integer(vars.get(&quot;redis_value&quot;));
}
if(vars.get(&quot;web_value&quot;)==&quot;-1&quot;){
	 web_value=-1;
}else{
	 web_value=new Integer(vars.get(&quot;web_value&quot;));
}
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
//	log.error(np);
//	if(np.contains(&quot;kafkastreams&quot;)){
//		if(kafkastreams_value==-1){
//		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
//		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
//	}}
	if(np.contains(&quot;{\&quot;spark\&quot;:{\&quot;&quot;)){
		if(spark_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
		if(job.getInt(&quot;worker&quot;)==0&amp;&amp;job.getInt(&quot;shuffle&quot;)==0&amp;&amp;job.getInt(&quot;master&quot;)==0){
		 	spark_value=0; //得到每个对象中的id值
		}
	}}
	if(np.contains(&quot;deploy&quot;)){
		if(deploy_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;solution&quot;)){
		if(solution_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;core&quot;)){
		if(core_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		if(kafka_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;metric\&quot;&quot;)){
		if(metric_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;mongodb&quot;)){
		if(mongodb_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;redis&quot;)){
		if(redis_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;web&quot;)){
		if(web_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		web_value=job.getInt(&quot;web&quot;); //得到每个对象中的id值
	}}
 }
vars.put(&quot;spark_value&quot;,spark_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;redis_value&quot;,redis_value+&quot;&quot;);
vars.put(&quot;web_value&quot;,web_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);

log.error(&quot;测试结果是&quot;+spark_value+deploy_value+redis_value+web_value+solution_value+core_value+metric_value+mongodb_value+kafka_value);
String result=&quot;&quot;+spark_value+deploy_value+redis_value+web_value+solution_value+core_value+metric_value+mongodb_value+kafka_value;
if(result.contains(&quot;-1&quot;)){
	vars.put(&quot;result&quot;,&quot;99&quot;);
}else{
vars.put(&quot;result&quot;,result);
}
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String result= vars.get(&quot;result&quot;);
log.error(result);
if(result.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(result.equals(&quot;000000000&quot;)){
	Failure = false;
	log.error(&quot;测试通过&quot;);
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">20000</stringProp>
              </ConstantTimer>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：开启全部进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-438118465">开启全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="1、databank自监控采集功能测试16.460hadoop" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-请求头" enabled="false">
          <collectionProp name="CookieManager.cookies">
            <elementProp name="token" elementType="Cookie" testname="token">
              <stringProp name="Cookie.value">${__P(token,)}</stringProp>
              <stringProp name="Cookie.domain">${__P(request.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
          </collectionProp>
          <boolProp name="CookieManager.clearEachIteration">false</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="自监控配置不自愈" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1286926708">自监控配置不自愈16.460hadoop</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-正常进程采集" enabled="true">
          <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${mysqlIp}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${mysqlpasswd}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int spark_value=-1;
int msphere_value=-1;
int solution_value=-1;
int deploy_value=-1;
int core_value=-1;
int kafka_value=-1;
int store_metric_value=-1;
int mongodb_value=-1;
int redis_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	
		if(np.contains(&quot;spark\&quot;:{\&quot;master\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
	 spark_value=job.getInt(&quot;master&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;msphere&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 msphere_value=job.getInt(&quot;msphere&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 store_metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;redis&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}
	vars.put(&quot;msphere&quot;,msphere_value+&quot;&quot;);
	vars.put(&quot;solution&quot;,solution_value+&quot;&quot;);
	vars.put(&quot;deploy&quot;,deploy_value+&quot;&quot;);
	vars.put(&quot;core&quot;,core_value+&quot;&quot;);
	vars.put(&quot;kafka&quot;,kafka_value+&quot;&quot;);
	vars.put(&quot;metric&quot;,store_metric_value+&quot;&quot;);
	vars.put(&quot;mongodb&quot;,mongodb_value+&quot;&quot;);
	vars.put(&quot;spark&quot;,spark_value+&quot;&quot;);
	vars.put(&quot;redis&quot;,redis_value+&quot;&quot;);
	}
 }
//log.error(apps_str.getString());</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">String deploy_value= vars.get(&quot;deploy&quot;);
String spark_value= vars.get(&quot;spark&quot;);
String msphere_value= vars.get(&quot;msphere&quot;);
String solution_value= vars.get(&quot;solution&quot;);
String kafka_value= vars.get(&quot;kafka&quot;);
String core_value= vars.get(&quot;core&quot;);
String metric_value= vars.get(&quot;metric&quot;);
String mongodb_value= vars.get(&quot;mongodb&quot;);
String redis_value= vars.get(&quot;redis&quot;);
String result=deploy_value+spark_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+redis_value+msphere_value;

if(result.equals(&quot;111111111&quot;)){
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-正常链路采集" enabled="true">
          <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 4,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${mysqlIp}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${mysqlpasswd}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
          <stringProp name="TestPlan.comments">查询4条数据：告警规则分析，指标阀值分析，指标处理查询，告警存储查询</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int alert_value=-1;
int kafka_value=-1;
int mongodb_value=-1;
int store_metric_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
		if(np.contains(&quot;alert-web&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 alert_value=job.getInt(&quot;alert-web&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;kafka&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;store-metric&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 store_metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}
	vars.put(&quot;alert&quot;,alert_value+&quot;&quot;);
	vars.put(&quot;kafka&quot;,kafka_value+&quot;&quot;);
	vars.put(&quot;mongodb&quot;,mongodb_value+&quot;&quot;);
	vars.put(&quot;metric&quot;,store_metric_value+&quot;&quot;);
	}
 }
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;result2&quot;,&quot;99&quot;);
//log.error(apps_str.getString());</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">String alert_value= vars.get(&quot;alert&quot;);
String kafka_value= vars.get(&quot;kafka&quot;);
String metric_value= vars.get(&quot;metric&quot;);
String mongodb_value= vars.get(&quot;mongodb&quot;);
String result=kafka_value+metric_value+mongodb_value+alert_value;

if(!result.contains(&quot;3&quot;)){
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程（全部关闭链路就采集不到了）" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="369155741">关闭部分自监控进程hadoop</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="进程停止后检查采集情况" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(( &quot;${result}&quot;==&quot;99&quot; || &quot;${result2}&quot;==&quot;99&quot; ) &amp;&amp; &quot;${num}&quot;!=&quot;50&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);
//设置初始化值为1，当出现数据后累加到5，保证数据返回的完整性
vars.put(&quot;num2&quot;,&quot;1&quot;);
//vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
//vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
//vars.put(&quot;core_value&quot;,&quot;-1&quot;);
//vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
//vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
//vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num2 = new Integer(vars.get(&quot;num2&quot;));
num2++;
vars.put(&quot;num2&quot;,num2+&quot;&quot;);
if(num2&lt;=5){
	return;
}
log.error(&quot;=====真的来了========&quot;);

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int spark_value=-1;
int solution_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;
int deploy_value=-1;

for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;spark\&quot;:{\&quot;master\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
		spark_value=job.getInt(&quot;master&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;deploy&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
		log.error(deploy_value+&quot;deploy&quot;);
	}
	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;spark_value&quot;,spark_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
result=spark_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+deploy_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
 
      


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);
log.error(value);
if(value.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(value.equals(&quot;0&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+value;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result2&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常链路采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [      {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;:  &quot;${timestamp}&quot;            }           }         },      {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;:6,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">20000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result2&quot;,&quot;99&quot;);
if(!(text2.contains(&quot;告警存储查询&quot;)&amp;&amp;text2.contains(&quot;指标处理查询&quot;)&amp;&amp;text2.contains(&quot;告警规则分析&quot;)&amp;&amp;text2.contains(&quot;指标�?值分�?&quot;))){
	log.error(&quot;没返回完整数据&quot;);
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num2 = new Integer(vars.get(&quot;num2&quot;));
num2++;
vars.put(&quot;num2&quot;,num2+&quot;&quot;);
if(num2&lt;=8){
	return;
}
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int alert_value=-1;
int kafka_value=-1;
int store_metric_value=-1;
int mongodb_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	if(np.contains(&quot;alert-web&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		alert_value=job.getInt(&quot;alert-web&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;store-metric&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		store_metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}
	}
}
//vars.put(&quot;alert_value&quot;,alert_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;store_metric_value&quot;,store_metric_value+&quot;&quot;);
result2=alert_value+kafka_value+mongodb_value+store_metric_value;
vars.put(&quot;result2&quot;,result2+&quot;&quot;);


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">预期链路挂掉后都为3，result=12</stringProp>
                <stringProp name="BeanShellAssertion.query">int result2= new Integer(vars.get(&quot;result2&quot;));
String result=vars.get(&quot;result&quot;);
log.error(result2+&quot;result2&quot;);
if(result2==99){
	return;
}else if(result2&lt;12){
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result2;
	return;
}else{
	Failure = false;
	FailureMessage = &quot;采集到了正常的挂掉的指标&quot;;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭全部进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1689561066">关闭全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="临时修改变量" enabled="true">
          <stringProp name="BeanShellSampler.query">//重新赋值result，供下面关闭全部进程用
vars.put(&quot;result&quot;,&quot;99&quot;);

</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="全部异常进程采集" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num22}&quot;!=&quot;51&quot;   ,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp2&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp2&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);
vars.put(&quot;num22&quot;,&quot;1&quot;);
//vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
//vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
//vars.put(&quot;core_value&quot;,&quot;-1&quot;);
//vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
//vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
//vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp2}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num22 = new Integer(vars.get(&quot;num22&quot;));
num22++;
vars.put(&quot;num22&quot;,num22+&quot;&quot;);
if(num22&lt;=5){
	return;
}
log.error(&quot;=====真的来了========&quot;+num22);

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int spark_value=-1;
int solution_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;
int deploy_value=-1;
int msphere_value=-1;
int redis_value=-1;


for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;spark\&quot;:{\&quot;master\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
		spark_value=job.getInt(&quot;master&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;deploy&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
		log.error(deploy_value+&quot;deploy&quot;);
	}
	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;msphere&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		msphere_value=job.getInt(&quot;msphere&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;redis&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;spark_value&quot;,spark_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
result=spark_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+deploy_value+redis_value+msphere_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
 
      

log.error(spark_value+&quot;&quot;);
log.error(solution_value+&quot;&quot;);
log.error(kafka_value+&quot;&quot;);
log.error(core_value+&quot;&quot;);
log.error(metric_value+&quot;&quot;);
log.error(mongodb_value+&quot;&quot;);
log.error(deploy_value+&quot;&quot;);
log.error(redis_value+&quot;&quot;);
log.error(msphere_value+&quot;&quot;);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);
log.error(value);
if(value.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(value.equals(&quot;0&quot;)){
	Failure = false;
	log.error(&quot;测试通过&quot;);
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+value;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：开启全部进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-438118465">开启全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="databank自监控采集功能测试16.460√kafkastream" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="测试准备1-请求头" enabled="false">
          <collectionProp name="CookieManager.cookies">
            <elementProp name="token" elementType="Cookie" testname="token">
              <stringProp name="Cookie.value">${__P(token,)}</stringProp>
              <stringProp name="Cookie.domain">${__P(request.url,)}</stringProp>
              <stringProp name="Cookie.path"></stringProp>
              <boolProp name="Cookie.secure">false</boolProp>
              <longProp name="Cookie.expires">0</longProp>
              <boolProp name="Cookie.path_specified">true</boolProp>
              <boolProp name="Cookie.domain_specified">true</boolProp>
            </elementProp>
          </collectionProp>
          <boolProp name="CookieManager.clearEachIteration">false</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-正常进程采集" enabled="true">
          <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${mysqlIp}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${mysqlpasswd}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int kafkastreams_value=-1;
int solution_value=-1;
int core_value=-1;
int kafka_value=-1;
int store_metric_value=-1;
int mongodb_value=-1;
int redis_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	
		if(np.contains(&quot;kafkastreams&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}

		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}

		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 store_metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;redis&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	 redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}

	vars.put(&quot;solution&quot;,solution_value+&quot;&quot;);
	vars.put(&quot;core&quot;,core_value+&quot;&quot;);
	vars.put(&quot;kafka&quot;,kafka_value+&quot;&quot;);
	vars.put(&quot;metric&quot;,store_metric_value+&quot;&quot;);
	vars.put(&quot;mongodb&quot;,mongodb_value+&quot;&quot;);
	vars.put(&quot;kafkastreams&quot;,kafkastreams_value+&quot;&quot;);
	vars.put(&quot;redis&quot;,redis_value+&quot;&quot;);
	}
 }
//log.error(apps_str.getString());</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">String kafkastreams_value= vars.get(&quot;kafkastreams&quot;);
String solution_value= vars.get(&quot;solution&quot;);
String kafka_value= vars.get(&quot;kafka&quot;);
String core_value= vars.get(&quot;core&quot;);
String metric_value= vars.get(&quot;metric&quot;);
String mongodb_value= vars.get(&quot;mongodb&quot;);
String redis_value= vars.get(&quot;redis&quot;);
String result=kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+redis_value;
if(result.equals(&quot;1111111&quot;)){
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-正常链路采集" enabled="true">
          <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 4,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
          <intProp name="connectionTimeout">50000</intProp>
          <stringProp name="hostname">${mysqlIp}</stringProp>
          <stringProp name="passphrase"></stringProp>
          <stringProp name="password">${mysqlpasswd}</stringProp>
          <intProp name="port">22</intProp>
          <boolProp name="printStdErr">true</boolProp>
          <stringProp name="sshkeyfile"></stringProp>
          <boolProp name="useReturnCode">true</boolProp>
          <stringProp name="username">root</stringProp>
        </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
        <hashTree>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int alert_value=-1;
int kafka_value=-1;
int mongodb_value=-1;
int store_metric_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
		if(np.contains(&quot;alert-web&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 alert_value=job.getInt(&quot;alert-web&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;kafka&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
		if(np.contains(&quot;store-metric&quot;)){
	JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
	 store_metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}
	vars.put(&quot;alert&quot;,alert_value+&quot;&quot;);
	vars.put(&quot;kafka&quot;,kafka_value+&quot;&quot;);
	vars.put(&quot;mongodb&quot;,mongodb_value+&quot;&quot;);
	vars.put(&quot;metric&quot;,store_metric_value+&quot;&quot;);
	}
 }
 vars.put(&quot;result&quot;,&quot;99&quot;);
 vars.put(&quot;result2&quot;,&quot;99&quot;);
//log.error(apps_str.getString());</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">String alert_value= vars.get(&quot;alert&quot;);
String kafka_value= vars.get(&quot;kafka&quot;);
String metric_value= vars.get(&quot;metric&quot;);
String mongodb_value= vars.get(&quot;mongodb&quot;);
String result=kafka_value+metric_value+mongodb_value+alert_value;
if(!result.contains(&quot;3&quot;)){
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分的进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1146096760">关闭部分自监控进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="取消自愈后关闭后检查采集情况" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(( &quot;${result}&quot;==&quot;99&quot; || &quot;${result2}&quot;==&quot;99&quot; ) &amp;&amp; &quot;${num}&quot;!=&quot;50&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);
vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
vars.put(&quot;core_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num = new Integer(vars.get(&quot;num&quot;));
num++;
vars.put(&quot;num&quot;,num+&quot;&quot;);
if(num&lt;=5){
	return;
}
log.error(&quot;=====真的来了========&quot;);

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value=-1;
int solution_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
result=kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
 
      


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);
log.error(value);
if(value.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(value.equals(&quot;0&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+value;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result2&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常链路采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [      {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;:  &quot;${timestamp}&quot;            }           }         },      {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;chain&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;:6,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result2&quot;,&quot;99&quot;);
if(!(text2.contains(&quot;告警存储查询&quot;)&amp;&amp;text2.contains(&quot;指标处理查询&quot;)&amp;&amp;text2.contains(&quot;告警规则分析&quot;)&amp;&amp;text2.contains(&quot;指标�?值分�?&quot;))){
	log.error(&quot;没返回完整数据&quot;);
	return;
}
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int alert_value=-1;
int kafka_value=-1;
int store_metric_value=-1;
int mongodb_value=-1;
if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	if(np.contains(&quot;alert-web&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		alert_value=job.getInt(&quot;alert-web&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;store-metric&quot;)){
		JSONObject job = source.getJSONObject(&quot;chain&quot;).getJSONObject(&quot;state&quot;);//把每一个对象转成json对象
		store_metric_value=job.getInt(&quot;store-metric&quot;); //得到每个对象中的id值
	}
	}
}
//vars.put(&quot;alert_value&quot;,alert_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;store_metric_value&quot;,store_metric_value+&quot;&quot;);
result2=alert_value+kafka_value+mongodb_value+store_metric_value;
vars.put(&quot;result2&quot;,result2+&quot;&quot;);
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">预期链路挂掉后都为3，result=12</stringProp>
                <stringProp name="BeanShellAssertion.query">int result2= new Integer(vars.get(&quot;result2&quot;));
String result=vars.get(&quot;result&quot;);
log.error(result2+&quot;result2&quot;);
if(result2==99){
	return;
}else if(result2&lt;12){
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result2;
	return;
}else{
	Failure = false;
	FailureMessage = &quot;采集到了正常的挂掉的指标&quot;;
	//重新赋值result，供下面关闭全部进程用
	vars.put(&quot;result&quot;,&quot;99&quot;);
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭全部进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1689561066">关闭全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="全部异常进程采集" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot;  &amp;&amp; &quot;${num}&quot;!=&quot;50&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp2&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp2&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);
vars.put(&quot;num22&quot;,&quot;1&quot;);
//vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
//vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
//vars.put(&quot;core_value&quot;,&quot;-1&quot;);
//vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
//vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
//vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num22 = new Integer(vars.get(&quot;num22&quot;));
num22++;
vars.put(&quot;num22&quot;,num22+&quot;&quot;);
if(num22&lt;=5){
	return;
}
log.error(&quot;=====真的来了========&quot;+num22);

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value=-1;
int solution_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;

int msphere_value=-1;
int redis_value=-1;


for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}

	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;msphere&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		msphere_value=job.getInt(&quot;msphere&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;redis&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
result=kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value+redis_value+msphere_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
 
      

log.error(kafkastreams_value+&quot;&quot;);
log.error(solution_value+&quot;&quot;);
log.error(kafka_value+&quot;&quot;);
log.error(core_value+&quot;&quot;);
log.error(metric_value+&quot;&quot;);
log.error(mongodb_value+&quot;&quot;);
log.error(redis_value+&quot;&quot;);
log.error(msphere_value+&quot;&quot;);</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);
log.error(value);
if(value.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(value.equals(&quot;0&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+value;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：开启全部进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-438118465">开启全部进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="2、databank自监控自愈功能测试" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

//vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1146096760">关闭部分自监控进程</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="关闭后的采集校验" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__time()}&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)!=${hots_num}){
	return;
}
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value=-1;
int solution_value=-1;
int deploy_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;deploy&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	  	deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
log.error(mongodb_value+&quot;&quot;);
log.error(deploy_value+&quot;&quot;);
log.error(kafkastreams_value+&quot;&quot;);
log.error(solution_value+&quot;&quot;);
log.error(kafka_value+&quot;&quot;);
log.error(core_value+&quot;&quot;);
log.error(metric_value+&quot;&quot;);


result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
 
      


//log.error(apps_str.getString());</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
              <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
              <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);

if(value.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(value.equals(&quot;0&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+value;
	return;
}</stringProp>
              <stringProp name="BeanShellAssertion.filename"></stringProp>
              <stringProp name="BeanShellAssertion.parameters"></stringProp>
              <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
            </BeanShellAssertion>
            <hashTree/>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器采集都是0====================" enabled="false">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;0&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="If Controller" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__time()}&quot;);
String kafkastreams_value=&quot;-1&quot;;
String solution_value=&quot;-1&quot;;
String deploy_value=&quot;-1&quot;;
String core_value=&quot;-1&quot;;
String kafka_value=&quot;-1&quot;;
String metric_value=&quot;-1&quot;;
String mongodb_value=&quot;-1&quot;;
vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value);
vars.put(&quot;solution_value&quot;,solution_value);
vars.put(&quot;deploy_value&quot;,deploy_value);
vars.put(&quot;core_value&quot;,core_value);
vars.put(&quot;metric_value&quot;,metric_value);
vars.put(&quot;mongodb_value&quot;,mongodb_value);
vars.put(&quot;kafka_value&quot;,kafka_value);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
//vars.put(&quot;result&quot;,&quot;99&quot;);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value=-1;
int solution_value=-1;
int deploy_value=-1;
int core_value=-1;
int kafka_value=-1;
int metric_value=-1;
int mongodb_value=-1;
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	if(np.contains(&quot;kafkastreams&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;solution&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;deploy&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	  	deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;core&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;metric\&quot;&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}
	if(np.contains(&quot;mongodb&quot;)){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}
	
 }
//vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
//vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
//vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
//vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
//vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
//vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
//vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
 
      


//log.error(apps_str.getString());</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="false">
              <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
              <stringProp name="BeanShellAssertion.query">String value= vars.get(&quot;result&quot;);
log.error(value);
//if(value.equals(&quot;99&quot;)){
//	Failure = false;
//	return;
//}else if(value.equals(&quot;0&quot;)){
//	Failure = false;
//	FailureMessage = &quot;采集到了正常指标&quot;;
//	return;
//}else{
//	Failure = true;
//	FailureMessage  = &quot;采集到了错误指标&quot;+value;
//	return;
//}</stringProp>
              <stringProp name="BeanShellAssertion.filename"></stringProp>
              <stringProp name="BeanShellAssertion.parameters"></stringProp>
              <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
            </BeanShellAssertion>
            <hashTree/>
          </hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="false">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 3,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
int solution_value=new Integer(vars.get(&quot;solution_value&quot;));
int deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
int core_value=new Integer(vars.get(&quot;core_value&quot;));
int kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
int metric_value=new Integer(vars.get(&quot;metric_value&quot;));
int mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));

if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
	
		if(np.contains(&quot;kafkastreams&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (kafkastreams_value==-1){
	 kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;solution&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (solution_value==-1){
	 solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;deploy&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (deploy_value==-1){
	 deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;core&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	if (core_value==-1){
	 core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;kafka\&quot;&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (kafka_value==-1){
	 kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}
	}
		if(np.contains(&quot;metric\&quot;:&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	if (metric_value==-1){
	 metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
		if(np.contains(&quot;mongodb&quot;)){
	JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
	if (mongodb_value==-1){
	 mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
	}
 }
vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
	int result=deploy_value+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
	log.error(result+&quot;&quot;);
	vars.put(&quot;result&quot;,result+&quot;&quot;);
//log.error(apps_str.getString());</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询ES已触发告警" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;7&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="If Controller" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;flag2&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">String kafkastreams_value=&quot;-1&quot;;
String solution_value=&quot;-1&quot;;
String deploy_value=&quot;-1&quot;;
String core_value=&quot;-1&quot;;
String kafka_value=&quot;-1&quot;;
String metric_value=&quot;-1&quot;;
String mongodb_value=&quot;-1&quot;;
vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value);
vars.put(&quot;solution_value&quot;,solution_value);
vars.put(&quot;deploy_value&quot;,deploy_value);
vars.put(&quot;core_value&quot;,core_value);
vars.put(&quot;metric_value&quot;,metric_value);
vars.put(&quot;mongodb_value&quot;,mongodb_value);
vars.put(&quot;kafka_value&quot;,kafka_value);
vars.put(&quot;flag2&quot;,&quot;flag2&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了告警事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data =new String(prev.getResponseData(),&quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
int solution_value=new Integer(vars.get(&quot;solution_value&quot;));
int deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
int core_value=new Integer(vars.get(&quot;core_value&quot;));
int kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
int metric_value=new Integer(vars.get(&quot;metric_value&quot;));
int mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));

if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
//	String np=Str2china(source.toString());
//	String ss=new String(np.getBytes, &quot;GBK&quot;);
	log.error(np);
		if(np.contains(&quot;kafka进程�?新�?�已达到0, 进程不存�?&quot;)){
				if (kafka_value==-1){
	 kafka_value=1; //得到每个对象中的id值
	 log.error(&quot;kafka&quot;);
	}}
		if(np.contains(&quot;mongodb进程�?新�?�已达到0, 进程不存�?&quot;)){
			if (mongodb_value==-1){
	mongodb_value=1;
	log.error(&quot;mongodb_value&quot;);
	}}
		if(np.contains(&quot;databank-core进程�?新�?�已达到0, 进程不存�?&quot;)){
			if (core_value==-1){
	core_value=1;
	log.error(&quot;core_value&quot;);
	
	}}
		if(np.contains(&quot;platform-store-metric进程�?新�?�已达到0, 进程不存�?&quot;)){
			if (metric_value==-1){
	metric_value=1;
	log.error(&quot;metric_value&quot;);
	}}
		if(np.contains(&quot;databank-kafkastreams�?新�?�已达到0, 进程不存�?&quot;)){
			if (kafkastreams_value==-1){
	kafkastreams_value=1;
	log.error(&quot;kafkastreams_value&quot;);
	}}
		if(np.contains(&quot;databank-solution进程�?新�?�已达到0, 进程不存�?&quot;)){
			if (solution_value==-1){
	solution_value=1;
	log.error(&quot;solution_value&quot;);
	}}
		if(np.contains(&quot;databank-deploy进程�?新�?�已达到0, 进程不存�?&quot;)){
			if (deploy_value==-1){
	deploy_value=1;
	log.error(&quot;deploy_value&quot;);
	}}
	}
 }
 vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
int result=kafka_value+mongodb_value+core_value+metric_value+kafkastreams_value+solution_value+deploy_value;
log.error(result+&quot;&quot;);
vars.put(&quot;result&quot;,&quot;&quot;+result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="查询服务的状态是否恢复" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;1111111&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Omp123!&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询kafka服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-kafkastreams服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-kafkastreams</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-mongodb服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-mongodb</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value3</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-core服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value4</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-deploy服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-deploy</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value5</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-solution服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-solution</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value6</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-store-metric服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-store-metric</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value7</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">String value1=vars.get(&quot;value1&quot;);
String value2=vars.get(&quot;value2&quot;);
String value3=vars.get(&quot;value3&quot;);
String value4=vars.get(&quot;value4&quot;);
String value5=vars.get(&quot;value5&quot;);
String value6=vars.get(&quot;value6&quot;);
String value7=vars.get(&quot;value7&quot;);
String result=value1+value2+value3+value4+value5+value6+value7;
vars.put(&quot;result&quot;,result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询自愈事件是否产生" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;7&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="If Controller" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;flag3&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">
String kafkastreams_value=&quot;-1&quot;;
String solution_value=&quot;-1&quot;;
String deploy_value=&quot;-1&quot;;
String core_value=&quot;-1&quot;;
String kafka_value=&quot;-1&quot;;
String metric_value=&quot;-1&quot;;
String mongodb_value=&quot;-1&quot;;
vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value);
vars.put(&quot;solution_value&quot;,solution_value);
vars.put(&quot;deploy_value&quot;,deploy_value);
vars.put(&quot;core_value&quot;,core_value);
vars.put(&quot;metric_value&quot;,metric_value);
vars.put(&quot;mongodb_value&quot;,mongodb_value);
vars.put(&quot;kafka_value&quot;,kafka_value);
vars.put(&quot;flag3&quot;,&quot;flag3&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了自愈事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data =new String(prev.getResponseData(),&quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
int solution_value=new Integer(vars.get(&quot;solution_value&quot;));
int deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
int core_value=new Integer(vars.get(&quot;core_value&quot;));
int kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
int metric_value=new Integer(vars.get(&quot;metric_value&quot;));
int mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));

if(jsonArray.length()&gt;0){
	for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	np=source.toString();
//	String np=Str2china(source.toString());
//	String ss=new String(np.getBytes, &quot;GBK&quot;);
	log.error(np);
		if(np.contains(&quot;kafka进程自愈成功&quot;)){
				if (kafka_value==-1){
	 kafka_value=1; //得到每个对象中的id值
	}}
		if(np.contains(&quot;mongodb进程自愈成功&quot;)){
			if (mongodb_value==-1){
	mongodb_value=1;
	}}
		if(np.contains(&quot;databank-core进程自愈成功&quot;)){
			if (core_value==-1){
	core_value=1;
	}}
		if(np.contains(&quot;platform-store-metric进程自愈成功&quot;)){
			if (metric_value==-1){
	metric_value=1;
	}}
		if(np.contains(&quot;databank-kafkastreams自愈成功&quot;)){
			if (kafkastreams_value==-1){
	kafkastreams_value=1;
	}}
		if(np.contains(&quot;databank-solution进程自愈成功&quot;)){
	solution_value=1;
	}
		if(np.contains(&quot;databank-deploy进程自愈成功&quot;)){
			if (deploy_value==-1){
	deploy_value=1;
	}}
	}
 }
vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
int result=kafka_value+mongodb_value+core_value+metric_value+kafkastreams_value+solution_value+deploy_value;
log.error(result+&quot;&quot;);
vars.put(&quot;result&quot;,&quot;&quot;+result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="2、databank自监控自愈功能测试460√kafkastream" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

//vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-124499282">关闭部分自监控进程kafkastream</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="关闭后检查采集情况" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);

vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
vars.put(&quot;core_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}


//采集可能前几次不完整，但是，也可能快的值已经自愈了，导致采集到的值已经更新为了1，所以我们只能采集一次
//如果不先声明，后面会报错
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value,solution_value,core_value,kafka_value,metric_value,mongodb_value;

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
if(vars.get(&quot;kafkastreams_value&quot;)==&quot;-1&quot;){
	 kafkastreams_value=-1;
}else{
	 kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
}
if(vars.get(&quot;solution_value&quot;)==&quot;-1&quot;){
	 solution_value=-1;
}else{
	 solution_value=new Integer(vars.get(&quot;solution_value&quot;));
}
if(vars.get(&quot;core_value&quot;)==&quot;-1&quot;){
	 core_value=-1;
}else{
	 core_value=new Integer(vars.get(&quot;core_value&quot;));
}
if(vars.get(&quot;kafka_value&quot;)==&quot;-1&quot;){
	 kafka_value=-1;
}else{
	 kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
}
if(vars.get(&quot;metric_value&quot;)==&quot;-1&quot;){
	 metric_value=-1;
}else{
	 metric_value=new Integer(vars.get(&quot;metric_value&quot;));
}
if(vars.get(&quot;mongodb_value&quot;)==&quot;-1&quot;){
	 mongodb_value=-1;
}else{
	 mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
}
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	log.error(np);
	if(np.contains(&quot;kafkastreams&quot;)){
		if(kafkastreams_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;solution&quot;)){
		if(solution_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;core&quot;)){
		if(core_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		if(kafka_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;metric\&quot;&quot;)){
		if(metric_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;mongodb&quot;)){
		if(mongodb_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
	
 }
vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
log.error(&quot;0000000&quot;+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value);
result=kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);

      


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String result= vars.get(&quot;result&quot;);
log.error(result);
if(result.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(result.equals(&quot;0&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询ES已触发告警" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了告警事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_msphere_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;

String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int kafkastreams_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value = -1;
int metric_value = -1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
        log.error(np);
        if (np.contains(&quot;kafka进程�?新�?�已达到0, 进程不存�?&quot;)) {
            kafka_value = 1; //得到每个对象中的id值
            log.error(&quot;kafka&quot;);
        }
        if (np.contains(&quot;mongodb进程�?新�?�已达到0, 进程不存�?&quot;)) {
            mongodb_value = 1;
            log.error(&quot;mongodb_value&quot;);
        }
        if (np.contains(&quot;databank-core进程�?新�?�已达到0, 进程不存�?&quot;)) {
            core_value = 1;
            log.error(&quot;core_value&quot;);
        }
        if (np.contains(&quot;platform-store-metric进程�?新�?�已达到0, 进程不存�?&quot;)) {
            metric_value = 1;
            log.error(&quot;metric_value&quot;);
        }
        if (np.contains(&quot;databank-kafkastreams�?新�?�已达到0, 进程不存�?&quot;)) {
            kafkastreams_value = 1;
            log.error(&quot;kafkastreams_value&quot;);
        }
        if (np.contains(&quot;databank-solution进程�?新�?�已达到0, 进程不存�?&quot;)) {
            solution_value = 1;
            log.error(&quot;solution_value&quot;);
        }
    }
}
vars.put(&quot;kafkastreams_value&quot;, kafkastreams_value + &quot;&quot;);
vars.put(&quot;solution_value&quot;, solution_value + &quot;&quot;);
vars.put(&quot;core_value&quot;, core_value + &quot;&quot;);
vars.put(&quot;metric_value&quot;, metric_value + &quot;&quot;);
vars.put(&quot;mongodb_value&quot;, mongodb_value + &quot;&quot;);
vars.put(&quot;kafka_value&quot;, kafka_value + &quot;&quot;);
int result = kafka_value + mongodb_value + core_value + metric_value + kafkastreams_value + solution_value;
log.error(result + &quot;&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="查询服务的状态是否恢复" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;111111&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Admin@1234&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询kafka服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-kafkastreams服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-kafkastreams</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-mongodb服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-mongodb</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value3</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-core服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value4</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-solution服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-solution</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value6</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-store-metric服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-store-metric</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value7</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">String value1=vars.get(&quot;value1&quot;);
String value2=vars.get(&quot;value2&quot;);
String value3=vars.get(&quot;value3&quot;);
String value4=vars.get(&quot;value4&quot;);

String value6=vars.get(&quot;value6&quot;);
String value7=vars.get(&quot;value7&quot;);
String result=value1+value2+value3+value4+value6+value7;
vars.put(&quot;result&quot;,result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">10000</stringProp>
          </ConstantTimer>
          <hashTree/>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询自愈事件是否产生" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了自愈事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_msphere_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">30000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int kafkastreams_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value =-1;
int metric_value =-1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
//	String np=Str2china(source.toString());
//	String ss=new String(np.getBytes, &quot;GBK&quot;);
        log.error(np);
        if (np.contains(&quot;kafka进程自愈成功&quot;)) {
                kafka_value = 1; //得到每个对象中的id值
        }
        if (np.contains(&quot;mongodb进程自愈成功&quot;)) {
                mongodb_value = 1;
        }
        if (np.contains(&quot;databank-core进程自愈成功&quot;)) {
                core_value = 1;
        }
        if (np.contains(&quot;platform-store-metric进程自愈成功&quot;)) {
                metric_value = 1;
        }
        if (np.contains(&quot;databank-kafkastreams自愈成功&quot;)) {
                kafkastreams_value = 1;
        }
        if (np.contains(&quot;databank-solution进程自愈成功&quot;)) {
            solution_value = 1;
        }
    }
}

int result = kafka_value + mongodb_value + core_value + metric_value + kafkastreams_value + solution_value;
log.error(result + &quot;&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="2、databank自监控自愈功能测试17.310√hadoop" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

//vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="自监控配置自愈" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-1895685927">自监控配置打开自愈17.30</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-201288009">关闭部分进程hadoop给场景2用</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="关闭后检查采集情况" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);

vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
vars.put(&quot;core_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}


//采集可能前几次不完整有些主机的指标没有采集到的，但是，也可能快的值已经自愈了，导致采集到的值已经更新为了1，所以我们只能采集一次
//如果不先声明，后面会报错
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value,solution_value,core_value,kafka_value,metric_value,mongodb_value;

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if(vars.get(&quot;kafkastreams_value&quot;)==&quot;-1&quot;){
//	 kafkastreams_value=-1;
//}else{
//	 kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
//}
if(vars.get(&quot;solution_value&quot;)==&quot;-1&quot;){
	 solution_value=-1;
}else{
	 solution_value=new Integer(vars.get(&quot;solution_value&quot;));
}
if(vars.get(&quot;core_value&quot;)==&quot;-1&quot;){
	 core_value=-1;
}else{
	 core_value=new Integer(vars.get(&quot;core_value&quot;));
}
if(vars.get(&quot;kafka_value&quot;)==&quot;-1&quot;){
	 kafka_value=-1;
}else{
	 kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
}
if(vars.get(&quot;metric_value&quot;)==&quot;-1&quot;){
	 metric_value=-1;
}else{
	 metric_value=new Integer(vars.get(&quot;metric_value&quot;));
}
if(vars.get(&quot;mongodb_value&quot;)==&quot;-1&quot;){
	 mongodb_value=-1;
}else{
	 mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
}
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	log.error(np);
//	if(np.contains(&quot;kafkastreams&quot;)){
//		if(kafkastreams_value==-1){
//		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
//		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
//	}}
	if(np.contains(&quot;solution&quot;)){
		if(solution_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;core&quot;)){
		if(core_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		if(kafka_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;metric\&quot;&quot;)){
		if(metric_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;mongodb&quot;)){
		if(mongodb_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
	
 }
//vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
log.error(&quot;0000000&quot;+solution_value+kafka_value+core_value+metric_value+mongodb_value);
String message=&quot;结果&quot;+solution_value+kafka_value+core_value+metric_value+mongodb_value;
if(message.contains(&quot;-1&quot;)){
	vars.put(&quot;result&quot;,&quot;99&quot;);
}else{
result=solution_value+kafka_value+core_value+metric_value+mongodb_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
}

      


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String result= vars.get(&quot;result&quot;);
log.error(result);
if(result.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(result.equals(&quot;0&quot;)){
	Failure = false;
	log.error(&quot;测试通过&quot;);
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询ES已触发告警" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了告警事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;

String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int deploy_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value = -1;
int metric_value = -1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
        log.error(np);
        if (np.contains(&quot;kafka进程�?新�?�已达到0, 进程不存�?&quot;)) {
            kafka_value = 1; //得到每个对象中的id值
            log.error(&quot;kafka&quot;);
        }
        if (np.contains(&quot;mongodb进程�?新�?�已达到0, 进程不存�?&quot;)) {
            mongodb_value = 1;
            log.error(&quot;mongodb_value&quot;);
        }
        if (np.contains(&quot;databank-core进程�?新�?�已达到0, 进程不存�?&quot;)) {
            core_value = 1;
            log.error(&quot;core_value&quot;);
        }
        if (np.contains(&quot;platform-store-metric进程�?新�?�已达到0, 进程不存�?&quot;)) {
            metric_value = 1;
            log.error(&quot;metric_value&quot;);
        }
        if (np.contains(&quot;databank-deploy进程�?新�?�已达到0, 进程不存�?&quot;)) {
            deploy_value = 1;
            log.error(&quot;deploy_value&quot;);
        }
        if (np.contains(&quot;databank-solution进程�?新�?�已达到0, 进程不存�?&quot;)) {
            solution_value = 1;
            log.error(&quot;solution_value&quot;);
        }
    }
}
vars.put(&quot;deploy_value&quot;, deploy_value + &quot;&quot;);
vars.put(&quot;solution_value&quot;, solution_value + &quot;&quot;);
vars.put(&quot;core_value&quot;, core_value + &quot;&quot;);
vars.put(&quot;metric_value&quot;, metric_value + &quot;&quot;);
vars.put(&quot;mongodb_value&quot;, mongodb_value + &quot;&quot;);
vars.put(&quot;kafka_value&quot;, kafka_value + &quot;&quot;);
int result = kafka_value + mongodb_value + core_value + metric_value +  solution_value + deploy_value;
log.error(result + &quot;&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="查询服务的状态是否恢复" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;111111&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Omp123!&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询kafka服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-deploy服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-deploy</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-mongodb服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-mongodb</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value3</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-core服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value4</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-solution服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-solution</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value5</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-store-metric服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-store-metric</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value6</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">String value1=vars.get(&quot;value1&quot;);
String value2=vars.get(&quot;value2&quot;);
String value3=vars.get(&quot;value3&quot;);
String value4=vars.get(&quot;value4&quot;);
String value5=vars.get(&quot;value5&quot;);
String value6=vars.get(&quot;value6&quot;);
String result=value1+value2+value3+value4+value5+value6;
log.error(result);
vars.put(&quot;result&quot;,result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">10000</stringProp>
          </ConstantTimer>
          <hashTree/>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询自愈事件是否产生" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了自愈事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">30000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int deploy_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value =-1;
int metric_value =-1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
//	String np=Str2china(source.toString());
//	String ss=new String(np.getBytes, &quot;GBK&quot;);
        log.error(np);
        if (np.contains(&quot;kafka进程自愈成功&quot;)) {
                kafka_value = 1; //得到每个对象中的id值
        }
        if (np.contains(&quot;mongodb进程自愈成功&quot;)) {
                mongodb_value = 1;
        }
        if (np.contains(&quot;databank-core进程自愈成功&quot;)) {
                core_value = 1;
        }
        if (np.contains(&quot;platform-store-metric进程自愈成功&quot;)) {
                metric_value = 1;
        }
        if (np.contains(&quot;databank-deploy进程自愈成功&quot;)) {
                deploy_value = 1;
        }
        if (np.contains(&quot;databank-solution进程自愈成功&quot;)) {
            solution_value = 1;
        }
    }
}

int result = kafka_value + mongodb_value + core_value + metric_value +  solution_value + deploy_value;
log.error(result + &quot;&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="2、databank自监控自愈功能测试18.10√hadoop" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

//vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
vars.put(&quot;password&quot;,&quot;Tm9zNTc1Jg==&quot;);

vars.put(&quot;mysqlIp&quot;,${__P(mysqlIp,)});
vars.put(&quot;mysqlpasswd&quot;,${__P(mysqlpasswd,)});
vars.put(&quot;hostname&quot;,${__P(hostname,)});</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="自监控配置自愈" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-1895685927">自监控配置打开自愈17.30</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-201288009">关闭部分进程hadoop给场景2用</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="关闭后检查采集情况" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <stringProp name="TestPlan.comments">第一次初始化，都设置为-1</stringProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="初始化采集的值为-1" enabled="true">
              <stringProp name="TestPlan.comments">不采集msphere</stringProp>
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT2M,,)}&quot;);

vars.put(&quot;spark_value&quot;,&quot;-1&quot;);
vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
vars.put(&quot;deploy_value&quot;,&quot;-1&quot;);
vars.put(&quot;core_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;redis_value&quot;,&quot;-1&quot;);
vars.put(&quot;web_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="各指标取最新值，只取一次，防止状态变动" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/*metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [   {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },              {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 100,   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">20000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//采集可能前几次不完整有些主机的指标没有采集到的，但是，也可能快的值已经自愈了，导致采集到的值已经更新为了1，所以我们只能采集一次
//如果不先声明，后面会报错
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int spark_value,solution_value,core_value,deploy_value,kafka_value,metric_value,mongodb_value,redis_value,web_value;
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if(vars.get(&quot;kafkastreams_value&quot;)==&quot;-1&quot;){
//	 kafkastreams_value=-1;
//}else{
//	 kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
//}
if(vars.get(&quot;spark_value&quot;)==&quot;-1&quot;){
	 spark_value=-1;
}else{
	 spark_value=new Integer(vars.get(&quot;spark_value&quot;));
}
if(vars.get(&quot;deploy_value&quot;)==&quot;-1&quot;){
	 deploy_value=-1;
}else{
	 deploy_value=new Integer(vars.get(&quot;deploy_value&quot;));
}
if(vars.get(&quot;solution_value&quot;)==&quot;-1&quot;){
	 solution_value=-1;
}else{
	 solution_value=new Integer(vars.get(&quot;solution_value&quot;));
}
if(vars.get(&quot;core_value&quot;)==&quot;-1&quot;){
	 core_value=-1;
}else{
	 core_value=new Integer(vars.get(&quot;core_value&quot;));
}
if(vars.get(&quot;kafka_value&quot;)==&quot;-1&quot;){
	 kafka_value=-1;
}else{
	 kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
}
if(vars.get(&quot;metric_value&quot;)==&quot;-1&quot;){
	 metric_value=-1;
}else{
	 metric_value=new Integer(vars.get(&quot;metric_value&quot;));
}
if(vars.get(&quot;mongodb_value&quot;)==&quot;-1&quot;){
	 mongodb_value=-1;
}else{
	 mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
}
if(vars.get(&quot;redis_value&quot;)==&quot;-1&quot;){
	 redis_value=-1;
}else{
	 redis_value=new Integer(vars.get(&quot;redis_value&quot;));
}
if(vars.get(&quot;web_value&quot;)==&quot;-1&quot;){
	 web_value=-1;
}else{
	 web_value=new Integer(vars.get(&quot;web_value&quot;));
}
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
//	log.error(np);
//	if(np.contains(&quot;kafkastreams&quot;)){
//		if(kafkastreams_value==-1){
//		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
//		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
//	}}
	if(np.contains(&quot;{\&quot;spark\&quot;:{\&quot;&quot;)&amp;&amp;np.contains(&quot;${hostname}&quot;)){
		if(spark_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;spark&quot;);//把每一个对象转成json对象
		if(job.getInt(&quot;worker&quot;)==0&amp;&amp;job.getInt(&quot;shuffle&quot;)==0&amp;&amp;job.getInt(&quot;master&quot;)==0){
		 	spark_value=0; //得到每个对象中的id值
		}
	}}
	if(np.contains(&quot;deploy&quot;)&amp;&amp;np.contains(&quot;${hostname}&quot;)){
		if(deploy_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		&quot;hostname&quot;: &quot;&quot;
		deploy_value=job.getInt(&quot;deploy&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;solution&quot;)&amp;&amp;np.contains(&quot;${hostname}&quot;)){
		if(solution_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;core&quot;)&amp;&amp;np.contains(&quot;${hostname}&quot;)){
		if(core_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;kafka\&quot;&quot;)&amp;&amp;np.contains(&quot;${hostname}&quot;)){
		if(kafka_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;metric\&quot;&quot;)&amp;&amp;np.contains(&quot;${hostname}&quot;)){
		if(metric_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;mongodb&quot;)&amp;&amp;np.contains(&quot;${hostname}&quot;)){
		if(mongodb_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;redis&quot;)&amp;&amp;np.contains(&quot;${hostname}&quot;)){
		if(redis_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		redis_value=job.getInt(&quot;redis&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;web&quot;)&amp;&amp;np.contains(&quot;${hostname}&quot;)){
		if(web_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		web_value=job.getInt(&quot;web&quot;); //得到每个对象中的id值
	}}
 }
vars.put(&quot;spark_value&quot;,spark_value+&quot;&quot;);
vars.put(&quot;deploy_value&quot;,deploy_value+&quot;&quot;);
vars.put(&quot;redis_value&quot;,redis_value+&quot;&quot;);
vars.put(&quot;web_value&quot;,web_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
//log.error(&quot;0000000&quot;+solution_value+kafka_value+core_value+metric_value+mongodb_value);
String result=&quot;&quot;+deploy_value+solution_value+core_value+metric_value+mongodb_value+kafka_value;
if(result.contains(&quot;-1&quot;)){
	vars.put(&quot;result&quot;,&quot;99&quot;);
}else{
vars.put(&quot;result&quot;,result);
}
//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String result= vars.get(&quot;result&quot;);
log.error(result);
if(result.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(result.equals(&quot;000000&quot;)){
	Failure = false;
	log.error(&quot;测试通过&quot;);
	FailureMessage = &quot;采集到了正常指标&quot;;
	vars.put(&quot;result2&quot;,&quot;99&quot;);
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	vars.put(&quot;result2&quot;,&quot;99&quot;);
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询ES已触发告警" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了告警事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="false">
              <stringProp name="ConstantTimer.delay">20000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;

String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int deploy_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value = -1;
int metric_value = -1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
        log.error(np);
        if (np.contains(&quot;kafka进程�?新�?�已达到0, 进程不存�?&quot;)) {
            kafka_value = 1; //得到每个对象中的id值
            log.error(&quot;kafka&quot;);
        }
        if (np.contains(&quot;mongodb进程�?新�?�已达到0, 进程不存�?&quot;)) {
            mongodb_value = 1;
            log.error(&quot;mongodb_value&quot;);
        }
        if (np.contains(&quot;databank-core进程�?新�?�已达到0, 进程不存�?&quot;)) {
            core_value = 1;
            log.error(&quot;core_value&quot;);
        }
        if (np.contains(&quot;platform-store-metric进程�?新�?�已达到0, 进程不存�?&quot;)) {
            metric_value = 1;
            log.error(&quot;metric_value&quot;);
        }
        if (np.contains(&quot;databank-deploy进程�?新�?�已达到0, 进程不存�?&quot;)) {
            deploy_value = 1;
            log.error(&quot;deploy_value&quot;);
        }
        if (np.contains(&quot;databank-solution进程�?新�?�已达到0, 进程不存�?&quot;)) {
            solution_value = 1;
            log.error(&quot;solution_value&quot;);
        }
    }
}
vars.put(&quot;deploy_value&quot;, deploy_value + &quot;&quot;);
vars.put(&quot;solution_value&quot;, solution_value + &quot;&quot;);
vars.put(&quot;core_value&quot;, core_value + &quot;&quot;);
vars.put(&quot;metric_value&quot;, metric_value + &quot;&quot;);
vars.put(&quot;mongodb_value&quot;, mongodb_value + &quot;&quot;);
vars.put(&quot;kafka_value&quot;, kafka_value + &quot;&quot;);
int result = kafka_value + mongodb_value + core_value + metric_value +  solution_value + deploy_value;
log.error(result + &quot;&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);
int num=new Integer(vars.get(&quot;num&quot;));
num++;
vars.put(&quot;num&quot;, &quot;&quot; + num);
log.error(num+&quot;&quot;);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="查询服务的状态是否恢复" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;111111&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Omp123!&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询kafka服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-deploy服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-deploy</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-mongodb服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-mongodb</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value3</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-core服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value4</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-solution服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-solution</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value5</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-store-metric服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-store-metric</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value6</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">String value1=vars.get(&quot;value1&quot;);
String value2=vars.get(&quot;value2&quot;);
String value3=vars.get(&quot;value3&quot;);
String value4=vars.get(&quot;value4&quot;);
String value5=vars.get(&quot;value5&quot;);
String value6=vars.get(&quot;value6&quot;);
String result=value1+value2+value3+value4+value5+value6;
log.error(result);
vars.put(&quot;result&quot;,result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">10000</stringProp>
          </ConstantTimer>
          <hashTree/>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询自愈事件是否产生" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了自愈事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">30000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int deploy_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value =-1;
int metric_value =-1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
//	String np=Str2china(source.toString());
//	String ss=new String(np.getBytes, &quot;GBK&quot;);
        log.error(np);
        if (np.contains(&quot;kafka进程自愈成功&quot;)) {
                kafka_value = 1; //得到每个对象中的id值
        }
        if (np.contains(&quot;mongodb进程自愈成功&quot;)) {
                mongodb_value = 1;
        }
        if (np.contains(&quot;databank-core进程自愈成功&quot;)) {
                core_value = 1;
        }
        if (np.contains(&quot;platform-store-metric进程自愈成功&quot;)) {
                metric_value = 1;
        }
        if (np.contains(&quot;databank-deploy进程自愈成功&quot;)) {
                deploy_value = 1;
        }
        if (np.contains(&quot;databank-solution进程自愈成功&quot;)) {
            solution_value = 1;
        }
    }
}

int result = kafka_value + mongodb_value + core_value + metric_value +  solution_value + deploy_value;
log.error(result + &quot;&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="2、databank自监控自愈功能测试460√hadoop" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

//vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="自监控配置自愈" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="1362356081">自监控配置打开自愈16.460</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-201288009">关闭部分进程hadoop给场景2用</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="关闭后检查采集情况" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);

vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
vars.put(&quot;core_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}


//采集可能前几次不完整有些主机的指标没有采集到的，但是，也可能快的值已经自愈了，导致采集到的值已经更新为了1，所以我们只能采集一次
//如果不先声明，后面会报错
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value,solution_value,core_value,kafka_value,metric_value,mongodb_value;

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
//if(vars.get(&quot;kafkastreams_value&quot;)==&quot;-1&quot;){
//	 kafkastreams_value=-1;
//}else{
//	 kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
//}
if(vars.get(&quot;solution_value&quot;)==&quot;-1&quot;){
	 solution_value=-1;
}else{
	 solution_value=new Integer(vars.get(&quot;solution_value&quot;));
}
if(vars.get(&quot;core_value&quot;)==&quot;-1&quot;){
	 core_value=-1;
}else{
	 core_value=new Integer(vars.get(&quot;core_value&quot;));
}
if(vars.get(&quot;kafka_value&quot;)==&quot;-1&quot;){
	 kafka_value=-1;
}else{
	 kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
}
if(vars.get(&quot;metric_value&quot;)==&quot;-1&quot;){
	 metric_value=-1;
}else{
	 metric_value=new Integer(vars.get(&quot;metric_value&quot;));
}
if(vars.get(&quot;mongodb_value&quot;)==&quot;-1&quot;){
	 mongodb_value=-1;
}else{
	 mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
}
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	log.error(np);
//	if(np.contains(&quot;kafkastreams&quot;)){
//		if(kafkastreams_value==-1){
//		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
//		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
//	}}
	if(np.contains(&quot;solution&quot;)){
		if(solution_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;core&quot;)){
		if(core_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		if(kafka_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;metric\&quot;&quot;)){
		if(metric_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;mongodb&quot;)){
		if(mongodb_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
	
 }
//vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
log.error(&quot;0000000&quot;+solution_value+kafka_value+core_value+metric_value+mongodb_value);
String message=&quot;结果&quot;+solution_value+kafka_value+core_value+metric_value+mongodb_value;
if(message.contains(&quot;-1&quot;)){
	vars.put(&quot;result&quot;,&quot;99&quot;);
}else{
result=solution_value+kafka_value+core_value+metric_value+mongodb_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);
}

      


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String result= vars.get(&quot;result&quot;);
log.error(result);
if(result.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(result.equals(&quot;0&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询ES已触发告警" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了告警事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_msphere_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;

String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int deploy_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value = -1;
int metric_value = -1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
        log.error(np);
        if (np.contains(&quot;kafka进程�?新�?�已达到0, 进程不存�?&quot;)) {
            kafka_value = 1; //得到每个对象中的id值
            log.error(&quot;kafka&quot;);
        }
        if (np.contains(&quot;mongodb进程�?新�?�已达到0, 进程不存�?&quot;)) {
            mongodb_value = 1;
            log.error(&quot;mongodb_value&quot;);
        }
        if (np.contains(&quot;databank-core进程�?新�?�已达到0, 进程不存�?&quot;)) {
            core_value = 1;
            log.error(&quot;core_value&quot;);
        }
        if (np.contains(&quot;platform-store-metric进程�?新�?�已达到0, 进程不存�?&quot;)) {
            metric_value = 1;
            log.error(&quot;metric_value&quot;);
        }
        if (np.contains(&quot;databank-deploy进程�?新�?�已达到0, 进程不存�?&quot;)) {
            deploy_value = 1;
            log.error(&quot;deploy_value&quot;);
        }
        if (np.contains(&quot;databank-solution进程�?新�?�已达到0, 进程不存�?&quot;)) {
            solution_value = 1;
            log.error(&quot;solution_value&quot;);
        }
    }
}
vars.put(&quot;deploy_value&quot;, deploy_value + &quot;&quot;);
vars.put(&quot;solution_value&quot;, solution_value + &quot;&quot;);
vars.put(&quot;core_value&quot;, core_value + &quot;&quot;);
vars.put(&quot;metric_value&quot;, metric_value + &quot;&quot;);
vars.put(&quot;mongodb_value&quot;, mongodb_value + &quot;&quot;);
vars.put(&quot;kafka_value&quot;, kafka_value + &quot;&quot;);
int result = kafka_value + mongodb_value + core_value + metric_value +  solution_value + deploy_value;
log.error(result + &quot;&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="查询服务的状态是否恢复" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;111111&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Omp123!&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询kafka服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-deploy服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-deploy</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-mongodb服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-mongodb</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value3</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-core服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value4</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-solution服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-solution</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value5</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-store-metric服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-store-metric</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value6</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">String value1=vars.get(&quot;value1&quot;);
String value2=vars.get(&quot;value2&quot;);
String value3=vars.get(&quot;value3&quot;);
String value4=vars.get(&quot;value4&quot;);
String value5=vars.get(&quot;value5&quot;);
String value6=vars.get(&quot;value6&quot;);
String result=value1+value2+value3+value4+value5+value6;
log.error(result);
vars.put(&quot;result&quot;,result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">10000</stringProp>
          </ConstantTimer>
          <hashTree/>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询自愈事件是否产生" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了自愈事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_msphere_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">30000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int deploy_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value =-1;
int metric_value =-1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
//	String np=Str2china(source.toString());
//	String ss=new String(np.getBytes, &quot;GBK&quot;);
        log.error(np);
        if (np.contains(&quot;kafka进程自愈成功&quot;)) {
                kafka_value = 1; //得到每个对象中的id值
        }
        if (np.contains(&quot;mongodb进程自愈成功&quot;)) {
                mongodb_value = 1;
        }
        if (np.contains(&quot;databank-core进程自愈成功&quot;)) {
                core_value = 1;
        }
        if (np.contains(&quot;platform-store-metric进程自愈成功&quot;)) {
                metric_value = 1;
        }
        if (np.contains(&quot;databank-deploy进程自愈成功&quot;)) {
                deploy_value = 1;
        }
        if (np.contains(&quot;databank-solution进程自愈成功&quot;)) {
            solution_value = 1;
        }
    }
}

int result = kafka_value + mongodb_value + core_value + metric_value +  solution_value + deploy_value;
log.error(result + &quot;&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="2、databank自监控自愈功能测试17.30kafkastream" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <CookieManager guiclass="CookiePanel" testclass="CookieManager" testname="HTTP Cookie管理器" enabled="true">
          <collectionProp name="CookieManager.cookies"/>
          <boolProp name="CookieManager.clearEachIteration">true</boolProp>
        </CookieManager>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

//vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;result&quot;,&quot;99&quot;);
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(omp.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(omp.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">${__P(omp.protocol)}</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="自监控配置自愈" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-1895685927">自监控配置打开自愈17.30</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <ModuleController guiclass="ModuleControllerGui" testclass="ModuleController" testname="调用测试片段：关闭部分自监控进程" enabled="true">
          <collectionProp name="ModuleController.node_path">
            <stringProp name="869052411">测试计划</stringProp>
            <stringProp name="764597751">Test Plan</stringProp>
            <stringProp name="-124499282">关闭部分自监控进程kafkastream</stringProp>
          </collectionProp>
        </ModuleController>
        <hashTree/>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="关闭后检查采集情况" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${result}&quot;==&quot;99&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot;,)}</stringProp>
          <stringProp name="TestPlan.comments">等待10次，等待result</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="初始化" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;timestamp&quot;) == null )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
              <stringProp name="BeanShellSampler.query">vars.put(&quot;timestamp&quot;,&quot;${__timeShift(,,PT1M,,)}&quot;);

vars.put(&quot;kafkastreams_value&quot;,&quot;-1&quot;);
vars.put(&quot;solution_value&quot;,&quot;-1&quot;);
vars.put(&quot;core_value&quot;,&quot;-1&quot;);
vars.put(&quot;metric_value&quot;,&quot;-1&quot;);
vars.put(&quot;mongodb_value&quot;,&quot;-1&quot;);
vars.put(&quot;kafka_value&quot;,&quot;-1&quot;);

vars.put(&quot;num2&quot;,&quot;1&quot;);</stringProp>
              <stringProp name="BeanShellSampler.filename"></stringProp>
              <stringProp name="BeanShellSampler.parameters"></stringProp>
              <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
            </BeanShellSampler>
            <hashTree/>
          </hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
            <stringProp name="IfController.condition">${__jexl3(vars.get(&quot;result&quot;) ==&quot;99&quot; )}</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
            <boolProp name="IfController.useExpression">true</boolProp>
          </IfController>
          <hashTree>
            <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="采集功能测试-异常进程采集" enabled="true">
              <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/metricbeat*/_search  -d &apos;{   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [         {           &quot;range&quot;: {             &quot;@timestamp&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },         {           &quot;match&quot;: {             &quot;metricset.name&quot;: &quot;available&quot;           }         }       ]     }   },   &quot;from&quot;: 0,   &quot;size&quot;: ${hots_num},   &quot;sort&quot;: [     {       &quot;@timestamp&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ] } &apos;</stringProp>
              <intProp name="connectionTimeout">50000</intProp>
              <stringProp name="hostname">${mysqlIp}</stringProp>
              <stringProp name="passphrase"></stringProp>
              <stringProp name="password">${mysqlpasswd}</stringProp>
              <intProp name="port">22</intProp>
              <boolProp name="printStdErr">true</boolProp>
              <stringProp name="sshkeyfile"></stringProp>
              <boolProp name="useReturnCode">true</boolProp>
              <stringProp name="username">root</stringProp>
            </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
            <hashTree>
              <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
                <stringProp name="ConstantTimer.delay">10000</stringProp>
              </ConstantTimer>
              <hashTree/>
              <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
                <boolProp name="resetInterpreter">false</boolProp>
                <stringProp name="parameters"></stringProp>
                <stringProp name="filename"></stringProp>
                <stringProp name="script">import org.json.*;
String response_data = prev.getResponseDataAsString();
String text1=response_data.replace(&quot;=== stdin ===&quot;,&quot;&quot;);
String text2=text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
if(data_obj.getJSONObject(&quot;hits&quot;).getJSONObject(&quot;total&quot;).getInt(&quot;value&quot;)==0){
	return;
}
//当获取到值后可能值不完整，我们再请求三次，确保获取到的值完整
int num2 = new Integer(vars.get(&quot;num2&quot;));
num2++;
vars.put(&quot;num2&quot;,num2+&quot;&quot;);
if(num2&lt;=5){
	return;
}

//采集可能前几次不完整，但是，也可能快的值已经自愈了，导致采集到的值已经更新为了1，所以我们只能采集一次
//如果不先声明，后面会报错
//if里面的变量不能保证初始化，所以在for循环外面不能使用变量，必须先声明
int kafkastreams_value,solution_value,core_value,kafka_value,metric_value,mongodb_value;

JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
if(vars.get(&quot;kafkastreams_value&quot;)==&quot;-1&quot;){
	 kafkastreams_value=-1;
}else{
	 kafkastreams_value=new Integer(vars.get(&quot;kafkastreams_value&quot;));
}
if(vars.get(&quot;solution_value&quot;)==&quot;-1&quot;){
	 solution_value=-1;
}else{
	 solution_value=new Integer(vars.get(&quot;solution_value&quot;));
}
if(vars.get(&quot;core_value&quot;)==&quot;-1&quot;){
	 core_value=-1;
}else{
	 core_value=new Integer(vars.get(&quot;core_value&quot;));
}
if(vars.get(&quot;kafka_value&quot;)==&quot;-1&quot;){
	 kafka_value=-1;
}else{
	 kafka_value=new Integer(vars.get(&quot;kafka_value&quot;));
}
if(vars.get(&quot;metric_value&quot;)==&quot;-1&quot;){
	 metric_value=-1;
}else{
	 metric_value=new Integer(vars.get(&quot;metric_value&quot;));
}
if(vars.get(&quot;mongodb_value&quot;)==&quot;-1&quot;){
	 mongodb_value=-1;
}else{
	 mongodb_value=new Integer(vars.get(&quot;mongodb_value&quot;));
}
for(int i=0;i&lt;jsonArray.length();i++){
	JSONObject source =jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
	String np=source.toString();
	log.error(np);
	if(np.contains(&quot;kafkastreams&quot;)){
		if(kafkastreams_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		kafkastreams_value=job.getInt(&quot;kafkastreams&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;solution&quot;)){
		if(solution_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
		solution_value=job.getInt(&quot;solution&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;core&quot;)){
		if(core_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;databank&quot;);//把每一个对象转成json对象
	 	core_value=job.getInt(&quot;core&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;kafka\&quot;&quot;)){
		if(kafka_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		kafka_value=job.getInt(&quot;kafka&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;metric\&quot;&quot;)){
		if(metric_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;).getJSONObject(&quot;platform&quot;).getJSONObject(&quot;store&quot;);
	 	metric_value=job.getInt(&quot;metric&quot;); //得到每个对象中的id值
	}}
	if(np.contains(&quot;mongodb&quot;)){
		if(mongodb_value==-1){
		JSONObject job = source.getJSONObject(&quot;process&quot;).getJSONObject(&quot;available&quot;);//把每一个对象转成json对象
		mongodb_value=job.getInt(&quot;mongodb&quot;); //得到每个对象中的id值
	}}
	
 }
vars.put(&quot;kafkastreams_value&quot;,kafkastreams_value+&quot;&quot;);
vars.put(&quot;solution_value&quot;,solution_value+&quot;&quot;);
vars.put(&quot;core_value&quot;,core_value+&quot;&quot;);
vars.put(&quot;metric_value&quot;,metric_value+&quot;&quot;);
vars.put(&quot;mongodb_value&quot;,mongodb_value+&quot;&quot;);
vars.put(&quot;kafka_value&quot;,kafka_value+&quot;&quot;);
log.error(&quot;0000000&quot;+kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value);
result=kafkastreams_value+solution_value+kafka_value+core_value+metric_value+mongodb_value;
vars.put(&quot;result&quot;,result+&quot;&quot;);

      


//log.error(apps_str.getString());</stringProp>
              </BeanShellPostProcessor>
              <hashTree/>
              <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
                <stringProp name="TestPlan.comments">当进程挂掉后，进程值都会为0</stringProp>
                <stringProp name="BeanShellAssertion.query">String result= vars.get(&quot;result&quot;);
log.error(result);
if(result.equals(&quot;99&quot;)){
	Failure = false;
	return;
}else if(result.equals(&quot;0&quot;)){
	Failure = false;
	FailureMessage = &quot;采集到了正常指标&quot;;
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;采集到了错误指标&quot;+result;
	return;
}</stringProp>
                <stringProp name="BeanShellAssertion.filename"></stringProp>
                <stringProp name="BeanShellAssertion.parameters"></stringProp>
                <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
              </BeanShellAssertion>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询ES已触发告警" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了告警事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">10000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;

String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int kafkastreams_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value = -1;
int metric_value = -1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
        log.error(np);
        if (np.contains(&quot;kafka进程�?新�?�已达到0, 进程不存�?&quot;)) {
            kafka_value = 1; //得到每个对象中的id值
            log.error(&quot;kafka&quot;);
        }
        if (np.contains(&quot;mongodb进程�?新�?�已达到0, 进程不存�?&quot;)) {
            mongodb_value = 1;
            log.error(&quot;mongodb_value&quot;);
        }
        if (np.contains(&quot;databank-core进程�?新�?�已达到0, 进程不存�?&quot;)) {
            core_value = 1;
            log.error(&quot;core_value&quot;);
        }
        if (np.contains(&quot;platform-store-metric进程�?新�?�已达到0, 进程不存�?&quot;)) {
            metric_value = 1;
            log.error(&quot;metric_value&quot;);
        }
        if (np.contains(&quot;databank-kafkastreams�?新�?�已达到0, 进程不存�?&quot;)) {
            kafkastreams_value = 1;
            log.error(&quot;kafkastreams_value&quot;);
        }
        if (np.contains(&quot;databank-solution进程�?新�?�已达到0, 进程不存�?&quot;)) {
            solution_value = 1;
            log.error(&quot;solution_value&quot;);
        }
    }
}
vars.put(&quot;kafkastreams_value&quot;, kafkastreams_value + &quot;&quot;);
vars.put(&quot;solution_value&quot;, solution_value + &quot;&quot;);
vars.put(&quot;core_value&quot;, core_value + &quot;&quot;);
vars.put(&quot;metric_value&quot;, metric_value + &quot;&quot;);
vars.put(&quot;mongodb_value&quot;, mongodb_value + &quot;&quot;);
vars.put(&quot;kafka_value&quot;, kafka_value + &quot;&quot;);
int result = kafka_value + mongodb_value + core_value + metric_value + kafkastreams_value + solution_value;
log.error(result + &quot;&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="查询服务的状态是否恢复" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;111111&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="用户登录" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{	&quot;username&quot;:&quot;admin&quot;,&#xd;
	&quot;passwd&quot;:&quot;Admin@1234&quot;&#xd;
}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/user/login</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <SyncTimer guiclass="TestBeanGUI" testclass="SyncTimer" testname="同步定时器" enabled="false">
              <intProp name="groupSize">200</intProp>
              <longProp name="timeoutInMs">0</longProp>
            </SyncTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="false">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">log.error(&quot;${token}&quot;);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
            <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
              <boolProp name="ResultCollector.error_logging">false</boolProp>
              <objProp>
                <name>saveConfig</name>
                <value class="SampleSaveConfiguration">
                  <time>true</time>
                  <latency>true</latency>
                  <timestamp>true</timestamp>
                  <success>true</success>
                  <label>true</label>
                  <code>true</code>
                  <message>true</message>
                  <threadName>true</threadName>
                  <dataType>true</dataType>
                  <encoding>false</encoding>
                  <assertions>true</assertions>
                  <subresults>true</subresults>
                  <responseData>false</responseData>
                  <samplerData>false</samplerData>
                  <xml>false</xml>
                  <fieldNames>true</fieldNames>
                  <responseHeaders>false</responseHeaders>
                  <requestHeaders>false</requestHeaders>
                  <responseDataOnError>false</responseDataOnError>
                  <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
                  <assertionsResultsToSave>0</assertionsResultsToSave>
                  <bytes>true</bytes>
                  <sentBytes>true</sentBytes>
                  <url>true</url>
                  <threadCounts>true</threadCounts>
                  <idleTime>true</idleTime>
                  <connectTime>true</connectTime>
                </value>
              </objProp>
              <stringProp name="filename"></stringProp>
            </ResultCollector>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询kafka服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-kafka</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value1</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-kafkastreams服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-kafkastreams</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value2</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-mongodb服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-mongodb</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value3</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-core服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-core</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value4</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询databank-solution服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=databank-solution</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value6</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
          </hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询platform-store-metric服务的状态是否恢复" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">/omp/api/v1/installed_pkgs/query?pageIndex=1&amp;pageSize=10&amp;keyWord=platform-store-metric</stringProp>
            <stringProp name="HTTPSampler.method">GET</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
              <stringProp name="JSONPostProcessor.referenceNames">value7</stringProp>
              <stringProp name="JSONPostProcessor.jsonPathExprs">$..status</stringProp>
              <stringProp name="JSONPostProcessor.match_numbers">1</stringProp>
              <stringProp name="JSONPostProcessor.defaultValues">0</stringProp>
            </JSONPostProcessor>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">String value1=vars.get(&quot;value1&quot;);
String value2=vars.get(&quot;value2&quot;);
String value3=vars.get(&quot;value3&quot;);
String value4=vars.get(&quot;value4&quot;);

String value6=vars.get(&quot;value6&quot;);
String value7=vars.get(&quot;value7&quot;);
String result=value1+value2+value3+value4+value6+value7;
vars.put(&quot;result&quot;,result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">10000</stringProp>
          </ConstantTimer>
          <hashTree/>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器查询自愈事件是否产生" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript(&quot;${result}&quot;!=&quot;6&quot; &amp;&amp; &quot;${num}&quot;!=&quot;30&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">100</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="查询是否生成了自愈事件" enabled="true">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model/_search  -d &apos; {   &quot;query&quot;: {     &quot;bool&quot;: {       &quot;must&quot;: [        {           &quot;range&quot;: {             &quot;occurTime&quot;: {               &quot;gte&quot;: &quot;${timestamp}&quot;             }           }         },          {           &quot;match_all&quot;: {}         }       ],       &quot;must_not&quot;: [],       &quot;should&quot;: []     }   },   &quot;from&quot;: 0,   &quot;size&quot;: 20,   &quot;sort&quot;: [     {       &quot;occurTime&quot;: {         &quot;order&quot;: &quot;desc&quot;       }     }   ],   &quot;aggs&quot;: {} } &apos;</stringProp>
            <intProp name="connectionTimeout">50000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree>
            <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
              <stringProp name="ConstantTimer.delay">30000</stringProp>
            </ConstantTimer>
            <hashTree/>
            <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
              <boolProp name="resetInterpreter">false</boolProp>
              <stringProp name="parameters"></stringProp>
              <stringProp name="filename"></stringProp>
              <stringProp name="script">import org.json.*;
String response_data = new String(prev.getResponseData(), &quot;UTF-8&quot;);//prev.getResponseDataAsString();
String text1 = response_data.replace(&quot;=== stdin ===&quot;, &quot;&quot;);
String text2 = text1.split(&quot;=== stderr ===&quot;)[0].trim();
JSONObject data_obj = new JSONObject(text2);
JSONArray jsonArray = data_obj.getJSONObject(&quot;hits&quot;).getJSONArray(&quot;hits&quot;);
int kafkastreams_value = -1;
int solution_value = -1;
int core_value = -1;
int kafka_value =-1;
int metric_value =-1;
int mongodb_value = -1;
if (jsonArray.length() &gt; 0) {
    for (int i = 0; i &lt; jsonArray.length(); i++) {
        JSONObject source = jsonArray.getJSONObject(i).getJSONObject(&quot;_source&quot;);
        np = source.toString();
//	String np=Str2china(source.toString());
//	String ss=new String(np.getBytes, &quot;GBK&quot;);
        if (np.contains(&quot;kafka进程自愈成功&quot;)) {
                kafka_value = 1; //得到每个对象中的id值
        }
        if (np.contains(&quot;mongodb进程自愈成功&quot;)) {
                mongodb_value = 1;
        }
        if (np.contains(&quot;databank-core进程自愈成功&quot;)) {
                core_value = 1;
        }
        if (np.contains(&quot;platform-store-metric进程自愈成功&quot;)) {
                metric_value = 1;
        }
        if (np.contains(&quot;databank-kafkastreams自愈成功&quot;)) {
                kafkastreams_value = 1;
        }
        if (np.contains(&quot;databank-solution进程自愈成功&quot;)) {
            solution_value = 1;
        }
    }
}

int result = kafka_value + mongodb_value + core_value + metric_value + kafkastreams_value + solution_value;
log.error(result + &quot;result&quot;);
vars.put(&quot;result&quot;, &quot;&quot; + result);</stringProp>
            </BeanShellPostProcessor>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="3、databank自监控告警功能测试16.460hadoop√测试前得将spark作业都正常运行起来" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
        <stringProp name="TestPlan.comments">测试前得将spark作业都正常运行起来</stringProp>
      </ThreadGroup>
      <hashTree>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

//vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(MeterSphere.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(MeterSphere.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询规则" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">CPU_triggerId;alert_datacenter_triggerId;spark_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;CPU 使用率&quot;)].triggerId ; $..list[?(@.name ==&quot;链路alert-web节点状态&quot;)].triggerId ; $..list[?(@.name ==&quot;作业堆积批次&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">String CPU_triggerId=vars.get(&quot;CPU_triggerId&quot;);
String alert_datacenter_triggerId=vars.get(&quot;alert_datacenter_triggerId&quot;);
String spark_triggerId=vars.get(&quot;spark_triggerId&quot;);
//log.error(CPU_triggerId+alert_datacenter_triggerId+spark_triggerId);
String [] triggerIds={CPU_triggerId,alert_datacenter_triggerId,spark_triggerId};
vars.putObject(&quot;triggerIds&quot;,triggerIds);
//log.error(triggerIds[0]);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${CPU_triggerId}&quot;!=&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">msphere/api/metric/trigger/${CPU_triggerId}</stringProp>
            <stringProp name="HTTPSampler.method">DELETE</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${alert_datacenter_triggerId}&quot;!=&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">msphere/api/metric/trigger/${alert_datacenter_triggerId}</stringProp>
            <stringProp name="HTTPSampler.method">DELETE</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${spark_triggerId}&quot;!=&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">msphere/api/metric/trigger/${spark_triggerId}</stringProp>
            <stringProp name="HTTPSampler.method">DELETE</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建阈值规则-CPU" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&#xd;
	&quot;classCode&quot;: &quot;Linux&quot;,&#xd;
	&quot;metricCode&quot;: &quot;sys.metric.cpu.used_ratio&quot;,&#xd;
	&quot;operator&quot;: &quot;&gt;=&quot;,&#xd;
	&quot;alertMap&quot;: {&#xd;
		&quot;3&quot;: 0&#xd;
	},&#xd;
	&quot;notifyList&quot;: [&#xd;
		&quot;EMAIL&quot;,&#xd;
		&quot;NOTIFY&quot;,&#xd;
		&quot;ALERT&quot;&#xd;
	],&#xd;
	&quot;recoverPolicyId&quot;: null&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建阈值规则-spark作业堆积" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Spark&quot;,&quot;metricCode&quot;:&quot;spark.application.numActiveBatches&quot;,&quot;operator&quot;:&quot;&gt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0}}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建阈值规则-业务性能" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;业务性能&quot;,&quot;metricCode&quot;:&quot;chain.state.alert-web&quot;,&quot;operator&quot;:&quot;&gt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:[&quot;NOTIFY&quot;,&quot;ALERT&quot;,&quot;EMAIL&quot;],&quot;recoverPolicyId&quot;:null}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
          <stringProp name="BeanShellSampler.query">vars.put(&quot;start_time&quot;,&quot;${__time()}&quot;);
vars.put(&quot;end_time&quot;,&quot;${__timeShift(,,PT10M,,)}&quot;);
vars.put(&quot;nu&quot;,&quot;&quot;);
//vars.put(&quot;start_time&quot;,&quot;1623832496000&quot;);
//vars.put(&quot;end_time&quot;,&quot;1623833096000&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="定时" enabled="true">
            <stringProp name="ConstantTimer.delay">240000</stringProp>
          </ConstantTimer>
          <hashTree/>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="While控制器" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${nu}&quot;==&quot;&quot; &amp;&amp; &quot;${num}&quot;!=&quot;10&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">10</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">10000</stringProp>
          </ConstantTimer>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询是否有CPU指标的告警事件" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;levels&quot;:[-1,0,1,2,3],&quot;granularity&quot;:30,&quot;search&quot;:&quot;&quot;,&quot;startTime&quot;:${start_time},&quot;endTime&quot;:${end_time}}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">msphere/api/event/eventGroupList</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
              <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
if(response_data.contains(&quot;\&quot;data\&quot;:[]&quot;)){
	return;
}
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONArray(&quot;data&quot;); 
int len = data_array.length();
int nu=0;
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)data_array.getJSONObject(i); 
	String name = jsonTemp.get(&quot;name&quot;).toString();
	if(name.equals(&quot;CPU 使用率&quot;)){
		nu++;
	}	
}
if(nu==hots_num &amp;&amp; response_data.contains(&quot;作业堆积批次最近5分钟AVG已达到0, 大于等于阈值0&quot;)){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,nu+&quot;&quot;);
	return;
}else{
	Failure = true;
	log.error(nu+&quot;&quot;);
	FailureMessage  = &quot;有主机没告警,告警数量为&quot;+nu;
	return;
}</stringProp>
              <stringProp name="BeanShellAssertion.filename"></stringProp>
              <stringProp name="BeanShellAssertion.parameters"></stringProp>
              <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
            </BeanShellAssertion>
            <hashTree/>
          </hashTree>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询是否有alert-web指标的告警事件" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;levels&quot;:[-1,0,1,2,3],&quot;granularity&quot;:30,&quot;search&quot;:&quot;&quot;,&quot;startTime&quot;:${start_time},&quot;endTime&quot;:${end_time}}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/event/eventGroupList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
if( !response_data.contains(&quot;链路alert-web节点状态&quot;) &amp;&amp; ${num}!=10 ){
	return;
}

if(response_data.contains(&quot;链路alert-web节点状态&quot;)){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,&quot;0&quot;);
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;没有产生告警&quot;;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="主机是否变红异常" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/monitorResource/resourceList?type=HOST&amp;pageIndex=1&amp;pageSize=20</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONObject(&quot;data&quot;).getJSONArray(&quot;list&quot;); 
int len = data_array.length();
int nu=0;
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)data_array.getJSONObject(i); 
	String name = jsonTemp.get(&quot;status&quot;).toString();
	if(name.equals(&quot;3&quot;)){
		nu++;
	}	
}
if(nu==hots_num){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,nu+&quot;&quot;);
	return;
}else{
	Failure = true;
	log.error(nu+&quot;&quot;);
	FailureMessage  = &quot;有主机没告警,告警数量为&quot;+nu;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询规则" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/msphere/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">CPU_triggerId;alert_datacenter_triggerId;spark_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;CPU 使用率&quot;)].triggerId ; $..list[?(@.name ==&quot;链路alert-web节点状态&quot;)].triggerId ; $..list[?(@.name ==&quot;作业堆积批次&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">String CPU_triggerId=vars.get(&quot;CPU_triggerId&quot;);
String alert_datacenter_triggerId=vars.get(&quot;alert_datacenter_triggerId&quot;);
String spark_triggerId=vars.get(&quot;spark_triggerId&quot;);
//log.error(CPU_triggerId+alert_datacenter_triggerId+spark_triggerId);
String [] triggerIds={CPU_triggerId,alert_datacenter_triggerId,spark_triggerId};
vars.putObject(&quot;triggerIds&quot;,triggerIds);
//log.error(triggerIds[0]);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/metric/trigger/${alert_datacenter_triggerId}</stringProp>
          <stringProp name="HTTPSampler.method">DELETE</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/metric/trigger/${CPU_triggerId}</stringProp>
          <stringProp name="HTTPSampler.method">DELETE</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/metric/trigger/${spark_triggerId}</stringProp>
          <stringProp name="HTTPSampler.method">DELETE</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="告警恢复后事件列表是否有恢复的事件" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;levels&quot;:[0],&quot;granularity&quot;:30,&quot;search&quot;:&quot;&quot;,&quot;startTime&quot;:${__timeShift(,,-PT10S,,)},&quot;endTime&quot;:1623847556124}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/event/eventGroupList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">30000</stringProp>
          </ConstantTimer>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONArray(&quot;data&quot;); 
int len = data_array.length();
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
if(len==hots_num){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	return;
}else{
	Failure = true;
	log.error(nu+&quot;&quot;);
	FailureMessage  = &quot;有主机没有恢复&quot;;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="主机管理是否变正常" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">msphere/api/monitorResource/resourceList?type=HOST&amp;pageIndex=1&amp;pageSize=20</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONObject(&quot;data&quot;).getJSONArray(&quot;list&quot;); 
int len = data_array.length();
int nu=0;
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)data_array.getJSONObject(i); 
	String name = jsonTemp.get(&quot;status&quot;).toString();
	if(name.equals(&quot;0&quot;)){
		nu++;
	}	
}
if(nu==hots_num){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,nu+&quot;&quot;);
	return;
}else{
	Failure = true;
	log.error(nu+&quot;&quot;);
	FailureMessage  = &quot;有主机没告警,告警数量为&quot;+nu;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="调试取样器" enabled="true">
          <boolProp name="displayJMeterProperties">false</boolProp>
          <boolProp name="displayJMeterVariables">true</boolProp>
          <boolProp name="displaySystemProperties">false</boolProp>
        </DebugSampler>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="3、databank自监控告警功能测试17.310hadoop√测试前得将spark作业都正常运行起来" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
        <stringProp name="TestPlan.comments">测试前得将spark作业都正常运行起来</stringProp>
      </ThreadGroup>
      <hashTree>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

//vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(MeterSphere.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(MeterSphere.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询规则" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">CPU_triggerId;alert_datacenter_triggerId;spark_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;CPU 使用率&quot;)].triggerId ; $..list[?(@.name ==&quot;链路alert-web节点状态&quot;)].triggerId ; $..list[?(@.name ==&quot;作业堆积批次&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">String CPU_triggerId=vars.get(&quot;CPU_triggerId&quot;);
String alert_datacenter_triggerId=vars.get(&quot;alert_datacenter_triggerId&quot;);
String spark_triggerId=vars.get(&quot;spark_triggerId&quot;);
//log.error(CPU_triggerId+alert_datacenter_triggerId+spark_triggerId);
String [] triggerIds={CPU_triggerId,alert_datacenter_triggerId,spark_triggerId};
vars.putObject(&quot;triggerIds&quot;,triggerIds);
//log.error(triggerIds[0]);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${CPU_triggerId}&quot;!=&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${CPU_triggerId}</stringProp>
            <stringProp name="HTTPSampler.method">DELETE</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${alert_datacenter_triggerId}&quot;!=&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${alert_datacenter_triggerId}</stringProp>
            <stringProp name="HTTPSampler.method">DELETE</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${spark_triggerId}&quot;!=&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${spark_triggerId}</stringProp>
            <stringProp name="HTTPSampler.method">DELETE</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="测试准备删除历史数据" enabled="true">
          <boolProp name="TransactionController.parent">true</boolProp>
        </TransactionController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="monitor-删除历史事件数据" enabled="true">
            <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model</stringProp>
            <intProp name="connectionTimeout">5000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree/>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="monitor-删除历史指标数据" enabled="false">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/dw_metric_model_${__time(yyyyMMdd)}/_delete_by_query -d &apos;{&quot;query&quot;: {&quot;bool&quot;: { &quot;must&quot;: [  {&quot;term&quot;: { &quot;objectId&quot;: &quot;${objectid}&quot; } },{&quot;term&quot;: { &quot;metric_name&quot;: &quot;system.mem.free&quot;}}]}}}&apos; </stringProp>
            <intProp name="connectionTimeout">5000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建阈值规则-CPU" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&#xd;
	&quot;classCode&quot;: &quot;Linux&quot;,&#xd;
	&quot;metricCode&quot;: &quot;sys.metric.cpu.used_ratio&quot;,&#xd;
	&quot;operator&quot;: &quot;&gt;=&quot;,&#xd;
	&quot;alertMap&quot;: {&#xd;
		&quot;3&quot;: 0&#xd;
	},&#xd;
	&quot;notifyList&quot;: [&#xd;
		&quot;EMAIL&quot;,&#xd;
		&quot;NOTIFY&quot;,&#xd;
		&quot;ALERT&quot;&#xd;
	],&#xd;
	&quot;recoverPolicyId&quot;: null&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建阈值规则-spark作业堆积" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;Spark&quot;,&quot;metricCode&quot;:&quot;spark.application.numActiveBatches&quot;,&quot;operator&quot;:&quot;&gt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0}}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建阈值规则-业务性能" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;业务性能&quot;,&quot;metricCode&quot;:&quot;chain.state.alert-web&quot;,&quot;operator&quot;:&quot;&gt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:[&quot;NOTIFY&quot;,&quot;ALERT&quot;,&quot;EMAIL&quot;],&quot;recoverPolicyId&quot;:null}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
          <stringProp name="BeanShellSampler.query">vars.put(&quot;start_time&quot;,&quot;${__time()}&quot;);
vars.put(&quot;end_time&quot;,&quot;${__timeShift(,,PT10M,,)}&quot;);
vars.put(&quot;nu&quot;,&quot;&quot;);
vars.put(&quot;temp&quot;,&quot;0&quot;);
//vars.put(&quot;start_time&quot;,&quot;1623832496000&quot;);
//vars.put(&quot;end_time&quot;,&quot;1623833096000&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="定时" enabled="true">
            <stringProp name="ConstantTimer.delay">240000</stringProp>
          </ConstantTimer>
          <hashTree/>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="查询CPU指是否告警了" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${nu}&quot;==&quot;&quot; &amp;&amp; &quot;${num}&quot;!=&quot;20&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">10</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">10000</stringProp>
          </ConstantTimer>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询是否有CPU指标的告警事件" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;levels&quot;:[-1,0,1,2,3],&quot;granularity&quot;:30,&quot;search&quot;:&quot;&quot;,&quot;startTime&quot;:${start_time},&quot;endTime&quot;:${end_time}}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">udapmanager/api/event/eventGroupList</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
              <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
if(response_data.contains(&quot;\&quot;data\&quot;:[]&quot;)){
	return;
}
//可能出现的数据也不完整，还得多等等
//int num2 = new Integer(vars.get(&quot;num2&quot;));
//num2++;
//vars.put(&quot;num2&quot;,num2+&quot;&quot;);
//if(num2&lt;=5){
//	return;
//}
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONArray(&quot;data&quot;); 
int len = data_array.length();
int nu=0;
//这里那会次数值，如果执行5次了就断言
int temp= new Integer(vars.get(&quot;temp&quot;));
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)data_array.getJSONObject(i); 
	String name = jsonTemp.get(&quot;name&quot;).toString();
	if(name.equals(&quot;CPU 使用率&quot;)){
		nu++;
	}	
}
if(nu==hots_num &amp;&amp; response_data.contains(&quot;作业堆积批次最近5分钟AVG已达到0, 大于等于阈值0&quot;)){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,nu+&quot;&quot;);
	return;
}else {
	temp++;
	vars.put(&quot;temp&quot;,temp+&quot;&quot;);
}
if(temp==10){
	Failure = true;
	FailureMessage  = &quot;有主机没告警,告警数量为&quot;+nu;
	return;
}</stringProp>
              <stringProp name="BeanShellAssertion.filename"></stringProp>
              <stringProp name="BeanShellAssertion.parameters"></stringProp>
              <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
            </BeanShellAssertion>
            <hashTree/>
          </hashTree>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询是否有alert-web指标的告警事件" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;levels&quot;:[-1,0,1,2,3],&quot;granularity&quot;:30,&quot;search&quot;:&quot;&quot;,&quot;startTime&quot;:${start_time},&quot;endTime&quot;:${end_time}}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/event/eventGroupList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
if( !response_data.contains(&quot;链路alert-web节点状态&quot;) &amp;&amp; ${num}!=10 ){
	return;
}

if(response_data.contains(&quot;链路alert-web节点状态&quot;)){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,&quot;0&quot;);
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;没有产生告警&quot;;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="主机是否变红异常" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/monitorResource/resourceList?type=HOST&amp;pageIndex=1&amp;pageSize=20</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONObject(&quot;data&quot;).getJSONArray(&quot;list&quot;); 
int len = data_array.length();
int nu=0;
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)data_array.getJSONObject(i); 
	String name = jsonTemp.get(&quot;status&quot;).toString();
	if(name.equals(&quot;3&quot;)){
		nu++;
	}	
}
if(nu==hots_num){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,nu+&quot;&quot;);
	return;
}else{
	Failure = true;
	log.error(nu+&quot;&quot;);
	FailureMessage  = &quot;有主机没告警,告警数量为&quot;+nu;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询规则" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">CPU_triggerId;alert_datacenter_triggerId;spark_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;CPU 使用率&quot;)].triggerId ; $..list[?(@.name ==&quot;链路alert-web节点状态&quot;)].triggerId ; $..list[?(@.name ==&quot;作业堆积批次&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">String CPU_triggerId=vars.get(&quot;CPU_triggerId&quot;);
String alert_datacenter_triggerId=vars.get(&quot;alert_datacenter_triggerId&quot;);
String spark_triggerId=vars.get(&quot;spark_triggerId&quot;);
//log.error(CPU_triggerId+alert_datacenter_triggerId+spark_triggerId);
String [] triggerIds={CPU_triggerId,alert_datacenter_triggerId,spark_triggerId};
vars.putObject(&quot;triggerIds&quot;,triggerIds);
//log.error(triggerIds[0]);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${CPU_triggerId}</stringProp>
          <stringProp name="HTTPSampler.method">DELETE</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="事件列表是否有恢复的事件" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;levels&quot;:[0],&quot;granularity&quot;:30,&quot;search&quot;:&quot;&quot;,&quot;startTime&quot;:${__timeShift(,,-PT10S,,)},&quot;endTime&quot;:${__timeShift(,,PT10S,,)}}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/event/eventGroupList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">5000</stringProp>
          </ConstantTimer>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONArray(&quot;data&quot;); 
int len = data_array.length();
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
if(len==hots_num){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	return;
}else{
	Failure = true;
	log.error(len+&quot;&quot;);
	FailureMessage  = &quot;有主机没有恢复&quot;;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${alert_datacenter_triggerId}</stringProp>
          <stringProp name="HTTPSampler.method">DELETE</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${spark_triggerId}</stringProp>
          <stringProp name="HTTPSampler.method">DELETE</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="主机管理是否变正常" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/monitorResource/resourceList?type=HOST&amp;pageIndex=1&amp;pageSize=20</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONObject(&quot;data&quot;).getJSONArray(&quot;list&quot;); 
int len = data_array.length();
int nu=0;
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)data_array.getJSONObject(i); 
	String name = jsonTemp.get(&quot;status&quot;).toString();
	if(name.equals(&quot;0&quot;)){
		nu++;
	}	
}
if(nu==hots_num){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,nu+&quot;&quot;);
	return;
}else{
	Failure = true;
	log.error(nu+&quot;&quot;);
	FailureMessage  = &quot;有主机没告警,告警数量为&quot;+nu;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="调试取样器" enabled="true">
          <boolProp name="displayJMeterProperties">false</boolProp>
          <boolProp name="displayJMeterVariables">true</boolProp>
          <boolProp name="displaySystemProperties">false</boolProp>
        </DebugSampler>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="3、databank自监控告警功能测试16.460kafkastream" enabled="false">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
        <stringProp name="TestPlan.comments">测试前得将spark作业都正常运行起来</stringProp>
      </ThreadGroup>
      <hashTree>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="测试准备2-变量" enabled="true">
          <stringProp name="BeanShellSampler.query">import java.math.BigInteger;
import java.util.Calendar;
import java.util.Date;

//vars.put(&quot;apikey&quot;,${__P(apikey,)});
vars.put(&quot;esIp&quot;,${__P(esIp,)});
vars.put(&quot;hots_num&quot;,&quot;${__P(hots_num,)}&quot;);
//vars.put(&quot;esIp&quot;,&quot;10.1.56.161&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree/>
        <ConfigTestElement guiclass="HttpDefaultsGui" testclass="ConfigTestElement" testname="测试准备3-默认IP" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain">${__P(MeterSphere.url)}</stringProp>
          <stringProp name="HTTPSampler.port">${__P(MeterSphere.port)}</stringProp>
          <stringProp name="HTTPSampler.protocol">http</stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path"></stringProp>
          <stringProp name="HTTPSampler.concurrentPool">6</stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </ConfigTestElement>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询规则" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">CPU_triggerId;alert_datacenter_triggerId;kafkastream_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;CPU 使用率&quot;)].triggerId ; $..list[?(@.name ==&quot;链路alert-web节点状态&quot;)].triggerId ; $..list[?(@.name ==&quot;消费者堆积&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">String CPU_triggerId=vars.get(&quot;CPU_triggerId&quot;);
String alert_datacenter_triggerId=vars.get(&quot;alert_datacenter_triggerId&quot;);
String spark_triggerId=vars.get(&quot;spark_triggerId&quot;);
//log.error(CPU_triggerId+alert_datacenter_triggerId+spark_triggerId);
String [] triggerIds={CPU_triggerId,alert_datacenter_triggerId,spark_triggerId};
vars.putObject(&quot;triggerIds&quot;,triggerIds);
//log.error(triggerIds[0]);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${CPU_triggerId}&quot;!=&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${CPU_triggerId}</stringProp>
            <stringProp name="HTTPSampler.method">DELETE</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${alert_datacenter_triggerId}&quot;!=&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${alert_datacenter_triggerId}</stringProp>
            <stringProp name="HTTPSampler.method">DELETE</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="如果（If）控制器" enabled="true">
          <stringProp name="IfController.condition">&quot;${spark_triggerId}&quot;!=&quot;000&quot;</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
        </IfController>
        <hashTree>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="true">
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
              <collectionProp name="Arguments.arguments"/>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${kafkastream_triggerId}</stringProp>
            <stringProp name="HTTPSampler.method">DELETE</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree/>
        </hashTree>
        <TransactionController guiclass="TransactionControllerGui" testclass="TransactionController" testname="测试准备删除历史数据" enabled="true">
          <boolProp name="TransactionController.parent">true</boolProp>
        </TransactionController>
        <hashTree>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="monitor-删除历史事件数据" enabled="true">
            <stringProp name="command">curl -XDELETE -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/databank_event_model</stringProp>
            <intProp name="connectionTimeout">5000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree/>
          <org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler guiclass="TestBeanGUI" testclass="org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler" testname="monitor-删除历史指标数据" enabled="false">
            <stringProp name="command">curl -XPOST -H &quot;Content-Type: application/json&quot;  -u admin:Admin@123 http://${esIp}:9200/dw_metric_model_${__time(yyyyMMdd)}/_delete_by_query -d &apos;{&quot;query&quot;: {&quot;bool&quot;: { &quot;must&quot;: [  {&quot;term&quot;: { &quot;objectId&quot;: &quot;${objectid}&quot; } },{&quot;term&quot;: { &quot;metric_name&quot;: &quot;system.mem.free&quot;}}]}}}&apos; </stringProp>
            <intProp name="connectionTimeout">5000</intProp>
            <stringProp name="hostname">${mysqlIp}</stringProp>
            <stringProp name="passphrase"></stringProp>
            <stringProp name="password">${mysqlpasswd}</stringProp>
            <intProp name="port">22</intProp>
            <boolProp name="printStdErr">true</boolProp>
            <stringProp name="sshkeyfile"></stringProp>
            <boolProp name="useReturnCode">true</boolProp>
            <stringProp name="username">root</stringProp>
          </org.apache.jmeter.protocol.ssh.sampler.SSHCommandSampler>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建阈值规则-CPU" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&#xd;
	&quot;classCode&quot;: &quot;Linux&quot;,&#xd;
	&quot;metricCode&quot;: &quot;sys.metric.cpu.used_ratio&quot;,&#xd;
	&quot;operator&quot;: &quot;&gt;=&quot;,&#xd;
	&quot;alertMap&quot;: {&#xd;
		&quot;3&quot;: 0&#xd;
	},&#xd;
	&quot;notifyList&quot;: [&#xd;
		&quot;EMAIL&quot;,&#xd;
		&quot;NOTIFY&quot;,&#xd;
		&quot;ALERT&quot;&#xd;
	],&#xd;
	&quot;recoverPolicyId&quot;: null&#xd;
}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建阈值规则-kafkasteam作业堆积" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;KafkaStreams&quot;,&quot;metricCode&quot;:&quot;kafka.streams.task.lagsize&quot;,&quot;operator&quot;:&quot;&gt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;recoverPolicyId&quot;:&quot;NONE_RECOVER&quot;}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="创建阈值规则-业务性能" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;classCode&quot;:&quot;业务性能&quot;,&quot;metricCode&quot;:&quot;chain.state.alert-web&quot;,&quot;operator&quot;:&quot;&gt;=&quot;,&quot;alertMap&quot;:{&quot;3&quot;:0},&quot;notifyList&quot;:[&quot;NOTIFY&quot;,&quot;ALERT&quot;,&quot;EMAIL&quot;],&quot;recoverPolicyId&quot;:null}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/saveMonitorTrigger</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <BeanShellSampler guiclass="BeanShellSamplerGui" testclass="BeanShellSampler" testname="设置查询时间范围" enabled="true">
          <stringProp name="BeanShellSampler.query">vars.put(&quot;start_time&quot;,&quot;${__time()}&quot;);
vars.put(&quot;end_time&quot;,&quot;${__timeShift(,,PT10M,,)}&quot;);
vars.put(&quot;nu&quot;,&quot;&quot;);
vars.put(&quot;temp&quot;,&quot;0&quot;);
//vars.put(&quot;start_time&quot;,&quot;1623832496000&quot;);
//vars.put(&quot;end_time&quot;,&quot;1623833096000&quot;);
</stringProp>
          <stringProp name="BeanShellSampler.filename"></stringProp>
          <stringProp name="BeanShellSampler.parameters"></stringProp>
          <boolProp name="BeanShellSampler.resetInterpreter">false</boolProp>
        </BeanShellSampler>
        <hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="定时" enabled="true">
            <stringProp name="ConstantTimer.delay">240000</stringProp>
          </ConstantTimer>
          <hashTree/>
        </hashTree>
        <WhileController guiclass="WhileControllerGui" testclass="WhileController" testname="查询CPU指是否告警了" enabled="true">
          <stringProp name="WhileController.condition">${__javaScript( &quot;${nu}&quot;==&quot;&quot; &amp;&amp; &quot;${num}&quot;!=&quot;20&quot; ,)}</stringProp>
        </WhileController>
        <hashTree>
          <CounterConfig guiclass="CounterConfigGui" testclass="CounterConfig" testname="计数器" enabled="true">
            <stringProp name="CounterConfig.start">1</stringProp>
            <stringProp name="CounterConfig.end">20</stringProp>
            <stringProp name="CounterConfig.incr">1</stringProp>
            <stringProp name="CounterConfig.name">num</stringProp>
            <stringProp name="CounterConfig.format"></stringProp>
            <boolProp name="CounterConfig.per_user">false</boolProp>
          </CounterConfig>
          <hashTree/>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">10000</stringProp>
          </ConstantTimer>
          <hashTree/>
          <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询是否有CPU指标的告警事件" enabled="true">
            <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
            <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
              <collectionProp name="Arguments.arguments">
                <elementProp name="" elementType="HTTPArgument">
                  <boolProp name="HTTPArgument.always_encode">false</boolProp>
                  <stringProp name="Argument.value">{&quot;levels&quot;:[-1,0,1,2,3],&quot;granularity&quot;:30,&quot;search&quot;:&quot;&quot;,&quot;startTime&quot;:${start_time},&quot;endTime&quot;:${end_time}}</stringProp>
                  <stringProp name="Argument.metadata">=</stringProp>
                </elementProp>
              </collectionProp>
            </elementProp>
            <stringProp name="HTTPSampler.domain"></stringProp>
            <stringProp name="HTTPSampler.port"></stringProp>
            <stringProp name="HTTPSampler.protocol"></stringProp>
            <stringProp name="HTTPSampler.contentEncoding"></stringProp>
            <stringProp name="HTTPSampler.path">udapmanager/api/event/eventGroupList</stringProp>
            <stringProp name="HTTPSampler.method">POST</stringProp>
            <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
            <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
            <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
            <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
            <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
            <stringProp name="HTTPSampler.connect_timeout"></stringProp>
            <stringProp name="HTTPSampler.response_timeout"></stringProp>
          </HTTPSamplerProxy>
          <hashTree>
            <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
              <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
if(response_data.contains(&quot;\&quot;data\&quot;:[]&quot;)){
	return;
}
//可能出现的数据也不完整，还得多等等
//int num2 = new Integer(vars.get(&quot;num2&quot;));
//num2++;
//vars.put(&quot;num2&quot;,num2+&quot;&quot;);
//if(num2&lt;=5){
//	return;
//}
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONArray(&quot;data&quot;); 
int len = data_array.length();
int nu=0;
//这里那会次数值，如果执行5次了就断言
int temp= new Integer(vars.get(&quot;temp&quot;));
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)data_array.getJSONObject(i); 
	String name = jsonTemp.get(&quot;name&quot;).toString();
	if(name.equals(&quot;CPU 使用率&quot;)){
		nu++;
	}	
}
if(nu==hots_num &amp;&amp; response_data.contains(&quot;消费者堆积最近5分钟AVG已达到&quot;)){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,nu+&quot;&quot;);
	return;
}else {
	temp++;
	vars.put(&quot;temp&quot;,temp+&quot;&quot;);
}
if(temp==20){
	Failure = true;
	FailureMessage  = &quot;有主机没告警,告警数量为&quot;+nu;
	return;
}</stringProp>
              <stringProp name="BeanShellAssertion.filename"></stringProp>
              <stringProp name="BeanShellAssertion.parameters"></stringProp>
              <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
            </BeanShellAssertion>
            <hashTree/>
          </hashTree>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询是否有alert-web指标的告警事件" enabled="true">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;levels&quot;:[-1,0,1,2,3],&quot;granularity&quot;:30,&quot;search&quot;:&quot;&quot;,&quot;startTime&quot;:${start_time},&quot;endTime&quot;:${end_time}}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/event/eventGroupList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
if( !response_data.contains(&quot;链路alert-web节点状态&quot;) &amp;&amp; ${num}!=10 ){
	return;
}

if(response_data.contains(&quot;链路alert-web节点状态&quot;)){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,&quot;0&quot;);
	return;
}else{
	Failure = true;
	FailureMessage  = &quot;没有产生告警&quot;;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="主机是否变红异常" enabled="true">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/monitorResource/resourceList?type=HOST&amp;pageIndex=1&amp;pageSize=20</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONObject(&quot;data&quot;).getJSONArray(&quot;list&quot;); 
int len = data_array.length();
int nu=0;
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)data_array.getJSONObject(i); 
	String name = jsonTemp.get(&quot;status&quot;).toString();
	if(name.equals(&quot;3&quot;)){
		nu++;
	}	
}
if(nu==hots_num){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,nu+&quot;&quot;);
	return;
}else{
	Failure = true;
	log.error(nu+&quot;&quot;);
	FailureMessage  = &quot;有主机没告警,告警数量为&quot;+nu;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="查询规则" enabled="false">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;pageSize&quot;:50,&quot;pageIndex&quot;:1,&quot;config&quot;:true}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">/udapmanager/api/metric/metricList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <JSONPostProcessor guiclass="JSONPostProcessorGui" testclass="JSONPostProcessor" testname="JSON提取器" enabled="true">
            <stringProp name="JSONPostProcessor.referenceNames">CPU_triggerId;alert_datacenter_triggerId;spark_triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.jsonPathExprs">$..list[?(@.name ==&quot;CPU 使用率&quot;)].triggerId ; $..list[?(@.name ==&quot;链路alert-web节点状态&quot;)].triggerId ; $..list[?(@.name ==&quot;作业堆积批次&quot;)].triggerId;</stringProp>
            <stringProp name="JSONPostProcessor.match_numbers">1;1;1;</stringProp>
            <stringProp name="JSONPostProcessor.defaultValues">000;000;000;</stringProp>
          </JSONPostProcessor>
          <hashTree/>
          <BeanShellPostProcessor guiclass="TestBeanGUI" testclass="BeanShellPostProcessor" testname="BeanShell 后置处理程序" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">String CPU_triggerId=vars.get(&quot;CPU_triggerId&quot;);
String alert_datacenter_triggerId=vars.get(&quot;alert_datacenter_triggerId&quot;);
String spark_triggerId=vars.get(&quot;spark_triggerId&quot;);
//log.error(CPU_triggerId+alert_datacenter_triggerId+spark_triggerId);
String [] triggerIds={CPU_triggerId,alert_datacenter_triggerId,spark_triggerId};
vars.putObject(&quot;triggerIds&quot;,triggerIds);
//log.error(triggerIds[0]);</stringProp>
          </BeanShellPostProcessor>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${CPU_triggerId}</stringProp>
          <stringProp name="HTTPSampler.method">DELETE</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="事件列表是否有恢复的事件" enabled="false">
          <boolProp name="HTTPSampler.postBodyRaw">true</boolProp>
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments">
            <collectionProp name="Arguments.arguments">
              <elementProp name="" elementType="HTTPArgument">
                <boolProp name="HTTPArgument.always_encode">false</boolProp>
                <stringProp name="Argument.value">{&quot;levels&quot;:[0],&quot;granularity&quot;:30,&quot;search&quot;:&quot;&quot;,&quot;startTime&quot;:${__timeShift(,,-PT10S,,)},&quot;endTime&quot;:${__timeShift(,,PT10S,,)}}</stringProp>
                <stringProp name="Argument.metadata">=</stringProp>
              </elementProp>
            </collectionProp>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/event/eventGroupList</stringProp>
          <stringProp name="HTTPSampler.method">POST</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <ConstantTimer guiclass="ConstantTimerGui" testclass="ConstantTimer" testname="固定定时器" enabled="true">
            <stringProp name="ConstantTimer.delay">5000</stringProp>
          </ConstantTimer>
          <hashTree/>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONArray(&quot;data&quot;); 
int len = data_array.length();
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
if(len==hots_num){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	return;
}else{
	Failure = true;
	log.error(len+&quot;&quot;);
	FailureMessage  = &quot;有主机没有恢复&quot;;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${alert_datacenter_triggerId}</stringProp>
          <stringProp name="HTTPSampler.method">DELETE</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="删除规则" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/metric/trigger/${spark_triggerId}</stringProp>
          <stringProp name="HTTPSampler.method">DELETE</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree/>
        <HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="主机管理是否变正常" enabled="false">
          <elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" enabled="true">
            <collectionProp name="Arguments.arguments"/>
          </elementProp>
          <stringProp name="HTTPSampler.domain"></stringProp>
          <stringProp name="HTTPSampler.port"></stringProp>
          <stringProp name="HTTPSampler.protocol"></stringProp>
          <stringProp name="HTTPSampler.contentEncoding"></stringProp>
          <stringProp name="HTTPSampler.path">udapmanager/api/monitorResource/resourceList?type=HOST&amp;pageIndex=1&amp;pageSize=20</stringProp>
          <stringProp name="HTTPSampler.method">GET</stringProp>
          <boolProp name="HTTPSampler.follow_redirects">true</boolProp>
          <boolProp name="HTTPSampler.auto_redirects">false</boolProp>
          <boolProp name="HTTPSampler.use_keepalive">true</boolProp>
          <boolProp name="HTTPSampler.DO_MULTIPART_POST">false</boolProp>
          <stringProp name="HTTPSampler.embedded_url_re"></stringProp>
          <stringProp name="HTTPSampler.connect_timeout"></stringProp>
          <stringProp name="HTTPSampler.response_timeout"></stringProp>
        </HTTPSamplerProxy>
        <hashTree>
          <BeanShellAssertion guiclass="BeanShellAssertionGui" testclass="BeanShellAssertion" testname="BeanShell断言" enabled="true">
            <stringProp name="BeanShellAssertion.query">import org.json.*;
String response_data = prev.getResponseDataAsString();
JSONObject data_obj = new JSONObject(response_data);
JSONArray data_array = data_obj.getJSONObject(&quot;data&quot;).getJSONArray(&quot;list&quot;); 
int len = data_array.length();
int nu=0;
int hots_num=new Integer(vars.get(&quot;hots_num&quot;));
for(int i = 0;i &lt;len;i++){
	JSONObject jsonTemp = (JSONObject)data_array.getJSONObject(i); 
	String name = jsonTemp.get(&quot;status&quot;).toString();
	if(name.equals(&quot;0&quot;)){
		nu++;
	}	
}
if(nu==hots_num){
	Failure = false;
	FailureMessage = &quot;正常&quot;;
	vars.put(&quot;nu&quot;,nu+&quot;&quot;);
	return;
}else{
	Failure = true;
	log.error(nu+&quot;&quot;);
	FailureMessage  = &quot;有主机没告警,告警数量为&quot;+nu;
	return;
}</stringProp>
            <stringProp name="BeanShellAssertion.filename"></stringProp>
            <stringProp name="BeanShellAssertion.parameters"></stringProp>
            <boolProp name="BeanShellAssertion.resetInterpreter">false</boolProp>
          </BeanShellAssertion>
          <hashTree/>
        </hashTree>
        <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="调试取样器" enabled="false">
          <boolProp name="displayJMeterProperties">false</boolProp>
          <boolProp name="displayJMeterVariables">true</boolProp>
          <boolProp name="displaySystemProperties">false</boolProp>
        </DebugSampler>
        <hashTree/>
      </hashTree>
      <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="View Results Tree" enabled="true">
        <boolProp name="ResultCollector.error_logging">false</boolProp>
        <objProp>
          <name>saveConfig</name>
          <value class="SampleSaveConfiguration">
            <time>true</time>
            <latency>true</latency>
            <timestamp>true</timestamp>
            <success>true</success>
            <label>true</label>
            <code>true</code>
            <message>true</message>
            <threadName>true</threadName>
            <dataType>true</dataType>
            <encoding>false</encoding>
            <assertions>true</assertions>
            <subresults>true</subresults>
            <responseData>false</responseData>
            <samplerData>false</samplerData>
            <xml>true</xml>
            <fieldNames>true</fieldNames>
            <responseHeaders>false</responseHeaders>
            <requestHeaders>false</requestHeaders>
            <responseDataOnError>false</responseDataOnError>
            <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
            <assertionsResultsToSave>0</assertionsResultsToSave>
            <bytes>true</bytes>
            <sentBytes>true</sentBytes>
            <url>true</url>
            <threadCounts>true</threadCounts>
            <idleTime>true</idleTime>
            <connectTime>true</connectTime>
          </value>
        </objProp>
        <stringProp name="filename"></stringProp>
      </ResultCollector>
      <hashTree/>
    </hashTree>
  </hashTree>
</jmeterTestPlan>
