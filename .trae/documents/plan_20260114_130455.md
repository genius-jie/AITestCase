# 基于6A工作流的接口自动化场景设计与性能测试执行计划

## 1. 工作流概述
本执行计划基于AI语音交互系统测试6A工业级工作流模板，专为接口测试项目定制，实现从需求分析到结果评估的全流程自动化测试。

## 2. 阶段划分与执行内容

### 阶段A1: Analyze｜需求分析与规则提取
- **目标**：分析接口调用链路，提取可测试的业务规则和接口约束
- **输入**：
  - 登录接口定义
  - 文件上传接口定义
  - 测试升级接口定义
- **输出**：
  - 结构化需求清单
  - 接口依赖关系图
  - 可测试业务规则集
- **核心动作**：
  1. 分析每个接口的功能、参数、响应结构
  2. 识别接口之间的依赖关系
  3. 提取接口调用规则和约束条件
  4. 生成接口依赖关系图
  5. 输出结构化需求清单

### 阶段A2: Architect｜流程架构与标准制定
- **目标**：设计接口自动化测试架构和流程
- **输入**：
  - A1阶段输出的需求清单和业务规则
  - 接口依赖关系图
- **输出**：
  - 接口自动化测试架构设计文档
  - 数据流、执行流、结果流设计
  - 变量关联策略
- **核心动作**：
  1. 设计接口自动化测试架构
  2. 定义数据流（从登录到测试升级的完整链路）
  3. 设计执行流（接口调用顺序和条件）
  4. 定义结果流（响应处理和验证）
  5. 制定变量关联策略
  6. 输出测试架构设计文档

### 阶段A3: Assemble｜资产聚合与标准化
- **目标**：整合测试资源，形成标准化测试资产
- **输入**：
  - A2阶段输出的架构设计文档
  - 接口定义文件
- **输出**：
  - 测试任务拆分文档
  - 标准化测试资产库
  - 测试数据契约
- **核心动作**：
  1. 拆分测试任务（如登录测试、文件上传测试、测试升级测试）
  2. 整合接口定义、测试数据等资产
  3. 标准化测试资产格式和命名规范
  4. 建立资产索引和检索机制
  5. 输出测试任务拆分文档

### 阶段A4: Automate｜数据构造与工具适配
- **目标**：生成测试数据，配置JMeter测试脚本
- **输入**：
  - A3阶段输出的测试任务拆分文档
  - 标准化测试资产库
- **输出**：
  - 测试数据集
  - JMeter测试脚本
  - 工具参数化与适配说明
- **核心动作**：
  1. 设计测试数据（登录凭证、文件路径、设备SN等）
  2. 生成测试数据集
  3. 配置JMeter测试脚本
  4. 实现变量关联（如从登录响应中提取access_token）
  5. 配置断言和验证规则
  6. 输出JMeter测试脚本和工具适配说明

### 阶段A5: Apply｜测试执行与问题调试
- **目标**：执行测试，调试问题，定位根因
- **输入**：
  - A4阶段输出的测试数据集
  - JMeter测试脚本
- **输出**：
  - 测试执行日志
  - 问题根因分析报告
  - 调试后的测试脚本
- **核心动作**：
  1. 执行单线程调试测试
  2. 验证接口调用链路是否正常
  3. 调试变量关联和断言
  4. 定位并分析问题根因
  5. 优化测试脚本
  6. 输出测试执行日志和根因分析报告

### 阶段A6: Assess｜结果评估与体系迭代
- **目标**：评估测试效果，提出优化建议
- **输入**：
  - A5阶段输出的测试执行日志
  - 问题根因分析报告
- **输出**：
  - 多维度评估报告
  - 流程与工具优化建议
  - 性能测试报告
- **核心动作**：
  1. 执行性能测试（多线程、大并发）
  2. 生成性能测试报告
  3. 评估接口自动化测试效果
  4. 分析性能瓶颈
  5. 提出流程和工具优化建议
  6. 输出多维度评估报告

## 3. 项目资源映射

### 输入资源映射
- **需求文档**：登录、文件上传、测试升级接口定义
- **接口文档**：接口调用链路和参数约束
- **测试数据**：`e:\AI测试用例\接口测试\data\*.csv`
- **测试脚本**：`e:\AI测试用例\接口测试\scripts\*.jmx`

### 输出资源映射
- **测试结果**：`e:\AI测试用例\接口测试\reports\*.jtl`
- **测试报告**：`e:\AI测试用例\接口测试\reports\html_report\`
- **分析报告**：`e:\AI测试用例\接口测试\reports\test_analysis_report.md`

## 4. 执行约束

1. **阶段依赖**：严格遵循A1→A2→A3→A4→A5→A6的执行顺序
2. **文档完整性**：每个阶段必须生成完整的三件套文档（role.prompt.md、workflow.md、mistakes.md）
3. **测试执行**：必须使用JMeter工具执行测试，生成标准的JTL结果文件
4. **报告生成**：必须生成HTML格式的可视化测试报告
5. **变量关联**：必须正确实现接口之间的变量关联，确保接口调用链路畅通

## 5. 预期成果

- 完整的6A工作流阶段文档
- 可执行的JMeter接口自动化测试脚本
- 成功串联的接口调用链路
- 有效的变量关联机制
- 完整的性能测试报告
- 测试结果分析和优化建议

## 6. 执行步骤

1. 启动A1阶段：分析接口需求和规则
2. 完成A1阶段文档，进入A2阶段：设计测试架构
3. 完成A2阶段文档，进入A3阶段：资产聚合与标准化
4. 完成A3阶段文档，进入A4阶段：生成测试数据和配置JMeter脚本
5. 完成A4阶段文档，进入A5阶段：执行测试和调试问题
6. 完成A5阶段文档，进入A6阶段：评估测试结果和性能测试
7. 完成A6阶段文档，输出最终报告和优化建议