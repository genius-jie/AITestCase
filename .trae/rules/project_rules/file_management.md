# 文件修改规则

**核心原则：永远优先修改原文档，而不是创建新文档**

## 为什么必须修改原文档？

### 问题场景
- ❌ 创建 `文档_新.md`、`文档_修改版.md`、`文档_最终版.md` 等多个版本
- ❌ 源文档和修改版文档内容重复，维护困难
- ❌ 用户不知道应该使用哪个版本
- ❌ 版本过多导致文件命名混乱，难以管理

### 正确做法
- ✅ 直接修改源文档，保留唯一版本
- ✅ 确保修改后文档格式正确、内容完整
- ✅ 用户只需要关注一个文件，降低使用成本
- ✅ 便于版本控制和协作

## 规则详情

### 1. 优先修改原则
**所有修改操作必须在原文档上进行，禁止创建新文件作为修改版本。**

| 操作类型 | 正确做法 | 错误做法 |
|---------|---------|---------|
| 修复错误 | 直接修改原文档 | 创建 `文档_修复版.md` |
| 添加内容 | 在原文档末尾或相应位置添加 | 创建 `文档_完整版.md` |
| 更新格式 | 修改原文档格式 | 创建 `文档_新格式.md` |
| 补充描述 | 在原文档中添加描述 | 创建 `文档_描述版.md` |

### 2. 修改前准备
在修改任何文档之前：
1. 读取原文档内容（使用Read工具）
2. 确认修改范围和位置
3. 确认修改不会破坏文档结构

### 3. 修改后验证
修改完成后必须验证：
1. 文档格式是否正确
2. 内容是否完整无遗漏
3. 是否符合项目规范

### 4. 例外情况
只有在以下情况才允许创建新文档：
- 原文档不存在（首次创建）
- 需要备份原文档（先备份再修改）
- 用户明确要求创建新版本

## 违反规则的后果

1. **文件冗余**：项目中出现多个相似文件，难以管理
2. **版本混乱**：用户无法确定使用哪个版本
3. **维护成本**：需要同步更新多个文件
4. **协作困难**：团队成员使用不同版本

## 正确示例

```markdown
# 正确做法

## 修改前
原文档：6_最终测试用例_情绪小精灵_M8.md

## 修改后
直接修改 6_最终测试用例_情绪小精灵_M8.md，添加模块描述

## 错误做法

## 修改前
原文档：6_最终测试用例_情绪小精灵_M8.md

## 修改后
创建 6_最终测试用例_情绪小精灵_M8_新.md
（导致两个文件并存，用户困惑）
```

## 5. 强制执行

**本规则为强制执行规则，所有修改操作必须遵循。**

违反此规则将导致：
- 文件管理混乱
- 用户体验下降
- 协作效率降低
- 维护成本增加

---

**创建时间**：2026-01-08
**最后更新**：2026-01-14
