@workflow_type: reusable
@usage_mode: execution
@enforcement: optional
@phase_id: A1
@version: 1.0.0
@author: QA Team
@created_at: 2026-01-14
@last_updated: 2026-01-14

Analyze｜需求分析与规则提取
@phase_id: A1
@role: 业务规则解析Agent
@human_review: required
@upstream_phases: []

@goal:
- 将原始输入文档转化为“可测试、可执行、可验收”的结构化规则集合

@inputs:
- 语音生成业务文档.md - 业务逻辑和需求说明
- 语音生成数据契约文档.md - 数据规范和字段定义
- VAD测试数据设计与样本生成指南.md - 测试设计指南
- EOU音频轮次检测服务，判断用户是否说完.md - EOU服务说明
- 领域知识库（语音 / ASR / TTS / LM）

@outputs:
- 结构化需求清单
- 需求澄清与验收标准
- 测试维度规划（正常/异常/边界/鲁棒性）
- 核心字段与非核心字段识别
- 业务规则提取结果
- 阶段需求摘要：
  - 项目概览
  - 字段清单与必选/可选状态
  - 数据类型和取值规则

@validation_rules:
- 无上游依赖，直接执行

@execution_steps:
1. 阅读《VAD测试数据设计与样本生成指南》
2. 分析VAD算法需求
3. 梳理测试目标：
   - 输入字段、预期字段、音频元数据
   - 停顿、呼吸、语速、音调、音量、语气风格
4. 分类测试场景：
   - 正常场景
   - 异常场景
   - 边界场景
5. 提取需求类型和测试目标
6. 提取关键参数和优先级信息
7. 设计测试场景：
   - 场景ID、场景名称
   - 场景优先级（P0/P1/P2）
   - 预期VAD检测结果
8. 生成阶段需求摘要：
   - 项目概览
   - 字段清单与必选/可选状态
   - 数据类型和取值规则
9. 输出阶段报告：
   - 测试目标清单
   - 数据结构需求说明
10. 将提取结果存入阶段级文档，用于 A2/A3 调用

@skeleton:
  sections:
    - 输入文档概览
    - 业务规则提取
    - 接口与参数约束
    - 质量与性能指标
    - 待澄清问题列表

---