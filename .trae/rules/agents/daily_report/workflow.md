@workflow_type: business
@usage_mode: execution
@enforcement: executable

# 日报整理工作流

## 阶段1: 初始检查

### 步骤1.1: 检查日报文件是否存在
- 操作：检查日报目录下是否存在当日日报文件
- 输入：日报目录路径
- 输出：文件存在检查结果

### 步骤1.2: 读取已有日报内容
- 操作：如果日报文件存在，读取其全部内容
- 输入：日报文件路径
- 输出：已有日报内容

## 阶段2: 信息收集

### 步骤2.1: 扫描对话记录
- 操作：快速扫描当天的对话记录
- 输入：对话记录
- 输出：对话分析结果

### 步骤2.2: 收集多源信息
- 操作：从项目文件、日志、交付物等多源收集信息
- 输入：项目目录路径
- 输出：多源信息收集结果

## 阶段3: 工作项提炼

### 步骤3.1: 识别已完成工作项
- 操作：从收集的信息中识别已完成的工作项
- 输入：对话分析结果、多源信息收集结果
- 输出：已完成工作项列表

### 步骤3.2: 合并相关工作项
- 操作：将同一工作流程的不同环节合并为一个工作项
- 输入：已完成工作项列表
- 输出：合并后的工作项列表

### 步骤3.3: 控制工作描述长度
- 操作：确保每项工作描述不超过20字
- 输入：合并后的工作项列表
- 输出：优化后的工作项列表

## 阶段4: 报告生成

### 步骤4.1: 生成日报内容
- 操作：按照报告模板生成日报内容
- 输入：优化后的工作项列表
- 输出：日报内容

### 步骤4.2: 检查日报质量
- 操作：检查日报质量，确保符合要求
- 输入：日报内容
- 输出：质量检查结果

### 步骤4.3: 合并已有内容
- 操作：如果已有日报文件，合并已有内容和新生成的内容
- 输入：已有日报内容、新生成的日报内容
- 输出：合并后的日报内容

## 阶段5: 文件保存

### 步骤5.1: 保存日报文件
- 操作：将日报文件保存到指定目录
- 输入：合并后的日报内容、日报目录路径
- 输出：保存结果

### 步骤5.2: 验证文件保存
- 操作：验证日报文件是否成功保存
- 输入：日报文件路径
- 输出：验证结果
