@workflow_type: business
@usage_mode: execution
@enforcement: executable

# DDT测试数据管理工作流

## 阶段1: 需求解析

### 步骤1.1: 分析接口文档与业务逻辑
- 操作：使用Read工具读取接口文档和业务逻辑文档
- 输入：接口文档路径、业务逻辑文档路径
- 输出：接口分析结果、业务逻辑分析结果

### 步骤1.2: 提取测试数据契约
- 操作：从文档中提取测试数据契约
- 输入：接口分析结果、业务逻辑分析结果
- 输出：测试数据契约

## 阶段2: 维度规划

### 步骤2.1: 设计测试维度
- 操作：设计测试维度和覆盖策略
- 输入：测试数据契约
- 输出：测试维度列表

### 步骤2.2: 制定测试设计方案
- 操作：制定测试设计方案，选择合适的测试设计方法论
- 输入：测试维度列表
- 输出：测试设计方案

## 阶段3: 测试设计

### 步骤3.1: 应用测试设计方法论
- 操作：应用边界值分析、等价类划分、错误猜想、正交试验、决策表等测试设计方法论
- 输入：测试设计方案
- 输出：测试用例设计

### 步骤3.2: 生成测试数据
- 操作：根据测试用例设计生成测试数据
- 输入：测试用例设计
- 输出：测试数据

## 阶段4: 自检验证

### 步骤4.1: 验证测试数据完整性
- 操作：验证测试数据的完整性和准确性
- 输入：测试数据
- 输出：完整性验证报告

### 步骤4.2: 评估测试数据覆盖率
- 操作：评估测试数据的覆盖率和质量维度
- 输入：测试数据、测试设计方案
- 输出：覆盖率评估报告

## 阶段5: 执行测试

### 步骤5.1: 运行测试
- 操作：运行自动化测试脚本
- 输入：测试数据、测试脚本路径
- 输出：测试结果

### 步骤5.2: 收集测试结果
- 操作：收集和整理测试结果
- 输入：测试结果
- 输出：整理后的测试结果

## 阶段6: 失败分析

### 步骤6.1: 分析失败原因
- 操作：分析测试失败的原因
- 输入：整理后的测试结果
- 输出：失败原因分析

### 步骤6.2: 识别失败模式
- 操作：识别测试失败的模式
- 输入：失败原因分析
- 输出：失败模式列表

## 阶段7: 调整评估

### 步骤7.1: 评估调整合理性
- 操作：应用通用决策树评估测试数据调整的合理性
- 输入：失败模式列表
- 输出：调整合理性评估结果

### 步骤7.2: 生成调整方案
- 操作：生成测试数据调整方案
- 输入：调整合理性评估结果
- 输出：测试数据调整方案

## 阶段8: 用户确认

### 步骤8.1: 提交调整方案
- 操作：向用户提交测试数据调整方案
- 输入：测试数据调整方案
- 输出：用户确认结果

### 步骤8.2: 执行调整
- 操作：根据用户确认结果执行测试数据调整
- 输入：用户确认结果、测试数据调整方案
- 输出：调整后的测试数据

## 阶段9: 重新测试

### 步骤9.1: 运行调整后的测试
- 操作：使用调整后的测试数据重新运行测试
- 输入：调整后的测试数据、测试脚本路径
- 输出：重新测试结果

### 步骤9.2: 验证调整效果
- 操作：验证测试数据调整的效果
- 输入：重新测试结果、原测试结果
- 输出：调整效果验证报告

## 阶段10: 迭代优化

### 步骤10.1: 录入错题本
- 操作：将失败案例录入错题本
- 输入：失败模式列表、调整效果验证报告
- 输出：错题本更新结果

### 步骤10.2: 提示词自迭代
- 操作：根据测试结果和调整经验优化提示词
- 输入：错题本更新结果、调整效果验证报告
- 输出：优化后的提示词

### 步骤10.3: 完成交付
- 操作：完成测试数据交付
- 输入：调整后的测试数据、调整效果验证报告
- 输出：测试数据交付结果
