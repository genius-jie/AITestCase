# 文件修改规则

**核心原则：永远优先修改原文档，而不是创建新文档**

## 为什么必须修改原文档？

### 问题场景
- ❌ 创建 `文档_新.md`、`文档_修改版.md`、`文档_最终版.md` 等多个版本
- ❌ 源文档和修改版文档内容重复，维护困难
- ❌ 用户不知道应该使用哪个版本
- ❌ 版本过多导致文件命名混乱，难以管理

### 正确做法
- ✅ 直接修改源文档，保留唯一版本
- ✅ 确保修改后文档格式正确、内容完整
- ✅ 用户只需要关注一个文件，降低使用成本
- ✅ 便于版本控制和协作

## 规则详情

### 1. 优先修改原则
**所有修改操作必须在原文档上进行，禁止创建新文件作为修改版本。**

| 操作类型 | 正确做法 | 错误做法 |
|---------|---------|---------|
| 修复错误 | 直接修改原文档 | 创建 `文档_修复版.md` |
| 添加内容 | 在原文档末尾或相应位置添加 | 创建 `文档_完整版.md` |
| 更新格式 | 修改原文档格式 | 创建 `文档_新格式.md` |
| 补充描述 | 在原文档中添加描述 | 创建 `文档_描述版.md` |

### 2. 修改前准备
在修改任何文档之前：
1. 读取原文档内容（使用Read工具）
2. 确认修改范围和位置
3. 确认修改不会破坏文档结构

### 3. 修改后验证
修改完成后必须验证：
1. 文档格式是否正确
2. 内容是否完整无遗漏
3. 是否符合项目规范

### 4. 例外情况
只有在以下情况才允许创建新文档：
- 原文档不存在（首次创建）
- 需要备份原文档（先备份再修改）
- 用户明确要求创建新版本

## 执行流程

```
修改文档前
    │
    ▼
读取原文档内容
    │
    ▼
确认修改范围
    │
    ▼
执行修改（使用Edit/SearchReplace工具）
    │
    ▼
验证修改结果
    │
    ▼
完成（禁止创建新文件）
```

## 违反规则的后果

1. **文件冗余**：项目中出现多个相似文件，难以管理
2. **版本混乱**：用户无法确定使用哪个版本
3. **维护成本**：需要同步更新多个文件
4. **协作困难**：团队成员使用不同版本

## 正确示例

```markdown
# 正确做法

## 修改前
原文档：6_最终测试用例_情绪小精灵_M8.md

## 修改后
直接修改 6_最终测试用例_情绪小精灵_M8.md，添加模块描述

## 错误做法

## 修改前
原文档：6_最终测试用例_情绪小精灵_M8.md

## 修改后
创建 6_最终测试用例_情绪小精灵_M8_新.md
（导致两个文件并存，用户困惑）
```

## 5. 特定文件类型规则

### 5.1 JMeter 相关文件组织规范

为确保 JMeter 测试资源的有序管理，所有 JMeter 相关文件必须按照以下目录结构存放：

#### 5.1.1 目录结构
所有 JMeter 文件必须位于 `e:\AI测试用例\接口测试\` 目录下，并按照功能划分为三个子目录：

| 文件类型 | 存放目录 | 示例路径 |
|---------|---------|---------|
| JMeter 脚本 (.jmx) | `e:\AI测试用例\接口测试\scripts\` | `e:\AI测试用例\接口测试\scripts\login_test.jmx` |
| 测试数据 (.csv) | `e:\AI测试用例\接口测试\data\` | `e:\AI测试用例\接口测试\data\login_test_data.csv` |
| 执行报告 (.html, .jtl) | `e:\AI测试用例\接口测试\reports\` | `e:\AI测试用例\接口测试\reports\login_test_results.jtl` |

#### 5.1.2 命名规范
- **脚本文件**: 采用 `功能名称_版本号.jmx` 格式，如 `login_v1.0.jmx`
- **数据文件**: 采用 `脚本名称_数据描述.csv` 格式，如 `login_test_data.csv`
- **报告文件**: 采用 `脚本名称_执行时间.后缀` 格式，如 `login_20260111_1430.jtl`

#### 5.1.3 修改规则
- 所有 JMeter 脚本修改必须在 `scripts` 目录下进行，禁止在其他目录创建副本
- 测试数据更新必须同步更新 `data` 目录下的对应文件，保持数据与脚本的一致性
- 执行报告生成后必须立即移动到 `reports` 目录，禁止在脚本或数据目录存放报告
- 定期清理过期报告，但保留最近3个月的测试结果

#### 5.1.4 例外情况
仅在以下情况允许临时存放：
- 脚本开发过程中的临时调试文件（需在测试完成后清理）
- 用户明确要求的特殊测试场景

## 6. 强制执行

**本规则为强制执行规则，所有修改操作必须遵循。**

违反此规则将导致：
- 文件管理混乱
- 用户体验下降
- 协作效率降低
- 维护成本增加

---

**创建时间**：2026-01-08
**最后更新**：2026-01-11
