# 📚 错题本自动调用规则

**重要：** 在分析任何文件或解决问题之前，必须先调用错题本！

## 核心原则

**只记录通用性问题！** 不是所有问题都需要记录到错题本。

### 通用性问题判断标准
✅ **应该记录**：
- 可复用：类似场景下可能再次遇到
- 有规律：不是偶然的、特定的问题
- 有价值：记录后能帮助快速定位和解决
- 可推广：解决方案可以应用到其他类似场景

❌ **不应该记录**：
- 一次性问题：特定场景下只出现一次
- 偶发性问题：没有规律可循
- 特定问题：只针对某个具体文件或内容
- 简单问题：太简单，不值得记录

## 执行流程

### 1. 问题诊断阶段
当用户报告问题或需要分析文件时：
1. **首先读取错题本**：`e:\AI测试用例\.trae\rules\错题本.md`
2. **搜索相关历史问题**：
   - 检查是否有相同或类似的问题
   - 查找相关的技术栈分类（如 Mermaid、VS Code、Markdown 等）
   - 重点关注最近记录的问题

### 2. 问题解决阶段
如果找到相关历史问题：
- ✅ 直接应用错题本中的解决方案
- ✅ 告知用户："这个问题在错题本中有记录，已按历史方案解决"
- ✅ 如果方案不适用，说明原因并记录新的解决方案

如果没有找到相关历史问题：
- 🔍 分析问题原因
- 💡 提供解决方案
- 📝 **判断是否为通用性问题**：
  - 如果是通用性：记录到错题本
  - 如果不是：直接解决，不记录

### 3. 记录更新阶段
只有通用性问题才需要记录到错题本：
1. 更新错题本中的统计信息（总问题数、已解决数、最后更新时间）
2. 确保新记录按时间倒序排列
3. 更新分类索引（如有新分类）

## 触发条件

以下情况必须调用错题本：
- 用户报告任何错误或问题
- 用户要求分析文件格式问题
- 用户要求优化代码或文档
- 遇到重复性技术问题

## 优势

- ⚡ 快速定位问题（基于历史经验）
- 🎯 避免重复踩坑
- 📈 持续积累知识
- 🔄 形成知识闭环
