# 6A工作流操作指南

## 📖 概述

本指南详细说明如何使用Trae AI助手执行6A工作流，从需求分析到测试用例生成的完整流程。

## 🎯 适用场景

- 需要为产品或功能生成测试用例
- 需要系统化的测试方案设计
- 需要生成可导入XMind的测试用例脑图

## 📋 6A工作流总览

```
阶段1: Align（需求分析）
    ↓
阶段2: Architect（测试架构设计）
    ↓
阶段3: Atomize（测试任务拆分）
    ↓
阶段4: Approve（测试方案审批）⭐ 需要用户确认
    ↓
阶段5: Automate（测试用例自动生成）
    ↓
阶段6: Assess（测试用例评估）
```

---

## 🚀 完整操作流程

### 准备工作

1. **准备需求文档**
   - 将PRD文档放入项目目录
   - 推荐路径：`e:\AI测试用例\需求PRD\项目名称.md`

2. **确认Trae配置**
   - 确认Trae已配置规则文件：`.trae/rules/project_rules.md`
   - 确认规则文件已更新（运行合并脚本）

---

## 阶段1: Align（需求分析）

### 操作步骤

1. **启动需求分析**
   - 对Trae说：`帮我分析这个PRD文档的需求，提取功能点和验收标准`
   - 或提供具体指令：`执行6A工作流的阶段1，分析需求文档：[文档路径]`

2. **Trae会自动执行**
   - 读取需求文档
   - 提取核心功能点
   - 提取业务规则
   - 提取验收标准
   - 提取边界条件
   - 创建需求分析文档

3. **生成的文档**
   - 路径：`docs/任务名/REQUIREMENT_ANALYSIS_任务名.md`
   - 内容包括：
     - 原始需求
     - 功能点列表
     - 业务规则明细
     - 验收标准
     - 疑问清单

4. **用户确认**
   - 查看生成的需求分析文档
   - 如有疑问，主动提出
   - 确认需求理解正确

### 示例指令

```
执行6A工作流阶段1，分析这个PRD文档：
e:\AI测试用例\需求PRD\情绪小精灵.md
```

---

## 阶段2: Architect（测试架构设计）

### 操作步骤

1. **启动测试架构设计**
   - 对Trae说：`执行6A工作流阶段2，设计测试架构`
   - Trae会基于阶段1的需求分析文档进行设计

2. **Trae会自动执行**
   - 确定测试策略（黑盒/白盒/灰盒）
   - 确定测试范围（功能/非功能/接口）
   - 设计测试维度覆盖
   - 建议测试工具
   - 设计测试用例组织结构

3. **生成的文档**
   - 路径：`docs/任务名/TEST_ARCHITECTURE_任务名.md`
   - 内容包括：
     - 测试策略
     - 测试范围
     - 测试维度覆盖
     - 测试工具建议
     - 测试用例组织结构

### 示例指令

```
执行6A工作流阶段2，基于需求分析文档设计测试架构
```

---

## 阶段3: Atomize（测试任务拆分）

### 操作步骤

1. **启动测试任务拆分**
   - 对Trae说：`执行6A工作流阶段3，拆分测试任务`
   - Trae会基于阶段2的测试架构进行拆分

2. **Trae会自动执行**
   - 模块拆分
   - 功能拆分
   - 为每个功能点分配测试维度
   - 建立功能点与测试维度的映射关系
   - 生成测试任务依赖图

3. **生成的文档**
   - 路径：`docs/任务名/TEST_TASKS_任务名.md`
   - 内容包括：
     - 模块拆分结果
     - 功能拆分结果
     - 功能点与测试维度映射表
     - 测试任务依赖图（mermaid格式）

### 示例指令

```
执行6A工作流阶段3，拆分测试任务并生成维度映射表
```

---

## 阶段4: Approve（测试方案审批）⭐ 关键节点

### 操作步骤

1. **启动方案审批**
   - 对Trae说：`执行6A工作流阶段4，生成测试方案审批文档`

2. **Trae会自动执行**
   - 汇总测试架构设计摘要
   - 汇总测试任务拆分情况
   - 生成需要确认的关键内容

3. **生成的文档**
   - 路径：`docs/任务名/APPROVAL_任务名.md`
   - 内容包括：
     - 测试架构设计摘要
     - 测试任务拆分情况
     - 需要确认的关键内容

4. **⭐ 用户必须确认**
   - Trae会展示审批文档内容
   - **必须明确回复"确认"**才能继续
   - 如有修改意见，Trae会调整后重新进入本阶段

### 必须确认的内容

- [ ] 是否覆盖所有需求？
- [ ] 测试维度是否完整？
- [ ] 测试策略是否可行？
- [ ] 验收标准是否明确？

### 示例指令

```
执行6A工作流阶段4，生成测试方案审批文档
```

**重要：** 只有在用户明确回复"确认"后，才能进入阶段5。

---

## 阶段5: Automate（测试用例自动生成）

### 操作步骤

1. **启动测试用例生成**
   - 对Trae说：`执行6A工作流阶段5，生成测试用例`
   - Trae会基于阶段4确认的方案生成测试用例

2. **Trae会自动执行**
   - 扫描并识别用户对前序文档的任何手动修改
   - 按测试任务顺序依次执行
   - 为每个功能点生成多维度测试用例
   - 生成结构化的checklist
   - 生成OPML格式的测试用例脑图
   - 记录生成进度

3. **生成的文档**
   - 测试用例文档：`docs/任务名/TEST_CASES_任务名.md`
   - OPML脑图文件：`docs/任务名/TEST_CASES_任务名.opml`
   - 进度文档：`docs/任务名/TEST_CASE_PROGRESS_任务名.md`

4. **测试用例规范**
   - 每个测试类型至少5项测试用例
   - 覆盖所有要求的测试维度
   - 按照测试类型排序：正例、反例、边界、异常、并发、鲁棒性、稳定性、操作体验性、兼容性、安全性
   - 涉及状态流转的，采用状态机建模驱动

### 示例指令

```
执行6A工作流阶段5，生成完整的测试用例和OPML文件
```

---

## 阶段6: Assess（测试用例评估）

### 操作步骤

1. **启动测试用例评估**
   - 对Trae说：`执行6A工作流阶段6，评估测试用例质量`

2. **Trae会自动执行**
   - 整体验收测试用例
   - 检查需求覆盖情况
   - 检查测试维度覆盖情况
   - 检查测试用例规范性
   - 验证OPML文件格式
   - 生成最终测试用例报告

3. **生成的文档**
   - 最终报告：`docs/任务名/FINAL_TEST_CASES_任务名.md`
   - 交付物：
     - OPML格式的测试用例脑图
     - 测试用例文档

4. **用户评估**
   - 查看最终测试用例报告
   - 评估测试用例质量
   - 决定是否需要进一步优化

### 示例指令

```
执行6A工作流阶段6，评估测试用例质量并生成最终报告
```

---

## 📦 导入XMind查看效果

### 操作步骤

1. **找到OPML文件**
   - 路径：`docs/任务名/TEST_CASES_任务名.opml`

2. **打开XMind**
   - 启动XMind软件

3. **导入OPML文件**
   - 方法1：直接双击OPML文件
   - 方法2：在XMind中选择"文件" → "导入" → "OPML"
   - 方法3：拖拽OPML文件到XMind窗口

4. **查看测试用例脑图**
   - 查看完整的测试用例结构
   - 检查层级关系
   - 确认测试用例完整性

### 常见问题

**问题1：OPML文件无法导入**
- 检查OPML文件格式是否正确
- 确认XML标签是否闭合
- 检查特殊字符是否正确转义

**问题2：中文显示乱码**
- 确认OPML文件编码为UTF-8
- 检查XMind版本是否支持中文

---

## ✅ 评估测试用例质量

### 评估维度

1. **需求覆盖度**
   - [ ] 所有功能点都有对应测试用例
   - [ ] 所有业务规则都有测试用例
   - [ ] 所有验收标准都有验证方式

2. **测试维度覆盖度**
   - [ ] 正例测试用例充足
   - [ ] 反例测试用例充足
   - [ ] 边界测试用例充足
   - [ ] 异常测试用例充足
   - [ ] 并发测试用例充足（如需要）
   - [ ] 鲁棒性测试用例充足（如需要）
   - [ ] 稳定性测试用例充足（如需要）
   - [ ] 操作体验性测试用例充足（如需要）
   - [ ] 兼容性测试用例充足（如需要）
   - [ ] 安全性测试用例充足（如需要）

3. **测试用例规范性**
   - [ ] 每个测试用例包含：测试类型、优先级、用户输入、系统预期行为、验证方式
   - [ ] 测试用例可执行、可追踪
   - [ ] 测试用例描述清晰无歧义

4. **OPML文件质量**
   - [ ] OPML文件可正常导入XMind
   - [ ] 层级结构清晰
   - [ ] 特殊字符正确转义

### 优化建议

如果发现测试用例需要优化，可以：
- 对Trae说：`优化测试用例，增加[具体需求]的测试用例`
- 对Trae说：`调整测试维度，增加[具体维度]的测试用例`
- 对Trae说：`优化测试用例描述，使其更清晰`

---

## 💡 最佳实践

### 1. 需求文档准备
- 确保需求文档完整、清晰
- 包含功能描述、业务规则、验收标准
- 提供必要的界面原型或流程图

### 2. 分阶段确认
- 每个阶段完成后，及时查看生成的文档
- 如有疑问，及时提出
- 阶段4必须明确确认才能继续

### 3. 测试用例优化
- 根据实际项目情况调整测试维度
- 根据优先级调整测试用例数量
- 根据团队能力调整测试用例复杂度

### 4. 文档管理
- 保留所有阶段生成的文档
- 记录测试用例的变更历史
- 建立测试用例库，便于复用

---

## 🎯 快速开始示例

### 完整指令序列

```
1. 执行6A工作流阶段1，分析需求文档：e:\AI测试用例\需求PRD\情绪小精灵.md

2. 执行6A工作流阶段2，设计测试架构

3. 执行6A工作流阶段3，拆分测试任务

4. 执行6A工作流阶段4，生成测试方案审批文档

5. 确认

6. 执行6A工作流阶段5，生成测试用例和OPML文件

7. 执行6A工作流阶段6，评估测试用例质量
```

### 一键执行（推荐）

```
使用6A工作流为这个PRD生成完整的测试用例：
e:\AI测试用例\需求PRD\情绪小精灵.md
```

Trae会自动执行完整的6A工作流，在阶段4时等待你的确认。

---

## 📞 常见问题

### Q1: 6A工作流需要多长时间？
A: 取决于需求文档的复杂度，一般需要10-30分钟。

### Q2: 可以跳过某个阶段吗？
A: 不建议。每个阶段都有其重要性，特别是阶段4的审批环节。

### Q3: 生成的测试用例可以直接使用吗？
A: 可以直接使用，但建议根据实际情况进行调整和优化。

### Q4: OPML文件可以导入其他工具吗？
A: 可以导入支持OPML格式的思维导图工具，如XMind、MindManager等。

### Q5: 如何复用测试用例？
A: 可以将生成的测试用例保存到测试用例库，下次类似项目可以复用。

---

## 📚 相关文档

- [6A工作流详细说明](.trae/rules/6A工作流.md)
- [OPML文件规范](.trae/rules/OPML规范.md)
- [错题本系统](.trae/rules/错题本规则.md)

---

**最后更新时间**：2026-01-05
